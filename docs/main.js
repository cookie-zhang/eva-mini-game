(()=>{var Ra={746:(J,E)=>{"use strict";var L=32;E.INT_BITS=L,E.INT_MAX=2147483647,E.INT_MIN=-1<<L-1,E.sign=function(p){return(p>0)-(p<0)},E.abs=function(p){var O=p>>L-1;return(p^O)-O},E.min=function(p,O){return O^(p^O)&-(p<O)},E.max=function(p,O){return p^(p^O)&-(p<O)},E.isPow2=function(p){return!(p&p-1)&&!!p},E.log2=function(p){var O,T;return O=(p>65535)<<4,p>>>=O,T=(p>255)<<3,p>>>=T,O|=T,T=(p>15)<<2,p>>>=T,O|=T,T=(p>3)<<1,p>>>=T,O|=T,O|p>>1},E.log10=function(p){return p>=1e9?9:p>=1e8?8:p>=1e7?7:p>=1e6?6:p>=1e5?5:p>=1e4?4:p>=1e3?3:p>=100?2:p>=10?1:0},E.popCount=function(p){return p=p-(p>>>1&1431655765),p=(p&858993459)+(p>>>2&858993459),(p+(p>>>4)&252645135)*16843009>>>24};function C(p){var O=32;return p&=-p,p&&O--,p&65535&&(O-=16),p&16711935&&(O-=8),p&252645135&&(O-=4),p&858993459&&(O-=2),p&1431655765&&(O-=1),O}E.countTrailingZeros=C,E.nextPow2=function(p){return p+=p===0,--p,p|=p>>>1,p|=p>>>2,p|=p>>>4,p|=p>>>8,p|=p>>>16,p+1},E.prevPow2=function(p){return p|=p>>>1,p|=p>>>2,p|=p>>>4,p|=p>>>8,p|=p>>>16,p-(p>>>1)},E.parity=function(p){return p^=p>>>16,p^=p>>>8,p^=p>>>4,p&=15,27030>>>p&1};var P=new Array(256);(function(p){for(var O=0;O<256;++O){var T=O,y=O,c=7;for(T>>>=1;T;T>>>=1)y<<=1,y|=T&1,--c;p[O]=y<<c&255}})(P),E.reverse=function(p){return P[p&255]<<24|P[p>>>8&255]<<16|P[p>>>16&255]<<8|P[p>>>24&255]},E.interleave2=function(p,O){return p&=65535,p=(p|p<<8)&16711935,p=(p|p<<4)&252645135,p=(p|p<<2)&858993459,p=(p|p<<1)&1431655765,O&=65535,O=(O|O<<8)&16711935,O=(O|O<<4)&252645135,O=(O|O<<2)&858993459,O=(O|O<<1)&1431655765,p|O<<1},E.deinterleave2=function(p,O){return p=p>>>O&1431655765,p=(p|p>>>1)&858993459,p=(p|p>>>2)&252645135,p=(p|p>>>4)&16711935,p=(p|p>>>16)&65535,p<<16>>16},E.interleave3=function(p,O,T){return p&=1023,p=(p|p<<16)&4278190335,p=(p|p<<8)&251719695,p=(p|p<<4)&3272356035,p=(p|p<<2)&1227133513,O&=1023,O=(O|O<<16)&4278190335,O=(O|O<<8)&251719695,O=(O|O<<4)&3272356035,O=(O|O<<2)&1227133513,p|=O<<1,T&=1023,T=(T|T<<16)&4278190335,T=(T|T<<8)&251719695,T=(T|T<<4)&3272356035,T=(T|T<<2)&1227133513,p|T<<2},E.deinterleave3=function(p,O){return p=p>>>O&1227133513,p=(p|p>>>2)&3272356035,p=(p|p>>>4)&251719695,p=(p|p>>>8)&4278190335,p=(p|p>>>16)&1023,p<<22>>22},E.nextCombination=function(p){var O=p|p-1;return O+1|(~O&-~O)-1>>>C(p)+1}},9187:J=>{"use strict";J.exports=E,J.exports.default=E;function E(F,X,B){B=B||2;var V=X&&X.length,j=V?X[0]*B:F.length,H=L(F,0,j,B,!0),Y=[];if(!H||H.next===H.prev)return Y;var $,re,te,se,ae,q,ne;if(V&&(H=c(F,X,H,B)),F.length>80*B){$=te=F[0],re=se=F[1];for(var ue=B;ue<j;ue+=B)ae=F[ue],q=F[ue+1],ae<$&&($=ae),q<re&&(re=q),ae>te&&(te=ae),q>se&&(se=q);ne=Math.max(te-$,se-re),ne=ne!==0?1/ne:0}return P(H,Y,B,$,re,ne),Y}function L(F,X,B,V,j){var H,Y;if(j===U(F,X,B,V)>0)for(H=X;H<B;H+=V)Y=N(H,F[H],F[H+1],Y);else for(H=B-V;H>=X;H-=V)Y=N(H,F[H],F[H+1],Y);return Y&&m(Y,Y.next)&&(K(Y),Y=Y.next),Y}function C(F,X){if(!F)return F;X||(X=F);var B=F,V;do if(V=!1,!B.steiner&&(m(B,B.next)||g(B.prev,B,B.next)===0)){if(K(B),B=X=B.prev,B===B.next)break;V=!0}else B=B.next;while(V||B!==X);return X}function P(F,X,B,V,j,H,Y){if(!!F){!Y&&H&&u(F,V,j,H);for(var $=F,re,te;F.prev!==F.next;){if(re=F.prev,te=F.next,H?O(F,V,j,H):p(F)){X.push(re.i/B),X.push(F.i/B),X.push(te.i/B),K(F),F=te.next,$=te.next;continue}if(F=te,F===$){Y?Y===1?(F=T(C(F),X,B),P(F,X,B,V,j,H,2)):Y===2&&y(F,X,B,V,j,H):P(C(F),X,B,V,j,H,1);break}}}}function p(F){var X=F.prev,B=F,V=F.next;if(g(X,B,V)>=0)return!1;for(var j=F.next.next;j!==F.prev;){if(_(X.x,X.y,B.x,B.y,V.x,V.y,j.x,j.y)&&g(j.prev,j,j.next)>=0)return!1;j=j.next}return!0}function O(F,X,B,V){var j=F.prev,H=F,Y=F.next;if(g(j,H,Y)>=0)return!1;for(var $=j.x<H.x?j.x<Y.x?j.x:Y.x:H.x<Y.x?H.x:Y.x,re=j.y<H.y?j.y<Y.y?j.y:Y.y:H.y<Y.y?H.y:Y.y,te=j.x>H.x?j.x>Y.x?j.x:Y.x:H.x>Y.x?H.x:Y.x,se=j.y>H.y?j.y>Y.y?j.y:Y.y:H.y>Y.y?H.y:Y.y,ae=i($,re,X,B,V),q=i(te,se,X,B,V),ne=F.prevZ,ue=F.nextZ;ne&&ne.z>=ae&&ue&&ue.z<=q;){if(ne!==F.prev&&ne!==F.next&&_(j.x,j.y,H.x,H.y,Y.x,Y.y,ne.x,ne.y)&&g(ne.prev,ne,ne.next)>=0||(ne=ne.prevZ,ue!==F.prev&&ue!==F.next&&_(j.x,j.y,H.x,H.y,Y.x,Y.y,ue.x,ue.y)&&g(ue.prev,ue,ue.next)>=0))return!1;ue=ue.nextZ}for(;ne&&ne.z>=ae;){if(ne!==F.prev&&ne!==F.next&&_(j.x,j.y,H.x,H.y,Y.x,Y.y,ne.x,ne.y)&&g(ne.prev,ne,ne.next)>=0)return!1;ne=ne.prevZ}for(;ue&&ue.z<=q;){if(ue!==F.prev&&ue!==F.next&&_(j.x,j.y,H.x,H.y,Y.x,Y.y,ue.x,ue.y)&&g(ue.prev,ue,ue.next)>=0)return!1;ue=ue.nextZ}return!0}function T(F,X,B){var V=F;do{var j=V.prev,H=V.next.next;!m(j,H)&&b(j,V,V.next,H)&&D(j,H)&&D(H,j)&&(X.push(j.i/B),X.push(V.i/B),X.push(H.i/B),K(V),K(V.next),V=F=H),V=V.next}while(V!==F);return C(V)}function y(F,X,B,V,j,H){var Y=F;do{for(var $=Y.next.next;$!==Y.prev;){if(Y.i!==$.i&&v(Y,$)){var re=M(Y,$);Y=C(Y,Y.next),re=C(re,re.next),P(Y,X,B,V,j,H),P(re,X,B,V,j,H);return}$=$.next}Y=Y.next}while(Y!==F)}function c(F,X,B,V){var j=[],H,Y,$,re,te;for(H=0,Y=X.length;H<Y;H++)$=X[H]*V,re=H<Y-1?X[H+1]*V:F.length,te=L(F,$,re,V,!1),te===te.next&&(te.steiner=!0),j.push(l(te));for(j.sort(f),H=0;H<j.length;H++)B=h(j[H],B),B=C(B,B.next);return B}function f(F,X){return F.x-X.x}function h(F,X){var B=o(F,X);if(!B)return X;var V=M(B,F),j=C(B,B.next);return C(V,V.next),X===B?j:X}function o(F,X){var B=X,V=F.x,j=F.y,H=-1/0,Y;do{if(j<=B.y&&j>=B.next.y&&B.next.y!==B.y){var $=B.x+(j-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if($<=V&&$>H){if(H=$,$===V){if(j===B.y)return B;if(j===B.next.y)return B.next}Y=B.x<B.next.x?B:B.next}}B=B.next}while(B!==X);if(!Y)return null;if(V===H)return Y;var re=Y,te=Y.x,se=Y.y,ae=1/0,q;B=Y;do V>=B.x&&B.x>=te&&V!==B.x&&_(j<se?V:H,j,te,se,j<se?H:V,j,B.x,B.y)&&(q=Math.abs(j-B.y)/(V-B.x),D(B,F)&&(q<ae||q===ae&&(B.x>Y.x||B.x===Y.x&&n(Y,B)))&&(Y=B,ae=q)),B=B.next;while(B!==re);return Y}function n(F,X){return g(F.prev,F,X.prev)<0&&g(X.next,F,F.next)<0}function u(F,X,B,V){var j=F;do j.z===null&&(j.z=i(j.x,j.y,X,B,V)),j.prevZ=j.prev,j.nextZ=j.next,j=j.next;while(j!==F);j.prevZ.nextZ=null,j.prevZ=null,a(j)}function a(F){var X,B,V,j,H,Y,$,re,te=1;do{for(B=F,F=null,H=null,Y=0;B;){for(Y++,V=B,$=0,X=0;X<te&&($++,V=V.nextZ,!!V);X++);for(re=te;$>0||re>0&&V;)$!==0&&(re===0||!V||B.z<=V.z)?(j=B,B=B.nextZ,$--):(j=V,V=V.nextZ,re--),H?H.nextZ=j:F=j,j.prevZ=H,H=j;B=V}H.nextZ=null,te*=2}while(Y>1);return F}function i(F,X,B,V,j){return F=32767*(F-B)*j,X=32767*(X-V)*j,F=(F|F<<8)&16711935,F=(F|F<<4)&252645135,F=(F|F<<2)&858993459,F=(F|F<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,F|X<<1}function l(F){var X=F,B=F;do(X.x<B.x||X.x===B.x&&X.y<B.y)&&(B=X),X=X.next;while(X!==F);return B}function _(F,X,B,V,j,H,Y,$){return(j-Y)*(X-$)-(F-Y)*(H-$)>=0&&(F-Y)*(V-$)-(B-Y)*(X-$)>=0&&(B-Y)*(H-$)-(j-Y)*(V-$)>=0}function v(F,X){return F.next.i!==X.i&&F.prev.i!==X.i&&!w(F,X)&&(D(F,X)&&D(X,F)&&A(F,X)&&(g(F.prev,F,X.prev)||g(F,X.prev,X))||m(F,X)&&g(F.prev,F,F.next)>0&&g(X.prev,X,X.next)>0)}function g(F,X,B){return(X.y-F.y)*(B.x-X.x)-(X.x-F.x)*(B.y-X.y)}function m(F,X){return F.x===X.x&&F.y===X.y}function b(F,X,B,V){var j=S(g(F,X,B)),H=S(g(F,X,V)),Y=S(g(B,V,F)),$=S(g(B,V,X));return!!(j!==H&&Y!==$||j===0&&I(F,B,X)||H===0&&I(F,V,X)||Y===0&&I(B,F,V)||$===0&&I(B,X,V))}function I(F,X,B){return X.x<=Math.max(F.x,B.x)&&X.x>=Math.min(F.x,B.x)&&X.y<=Math.max(F.y,B.y)&&X.y>=Math.min(F.y,B.y)}function S(F){return F>0?1:F<0?-1:0}function w(F,X){var B=F;do{if(B.i!==F.i&&B.next.i!==F.i&&B.i!==X.i&&B.next.i!==X.i&&b(B,B.next,F,X))return!0;B=B.next}while(B!==F);return!1}function D(F,X){return g(F.prev,F,F.next)<0?g(F,X,F.next)>=0&&g(F,F.prev,X)>=0:g(F,X,F.prev)<0||g(F,F.next,X)<0}function A(F,X){var B=F,V=!1,j=(F.x+X.x)/2,H=(F.y+X.y)/2;do B.y>H!=B.next.y>H&&B.next.y!==B.y&&j<(B.next.x-B.x)*(H-B.y)/(B.next.y-B.y)+B.x&&(V=!V),B=B.next;while(B!==F);return V}function M(F,X){var B=new G(F.i,F.x,F.y),V=new G(X.i,X.x,X.y),j=F.next,H=X.prev;return F.next=X,X.prev=F,B.next=j,j.prev=B,V.next=B,B.prev=V,H.next=V,V.prev=H,V}function N(F,X,B,V){var j=new G(F,X,B);return V?(j.next=V.next,j.prev=V,V.next.prev=j,V.next=j):(j.prev=j,j.next=j),j}function K(F){F.next.prev=F.prev,F.prev.next=F.next,F.prevZ&&(F.prevZ.nextZ=F.nextZ),F.nextZ&&(F.nextZ.prevZ=F.prevZ)}function G(F,X,B){this.i=F,this.x=X,this.y=B,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}E.deviation=function(F,X,B,V){var j=X&&X.length,H=j?X[0]*B:F.length,Y=Math.abs(U(F,0,H,B));if(j)for(var $=0,re=X.length;$<re;$++){var te=X[$]*B,se=$<re-1?X[$+1]*B:F.length;Y-=Math.abs(U(F,te,se,B))}var ae=0;for($=0;$<V.length;$+=3){var q=V[$]*B,ne=V[$+1]*B,ue=V[$+2]*B;ae+=Math.abs((F[q]-F[ue])*(F[ne+1]-F[q+1])-(F[q]-F[ne])*(F[ue+1]-F[q+1]))}return Y===0&&ae===0?0:Math.abs((ae-Y)/Y)};function U(F,X,B,V){for(var j=0,H=X,Y=B-V;H<B;H+=V)j+=(F[Y]-F[H])*(F[H+1]+F[Y+1]),Y=H;return j}E.flatten=function(F){for(var X=F[0][0].length,B={vertices:[],holes:[],dimensions:X},V=0,j=0;j<F.length;j++){for(var H=0;H<F[j].length;H++)for(var Y=0;Y<X;Y++)B.vertices.push(F[j][H][Y]);j>0&&(V+=F[j-1].length,B.holes.push(V))}return B}},6729:J=>{"use strict";var E=Object.prototype.hasOwnProperty,L="~";function C(){}Object.create&&(C.prototype=Object.create(null),new C().__proto__||(L=!1));function P(y,c,f){this.fn=y,this.context=c,this.once=f||!1}function p(y,c,f,h,o){if(typeof f!="function")throw new TypeError("The listener must be a function");var n=new P(f,h||y,o),u=L?L+c:c;return y._events[u]?y._events[u].fn?y._events[u]=[y._events[u],n]:y._events[u].push(n):(y._events[u]=n,y._eventsCount++),y}function O(y,c){--y._eventsCount==0?y._events=new C:delete y._events[c]}function T(){this._events=new C,this._eventsCount=0}T.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)E.call(f,h)&&c.push(L?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},T.prototype.listeners=function(c){var f=L?L+c:c,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var o=0,n=h.length,u=new Array(n);o<n;o++)u[o]=h[o].fn;return u},T.prototype.listenerCount=function(c){var f=L?L+c:c,h=this._events[f];return h?h.fn?1:h.length:0},T.prototype.emit=function(c,f,h,o,n,u){var a=L?L+c:c;if(!this._events[a])return!1;var i=this._events[a],l=arguments.length,_,v;if(i.fn){switch(i.once&&this.removeListener(c,i.fn,void 0,!0),l){case 1:return i.fn.call(i.context),!0;case 2:return i.fn.call(i.context,f),!0;case 3:return i.fn.call(i.context,f,h),!0;case 4:return i.fn.call(i.context,f,h,o),!0;case 5:return i.fn.call(i.context,f,h,o,n),!0;case 6:return i.fn.call(i.context,f,h,o,n,u),!0}for(v=1,_=new Array(l-1);v<l;v++)_[v-1]=arguments[v];i.fn.apply(i.context,_)}else{var g=i.length,m;for(v=0;v<g;v++)switch(i[v].once&&this.removeListener(c,i[v].fn,void 0,!0),l){case 1:i[v].fn.call(i[v].context);break;case 2:i[v].fn.call(i[v].context,f);break;case 3:i[v].fn.call(i[v].context,f,h);break;case 4:i[v].fn.call(i[v].context,f,h,o);break;default:if(!_)for(m=1,_=new Array(l-1);m<l;m++)_[m-1]=arguments[m];i[v].fn.apply(i[v].context,_)}}return!0},T.prototype.on=function(c,f,h){return p(this,c,f,h,!1)},T.prototype.once=function(c,f,h){return p(this,c,f,h,!0)},T.prototype.removeListener=function(c,f,h,o){var n=L?L+c:c;if(!this._events[n])return this;if(!f)return O(this,n),this;var u=this._events[n];if(u.fn)u.fn===f&&(!o||u.once)&&(!h||u.context===h)&&O(this,n);else{for(var a=0,i=[],l=u.length;a<l;a++)(u[a].fn!==f||o&&!u[a].once||h&&u[a].context!==h)&&i.push(u[a]);i.length?this._events[n]=i.length===1?i[0]:i:O(this,n)}return this},T.prototype.removeAllListeners=function(c){var f;return c?(f=L?L+c:c,this._events[f]&&O(this,f)):(this._events=new C,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=L,T.EventEmitter=T,J.exports=T},7561:function(J,E){var L,C,P;(function(p){var O=/iPhone/i,T=/iPod/i,y=/iPad/i,c=/\bAndroid(?:.+)Mobile\b/i,f=/Android/i,h=/\bAndroid(?:.+)SD4930UR\b/i,o=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,n=/Windows Phone/i,u=/\bWindows(?:.+)ARM\b/i,a=/BlackBerry/i,i=/BB10/i,l=/Opera Mini/i,_=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/Mobile(?:.+)Firefox\b/i;function g(b,I){return b.test(I)}function m(b){var I=b||(typeof navigator!="undefined"?navigator.userAgent:""),S=I.split("[FBAN");S[1]!==void 0&&(I=S[0]),(S=I.split("Twitter"))[1]!==void 0&&(I=S[0]);var w={apple:{phone:g(O,I)&&!g(n,I),ipod:g(T,I),tablet:!g(O,I)&&g(y,I)&&!g(n,I),device:(g(O,I)||g(T,I)||g(y,I))&&!g(n,I)},amazon:{phone:g(h,I),tablet:!g(h,I)&&g(o,I),device:g(h,I)||g(o,I)},android:{phone:!g(n,I)&&g(h,I)||!g(n,I)&&g(c,I),tablet:!g(n,I)&&!g(h,I)&&!g(c,I)&&(g(o,I)||g(f,I)),device:!g(n,I)&&(g(h,I)||g(o,I)||g(c,I)||g(f,I))||g(/\bokhttp\b/i,I)},windows:{phone:g(n,I),tablet:g(u,I),device:g(n,I)||g(u,I)},other:{blackberry:g(a,I),blackberry10:g(i,I),opera:g(l,I),firefox:g(v,I),chrome:g(_,I),device:g(a,I)||g(i,I)||g(l,I)||g(v,I)||g(_,I)}};return w.any=w.apple.device||w.android.device||w.windows.device||w.other.device,w.phone=w.apple.phone||w.android.phone||w.windows.phone,w.tablet=w.apple.tablet||w.android.tablet||w.windows.tablet,w}J.exports&&typeof window=="undefined"?J.exports=m:J.exports&&typeof window!="undefined"?(J.exports=m(),J.exports.isMobile=m):(C=[],L=p.isMobile=m(),P=typeof L=="function"?L.apply(E,C):L,P!==void 0&&(J.exports=P))})(this)},2940:(J,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var L=function(){function T(y,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,c,f){return c&&T(y.prototype,c),f&&T(y,f),y}}();function C(T,y){if(!(T instanceof y))throw new TypeError("Cannot call a class as a function")}var P=function(){function T(y,c,f){c===void 0&&(c=!1),C(this,T),this._fn=y,this._once=c,this._thisArg=f,this._next=this._prev=this._owner=null}return L(T,[{key:"detach",value:function(){return this._owner===null?!1:(this._owner.detach(this),!0)}}]),T}();function p(T,y){return T._head?(T._tail._next=y,y._prev=T._tail,T._tail=y):(T._head=y,T._tail=y),y._owner=T,y}var O=function(){function T(){C(this,T),this._head=this._tail=void 0}return L(T,[{key:"handlers",value:function(){var c=arguments.length<=0||arguments[0]===void 0?!1:arguments[0],f=this._head;if(c)return!!f;for(var h=[];f;)h.push(f),f=f._next;return h}},{key:"has",value:function(c){if(!(c instanceof P))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return c._owner===this}},{key:"dispatch",value:function(){var c=this._head;if(!c)return!1;for(;c;)c._once&&this.detach(c),c._fn.apply(c._thisArg,arguments),c=c._next;return!0}},{key:"add",value:function(c){var f=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof c!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return p(this,new P(c,!1,f))}},{key:"once",value:function(c){var f=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof c!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return p(this,new P(c,!0,f))}},{key:"detach",value:function(c){if(!(c instanceof P))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return c._owner!==this?this:(c._prev&&(c._prev._next=c._next),c._next&&(c._next._prev=c._prev),c===this._head?(this._head=c._next,c._next===null&&(this._tail=null)):c===this._tail&&(this._tail=c._prev,this._tail._next=null),c._owner=null,this)}},{key:"detachAll",value:function(){var c=this._head;if(!c)return this;for(this._head=this._tail=null;c;)c._owner=null,c=c._next;return this}}]),T}();O.MiniSignalBinding=P,E.default=O,J.exports=E.default},7418:J=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var E=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;function P(O){if(O==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(O)}function p(){try{if(!Object.assign)return!1;var O=new String("abc");if(O[5]="de",Object.getOwnPropertyNames(O)[0]==="5")return!1;for(var T={},y=0;y<10;y++)T["_"+String.fromCharCode(y)]=y;var c=Object.getOwnPropertyNames(T).map(function(h){return T[h]});if(c.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(h){f[h]=h}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}J.exports=p()?Object.assign:function(O,T){for(var y,c=P(O),f,h=1;h<arguments.length;h++){y=Object(arguments[h]);for(var o in y)L.call(y,o)&&(c[o]=y[o]);if(E){f=E(y);for(var n=0;n<f.length;n++)C.call(y,f[n])&&(c[f[n]]=y[f[n]])}}return c}},9571:J=>{"use strict";function E(L,C){if(!!L){C=C||{};for(var P={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},p=P.parser[C.strictMode?"strict":"loose"].exec(L),O={},T=14;T--;)O[P.key[T]]=p[T]||"";return O[P.q.name]={},O[P.key[12]].replace(P.q.parser,function(y,c,f){c&&(O[P.q.name][c]=f)}),O}}J.exports=E},6470:J=>{"use strict";function E(p){if(typeof p!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(p))}function L(p,O){for(var T="",y=0,c=-1,f=0,h,o=0;o<=p.length;++o){if(o<p.length)h=p.charCodeAt(o);else{if(h===47)break;h=47}if(h===47){if(!(c===o-1||f===1))if(c!==o-1&&f===2){if(T.length<2||y!==2||T.charCodeAt(T.length-1)!==46||T.charCodeAt(T.length-2)!==46){if(T.length>2){var n=T.lastIndexOf("/");if(n!==T.length-1){n===-1?(T="",y=0):(T=T.slice(0,n),y=T.length-1-T.lastIndexOf("/")),c=o,f=0;continue}}else if(T.length===2||T.length===1){T="",y=0,c=o,f=0;continue}}O&&(T.length>0?T+="/..":T="..",y=2)}else T.length>0?T+="/"+p.slice(c+1,o):T=p.slice(c+1,o),y=o-c-1;c=o,f=0}else h===46&&f!==-1?++f:f=-1}return T}function C(p,O){var T=O.dir||O.root,y=O.base||(O.name||"")+(O.ext||"");return T?T===O.root?T+y:T+p+y:y}var P={resolve:function(){for(var O="",T=!1,y,c=arguments.length-1;c>=-1&&!T;c--){var f;c>=0?f=arguments[c]:(y===void 0&&(y=process.cwd()),f=y),E(f),f.length!==0&&(O=f+"/"+O,T=f.charCodeAt(0)===47)}return O=L(O,!T),T?O.length>0?"/"+O:"/":O.length>0?O:"."},normalize:function(O){if(E(O),O.length===0)return".";var T=O.charCodeAt(0)===47,y=O.charCodeAt(O.length-1)===47;return O=L(O,!T),O.length===0&&!T&&(O="."),O.length>0&&y&&(O+="/"),T?"/"+O:O},isAbsolute:function(O){return E(O),O.length>0&&O.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var O,T=0;T<arguments.length;++T){var y=arguments[T];E(y),y.length>0&&(O===void 0?O=y:O+="/"+y)}return O===void 0?".":P.normalize(O)},relative:function(O,T){if(E(O),E(T),O===T||(O=P.resolve(O),T=P.resolve(T),O===T))return"";for(var y=1;y<O.length&&O.charCodeAt(y)===47;++y);for(var c=O.length,f=c-y,h=1;h<T.length&&T.charCodeAt(h)===47;++h);for(var o=T.length,n=o-h,u=f<n?f:n,a=-1,i=0;i<=u;++i){if(i===u){if(n>u){if(T.charCodeAt(h+i)===47)return T.slice(h+i+1);if(i===0)return T.slice(h+i)}else f>u&&(O.charCodeAt(y+i)===47?a=i:i===0&&(a=0));break}var l=O.charCodeAt(y+i),_=T.charCodeAt(h+i);if(l!==_)break;l===47&&(a=i)}var v="";for(i=y+a+1;i<=c;++i)(i===c||O.charCodeAt(i)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+T.slice(h+a):(h+=a,T.charCodeAt(h)===47&&++h,T.slice(h))},_makeLong:function(O){return O},dirname:function(O){if(E(O),O.length===0)return".";for(var T=O.charCodeAt(0),y=T===47,c=-1,f=!0,h=O.length-1;h>=1;--h)if(T=O.charCodeAt(h),T===47){if(!f){c=h;break}}else f=!1;return c===-1?y?"/":".":y&&c===1?"//":O.slice(0,c)},basename:function(O,T){if(T!==void 0&&typeof T!="string")throw new TypeError('"ext" argument must be a string');E(O);var y=0,c=-1,f=!0,h;if(T!==void 0&&T.length>0&&T.length<=O.length){if(T.length===O.length&&T===O)return"";var o=T.length-1,n=-1;for(h=O.length-1;h>=0;--h){var u=O.charCodeAt(h);if(u===47){if(!f){y=h+1;break}}else n===-1&&(f=!1,n=h+1),o>=0&&(u===T.charCodeAt(o)?--o==-1&&(c=h):(o=-1,c=n))}return y===c?c=n:c===-1&&(c=O.length),O.slice(y,c)}else{for(h=O.length-1;h>=0;--h)if(O.charCodeAt(h)===47){if(!f){y=h+1;break}}else c===-1&&(f=!1,c=h+1);return c===-1?"":O.slice(y,c)}},extname:function(O){E(O);for(var T=-1,y=0,c=-1,f=!0,h=0,o=O.length-1;o>=0;--o){var n=O.charCodeAt(o);if(n===47){if(!f){y=o+1;break}continue}c===-1&&(f=!1,c=o+1),n===46?T===-1?T=o:h!==1&&(h=1):T!==-1&&(h=-1)}return T===-1||c===-1||h===0||h===1&&T===c-1&&T===y+1?"":O.slice(T,c)},format:function(O){if(O===null||typeof O!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof O);return C("/",O)},parse:function(O){E(O);var T={root:"",dir:"",base:"",ext:"",name:""};if(O.length===0)return T;var y=O.charCodeAt(0),c=y===47,f;c?(T.root="/",f=1):f=0;for(var h=-1,o=0,n=-1,u=!0,a=O.length-1,i=0;a>=f;--a){if(y=O.charCodeAt(a),y===47){if(!u){o=a+1;break}continue}n===-1&&(u=!1,n=a+1),y===46?h===-1?h=a:i!==1&&(i=1):h!==-1&&(i=-1)}return h===-1||n===-1||i===0||i===1&&h===n-1&&h===o+1?n!==-1&&(o===0&&c?T.base=T.name=O.slice(1,n):T.base=T.name=O.slice(o,n)):(o===0&&c?(T.name=O.slice(1,h),T.base=O.slice(1,n)):(T.name=O.slice(o,h),T.base=O.slice(o,n)),T.ext=O.slice(h,n)),o>0?T.dir=O.slice(0,o-1):c&&(T.dir="/"),T},sep:"/",delimiter:":",win32:null,posix:null};P.posix=P,J.exports=P},4804:J=>{var E=new ArrayBuffer(0),L=function(C,P,p,O){this.gl=C,this.buffer=C.createBuffer(),this.type=P||C.ARRAY_BUFFER,this.drawType=O||C.STATIC_DRAW,this.data=E,p&&this.upload(p),this._updateID=0};L.prototype.upload=function(C,P,p){p||this.bind();var O=this.gl;C=C||this.data,P=P||0,this.data.byteLength>=C.byteLength?O.bufferSubData(this.type,P,C):O.bufferData(this.type,C,this.drawType),this.data=C},L.prototype.bind=function(){var C=this.gl;C.bindBuffer(this.type,this.buffer)},L.createVertexBuffer=function(C,P,p){return new L(C,C.ARRAY_BUFFER,P,p)},L.createIndexBuffer=function(C,P,p){return new L(C,C.ELEMENT_ARRAY_BUFFER,P,p)},L.create=function(C,P,p,O){return new L(C,P,p,O)},L.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},J.exports=L},5569:(J,E,L)=>{var C=L(2184),P=function(p,O,T){this.gl=p,this.framebuffer=p.createFramebuffer(),this.stencil=null,this.texture=null,this.width=O||100,this.height=T||100};P.prototype.enableTexture=function(p){var O=this.gl;this.texture=p||new C(O),this.texture.bind(),this.bind(),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,this.texture.texture,0)},P.prototype.enableStencil=function(){if(!this.stencil){var p=this.gl;this.stencil=p.createRenderbuffer(),p.bindRenderbuffer(p.RENDERBUFFER,this.stencil),p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,this.stencil),p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_STENCIL,this.width,this.height)}},P.prototype.clear=function(p,O,T,y){this.bind();var c=this.gl;c.clearColor(p,O,T,y),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},P.prototype.bind=function(){var p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,this.framebuffer)},P.prototype.unbind=function(){var p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,null)},P.prototype.resize=function(p,O){var T=this.gl;this.width=p,this.height=O,this.texture&&this.texture.uploadData(null,p,O),this.stencil&&(T.bindRenderbuffer(T.RENDERBUFFER,this.stencil),T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_STENCIL,p,O))},P.prototype.destroy=function(){var p=this.gl;this.texture&&this.texture.destroy(),p.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},P.createRGBA=function(p,O,T,y){var c=C.fromData(p,null,O,T);c.enableNearestScaling(),c.enableWrapClamp();var f=new P(p,O,T);return f.enableTexture(c),f.unbind(),f},P.createFloat32=function(p,O,T,y){var c=new C.fromData(p,y,O,T);c.enableNearestScaling(),c.enableWrapClamp();var f=new P(p,O,T);return f.enableTexture(c),f.unbind(),f},J.exports=P},6949:(J,E,L)=>{var C=L(9160),P=L(3545),p=L(4164),O=L(4800),T=L(8770),y=function(c,f,h,o,n){this.gl=c,o&&(f=O(f,o),h=O(h,o)),this.program=C(c,f,h,n),this.attributes=P(c,this.program),this.uniformData=p(c,this.program),this.uniforms=T(c,this.uniformData)};y.prototype.bind=function(){return this.gl.useProgram(this.program),this},y.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var c=this.gl;c.deleteProgram(this.program)},J.exports=y},2184:J=>{var E=function(C,P,p,O,T){this.gl=C,this.texture=C.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=P||-1,this.height=p||-1,this.format=O||C.RGBA,this.type=T||C.UNSIGNED_BYTE};E.prototype.upload=function(C){this.bind();var P=this.gl;P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var p=C.videoWidth||C.width,O=C.videoHeight||C.height;O!==this.height||p!==this.width?P.texImage2D(P.TEXTURE_2D,0,this.format,this.format,this.type,C):P.texSubImage2D(P.TEXTURE_2D,0,0,0,this.format,this.type,C),this.width=p,this.height=O};var L=!1;E.prototype.uploadData=function(C,P,p){this.bind();var O=this.gl;if(C instanceof Float32Array){if(!L){var T=O.getExtension("OES_texture_float");if(T)L=!0;else throw new Error("floating point textures not available")}this.type=O.FLOAT}else this.type=this.type||O.UNSIGNED_BYTE;O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),P!==this.width||p!==this.height?O.texImage2D(O.TEXTURE_2D,0,this.format,P,p,0,this.format,this.type,C||null):O.texSubImage2D(O.TEXTURE_2D,0,0,0,P,p,this.format,this.type,C||null),this.width=P,this.height=p},E.prototype.bind=function(C){var P=this.gl;C!==void 0&&P.activeTexture(P.TEXTURE0+C),P.bindTexture(P.TEXTURE_2D,this.texture)},E.prototype.unbind=function(){var C=this.gl;C.bindTexture(C.TEXTURE_2D,null)},E.prototype.minFilter=function(C){var P=this.gl;this.bind(),this.mipmap?P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,C?P.LINEAR_MIPMAP_LINEAR:P.NEAREST_MIPMAP_NEAREST):P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,C?P.LINEAR:P.NEAREST)},E.prototype.magFilter=function(C){var P=this.gl;this.bind(),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,C?P.LINEAR:P.NEAREST)},E.prototype.enableMipmap=function(){var C=this.gl;this.bind(),this.mipmap=!0,C.generateMipmap(C.TEXTURE_2D)},E.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},E.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},E.prototype.enableWrapClamp=function(){var C=this.gl;this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE)},E.prototype.enableWrapRepeat=function(){var C=this.gl;this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.REPEAT),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.REPEAT)},E.prototype.enableWrapMirrorRepeat=function(){var C=this.gl;this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.MIRRORED_REPEAT),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.MIRRORED_REPEAT)},E.prototype.destroy=function(){var C=this.gl;C.deleteTexture(this.texture)},E.fromSource=function(C,P,p){var O=new E(C);return O.premultiplyAlpha=p||!1,O.upload(P),O},E.fromData=function(C,P,p,O){var T=new E(C);return T.uploadData(P,p,O),T},J.exports=E},1756:(J,E,L)=>{var C=L(3784);function P(p,O){if(this.nativeVaoExtension=null,P.FORCE_NATIVE||(this.nativeVaoExtension=p.getExtension("OES_vertex_array_object")||p.getExtension("MOZ_OES_vertex_array_object")||p.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=O,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var T=p.getParameter(p.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(T),attribState:new Array(T)}}this.gl=p,this.attributes=[],this.indexBuffer=null,this.dirty=!1}P.prototype.constructor=P,J.exports=P,P.FORCE_NATIVE=!1,P.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},P.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},P.prototype.activate=function(){for(var p=this.gl,O=null,T=0;T<this.attributes.length;T++){var y=this.attributes[T];O!==y.buffer&&(y.buffer.bind(),O=y.buffer),p.vertexAttribPointer(y.attribute.location,y.attribute.size,y.type||p.FLOAT,y.normalized||!1,y.stride||0,y.start||0)}return C(p,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},P.prototype.addAttribute=function(p,O,T,y,c,f){return this.attributes.push({buffer:p,attribute:O,location:O.location,type:T||this.gl.FLOAT,normalized:y||!1,stride:c||0,start:f||0}),this.dirty=!0,this},P.prototype.addIndex=function(p){return this.indexBuffer=p,this.dirty=!0,this},P.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},P.prototype.draw=function(p,O,T){var y=this.gl;return this.indexBuffer?y.drawElements(p,O||this.indexBuffer.data.length,y.UNSIGNED_SHORT,(T||0)*2):y.drawArrays(p,T,O||this.getSize()),this},P.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},P.prototype.getSize=function(){var p=this.attributes[0];return p.buffer.data.length/(p.stride/4||p.attribute.size)}},5957:J=>{var E=function(L,C){var P=L.getContext("webgl",C)||L.getContext("experimental-webgl",C);if(!P)throw new Error("This browser does not support webGL. Try using the canvas renderer");return P};J.exports=E},3070:(J,E,L)=>{var C={createContext:L(5957),setVertexAttribArrays:L(3784),GLBuffer:L(4804),GLFramebuffer:L(5569),GLShader:L(6949),GLTexture:L(2184),VertexArrayObject:L(1756),shader:L(3743)};J.exports&&(J.exports=C),typeof window!="undefined"&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=C)},3784:J=>{var E=function(L,C,P){var p;if(P){var O=P.tempAttribState,T=P.attribState;for(p=0;p<O.length;p++)O[p]=!1;for(p=0;p<C.length;p++)O[C[p].attribute.location]=!0;for(p=0;p<T.length;p++)T[p]!==O[p]&&(T[p]=O[p],P.attribState[p]?L.enableVertexAttribArray(p):L.disableVertexAttribArray(p))}else for(p=0;p<C.length;p++){var y=C[p];L.enableVertexAttribArray(y.attribute.location)}};J.exports=E},9160:J=>{var E=function(C,P,p,O){var T=L(C,C.VERTEX_SHADER,P),y=L(C,C.FRAGMENT_SHADER,p),c=C.createProgram();if(C.attachShader(c,T),C.attachShader(c,y),O)for(var f in O)C.bindAttribLocation(c,O[f],f);return C.linkProgram(c),C.getProgramParameter(c,C.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",C.getProgramParameter(c,C.VALIDATE_STATUS)),console.error("gl.getError()",C.getError()),C.getProgramInfoLog(c)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",C.getProgramInfoLog(c)),C.deleteProgram(c),c=null),C.deleteShader(T),C.deleteShader(y),c},L=function(C,P,p){var O=C.createShader(P);return C.shaderSource(O,p),C.compileShader(O),C.getShaderParameter(O,C.COMPILE_STATUS)?O:(console.log(C.getShaderInfoLog(O)),null)};J.exports=E},4365:J=>{var E=function(C,P){switch(C){case"float":return 0;case"vec2":return new Float32Array(2*P);case"vec3":return new Float32Array(3*P);case"vec4":return new Float32Array(4*P);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*P);case"ivec3":return new Int32Array(3*P);case"ivec4":return new Int32Array(4*P);case"bool":return!1;case"bvec2":return L(2*P);case"bvec3":return L(3*P);case"bvec4":return L(4*P);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},L=function(C){for(var P=new Array(C),p=0;p<P.length;p++)P[p]=!1;return P};J.exports=E},3545:(J,E,L)=>{var C=L(5092),P=L(1850),p=function(T,y){for(var c={},f=T.getProgramParameter(y,T.ACTIVE_ATTRIBUTES),h=0;h<f;h++){var o=T.getActiveAttrib(y,h),n=C(T,o.type);c[o.name]={type:n,size:P(n),location:T.getAttribLocation(y,o.name),pointer:O}}return c},O=function(T,y,c,f){gl.vertexAttribPointer(this.location,this.size,T||gl.FLOAT,y||!1,c||0,f||0)};J.exports=p},4164:(J,E,L)=>{var C=L(5092),P=L(4365),p=function(O,T){for(var y={},c=O.getProgramParameter(T,O.ACTIVE_UNIFORMS),f=0;f<c;f++){var h=O.getActiveUniform(T,f),o=h.name.replace(/\[.*?\]/,""),n=C(O,h.type);y[o]={type:n,size:h.size,location:O.getUniformLocation(T,o),value:P(n,h.size)}}return y};J.exports=p},8770:J=>{var E=function(T,y){var c={data:{}};c.gl=T;for(var f=Object.keys(y),h=0;h<f.length;h++){var o=f[h],n=o.split("."),u=n[n.length-1],a=O(n,c),i=y[o];a.data[u]=i,a.gl=T,Object.defineProperty(a,u,{get:L(u),set:p(u,i)})}return c},L=function(T){return function(){return this.data[T].value}},C={float:function(y,c,f){y.uniform1f(c,f)},vec2:function(y,c,f){y.uniform2f(c,f[0],f[1])},vec3:function(y,c,f){y.uniform3f(c,f[0],f[1],f[2])},vec4:function(y,c,f){y.uniform4f(c,f[0],f[1],f[2],f[3])},int:function(y,c,f){y.uniform1i(c,f)},ivec2:function(y,c,f){y.uniform2i(c,f[0],f[1])},ivec3:function(y,c,f){y.uniform3i(c,f[0],f[1],f[2])},ivec4:function(y,c,f){y.uniform4i(c,f[0],f[1],f[2],f[3])},bool:function(y,c,f){y.uniform1i(c,f)},bvec2:function(y,c,f){y.uniform2i(c,f[0],f[1])},bvec3:function(y,c,f){y.uniform3i(c,f[0],f[1],f[2])},bvec4:function(y,c,f){y.uniform4i(c,f[0],f[1],f[2],f[3])},mat2:function(y,c,f){y.uniformMatrix2fv(c,!1,f)},mat3:function(y,c,f){y.uniformMatrix3fv(c,!1,f)},mat4:function(y,c,f){y.uniformMatrix4fv(c,!1,f)},sampler2D:function(y,c,f){y.uniform1i(c,f)}},P={float:function(y,c,f){y.uniform1fv(c,f)},vec2:function(y,c,f){y.uniform2fv(c,f)},vec3:function(y,c,f){y.uniform3fv(c,f)},vec4:function(y,c,f){y.uniform4fv(c,f)},int:function(y,c,f){y.uniform1iv(c,f)},ivec2:function(y,c,f){y.uniform2iv(c,f)},ivec3:function(y,c,f){y.uniform3iv(c,f)},ivec4:function(y,c,f){y.uniform4iv(c,f)},bool:function(y,c,f){y.uniform1iv(c,f)},bvec2:function(y,c,f){y.uniform2iv(c,f)},bvec3:function(y,c,f){y.uniform3iv(c,f)},bvec4:function(y,c,f){y.uniform4iv(c,f)},sampler2D:function(y,c,f){y.uniform1iv(c,f)}};function p(T,y){return function(c){this.data[T].value=c;var f=this.data[T].location;y.size===1?C[y.type](this.gl,f,c):P[y.type](this.gl,f,c)}}function O(T,y){for(var c=y,f=0;f<T.length-1;f++){var h=c[T[f]]||{data:{}};c[T[f]]=h,c=h}return c}J.exports=E},3743:(J,E,L)=>{J.exports={compileProgram:L(9160),defaultValue:L(4365),extractAttributes:L(3545),extractUniforms:L(4164),generateUniformAccessObject:L(8770),setPrecision:L(4800),mapSize:L(1850),mapType:L(5092)}},1850:J=>{var E=function(C){return L[C]},L={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};J.exports=E},5092:J=>{var E=function(P,p){if(!L){var O=Object.keys(C);L={};for(var T=0;T<O.length;++T){var y=O[T];L[P[y]]=C[y]}}return L[p]},L=null,C={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};J.exports=E},4800:J=>{var E=function(L,C){return L.substring(0,9)!=="precision"?"precision "+C+` float;
`+L:L};J.exports=E},3466:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2321),P=f(C),p=L(7561),O=c(p),T=L(6388),y=c(T);function c(b){return b&&b.__esModule?b:{default:b}}function f(b){if(b&&b.__esModule)return b;var I={};if(b!=null)for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(I[S]=b[S]);return I.default=b,I}function h(b,I){if(!(b instanceof I))throw new TypeError("Cannot call a class as a function")}P.utils.mixins.delayMixin(P.DisplayObject.prototype,y.default);var o=9,n=100,u=0,a=0,i=2,l=1,_=-1e3,v=-1e3,g=2,m=function(){function b(I){h(this,b),(O.default.tablet||O.default.phone)&&!navigator.isCocoonJS&&this.createTouchHook();var S=document.createElement("div");S.style.width=n+"px",S.style.height=n+"px",S.style.position="absolute",S.style.top=u+"px",S.style.left=a+"px",S.style.zIndex=i,this.div=S,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=I,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return b.prototype.createTouchHook=function(){var S=this,w=document.createElement("button");w.style.width=l+"px",w.style.height=l+"px",w.style.position="absolute",w.style.top=_+"px",w.style.left=v+"px",w.style.zIndex=g,w.style.backgroundColor="#FF0000",w.title="HOOK DIV",w.addEventListener("focus",function(){S.isMobileAccessabillity=!0,S.activate(),document.body.removeChild(w)}),document.body.appendChild(w)},b.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},b.prototype.deactivate=function(){!this.isActive||this.isMobileAccessabillity||(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},b.prototype.updateAccessibleObjects=function(S){if(!!S.visible){S.accessible&&S.interactive&&(S._accessibleActive||this.addChild(S),S.renderId=this.renderId);for(var w=S.children,D=0;D<w.length;D++)this.updateAccessibleObjects(w[D])}},b.prototype.update=function(){if(!!this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var S=this.renderer.view.getBoundingClientRect(),w=S.width/this.renderer.width,D=S.height/this.renderer.height,A=this.div;A.style.left=S.left+"px",A.style.top=S.top+"px",A.style.width=this.renderer.width+"px",A.style.height=this.renderer.height+"px";for(var M=0;M<this.children.length;M++){var N=this.children[M];if(N.renderId!==this.renderId)N._accessibleActive=!1,P.utils.removeItems(this.children,M,1),this.div.removeChild(N._accessibleDiv),this.pool.push(N._accessibleDiv),N._accessibleDiv=null,M--,this.children.length===0&&this.deactivate();else{A=N._accessibleDiv;var K=N.hitArea,G=N.worldTransform;N.hitArea?(A.style.left=(G.tx+K.x*G.a)*w+"px",A.style.top=(G.ty+K.y*G.d)*D+"px",A.style.width=K.width*G.a*w+"px",A.style.height=K.height*G.d*D+"px"):(K=N.getBounds(),this.capHitArea(K),A.style.left=K.x*w+"px",A.style.top=K.y*D+"px",A.style.width=K.width*w+"px",A.style.height=K.height*D+"px",A.title!==N.accessibleTitle&&N.accessibleTitle!==null&&(A.title=N.accessibleTitle),A.getAttribute("aria-label")!==N.accessibleHint&&N.accessibleHint!==null&&A.setAttribute("aria-label",N.accessibleHint))}}this.renderId++}},b.prototype.capHitArea=function(S){S.x<0&&(S.width+=S.x,S.x=0),S.y<0&&(S.height+=S.y,S.y=0),S.x+S.width>this.renderer.width&&(S.width=this.renderer.width-S.x),S.y+S.height>this.renderer.height&&(S.height=this.renderer.height-S.y)},b.prototype.addChild=function(S){var w=this.pool.pop();w||(w=document.createElement("button"),w.style.width=n+"px",w.style.height=n+"px",w.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",w.style.position="absolute",w.style.zIndex=i,w.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?w.setAttribute("aria-live","off"):w.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?w.setAttribute("aria-relevant","additions"):w.setAttribute("aria-relevant","text"),w.addEventListener("click",this._onClick.bind(this)),w.addEventListener("focus",this._onFocus.bind(this)),w.addEventListener("focusout",this._onFocusOut.bind(this))),S.accessibleTitle&&S.accessibleTitle!==null?w.title=S.accessibleTitle:(!S.accessibleHint||S.accessibleHint===null)&&(w.title="displayObject "+S.tabIndex),S.accessibleHint&&S.accessibleHint!==null&&w.setAttribute("aria-label",S.accessibleHint),S._accessibleActive=!0,S._accessibleDiv=w,w.displayObject=S,this.children.push(S),this.div.appendChild(S._accessibleDiv),S._accessibleDiv.tabIndex=S.tabIndex},b.prototype._onClick=function(S){var w=this.renderer.plugins.interaction;w.dispatchEvent(S.target.displayObject,"click",w.eventData)},b.prototype._onFocus=function(S){S.target.getAttribute("aria-live","off")||S.target.setAttribute("aria-live","assertive");var w=this.renderer.plugins.interaction;w.dispatchEvent(S.target.displayObject,"mouseover",w.eventData)},b.prototype._onFocusOut=function(S){S.target.getAttribute("aria-live","off")||S.target.setAttribute("aria-live","polite");var w=this.renderer.plugins.interaction;w.dispatchEvent(S.target.displayObject,"mouseout",w.eventData)},b.prototype._onKeyDown=function(S){S.keyCode===o&&this.activate()},b.prototype._onMouseMove=function(S){S.movementX===0&&S.movementY===0||this.deactivate()},b.prototype.destroy=function(){this.div=null;for(var S=0;S<this.children.length;S++)this.children[S].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},b}();E.default=m,P.WebGLRenderer.registerPlugin("accessibility",m),P.CanvasRenderer.registerPlugin("accessibility",m)},6388:(J,E)=>{"use strict";E.__esModule=!0,E.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},6807:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(6388);Object.defineProperty(E,"accessibleTarget",{enumerable:!0,get:function(){return p(C).default}});var P=L(3466);Object.defineProperty(E,"AccessibilityManager",{enumerable:!0,get:function(){return p(P).default}});function p(O){return O&&O.__esModule?O:{default:O}}},5328:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function u(a,i){for(var l=0;l<i.length;l++){var _=i[l];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(a,_.key,_)}}return function(a,i,l){return i&&u(a.prototype,i),l&&u(a,l),a}}(),P=L(4981),p=L(1822),O=h(p),T=L(938),y=L(7505),c=h(y),f=L(4633);function h(u){return u&&u.__esModule?u:{default:u}}function o(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}var n=function(){function u(a,i,l,_,v){o(this,u),typeof a=="number"&&(a=Object.assign({width:a,height:i||c.default.RENDER_OPTIONS.height,forceCanvas:!!_,sharedTicker:!!v},l)),this._options=a=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},a),this.renderer=(0,P.autoDetectRenderer)(a),this.stage=new O.default,this._ticker=null,this.ticker=a.sharedTicker?T.shared:new T.Ticker,a.autoStart&&this.start()}return u.prototype.render=function(){this.renderer.render(this.stage)},u.prototype.stop=function(){this._ticker.stop()},u.prototype.start=function(){this._ticker.start()},u.prototype.destroy=function(i,l){if(this._ticker){var _=this._ticker;this.ticker=null,_.destroy()}this.stage.destroy(l),this.stage=null,this.renderer.destroy(i),this.renderer=null,this._options=null},C(u,[{key:"ticker",set:function(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,f.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),u}();E.default=n},2916:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(3070),P=L(7505),p=O(P);function O(o){return o&&o.__esModule?o:{default:o}}function T(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function y(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:o}function c(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}function f(o,n){if(o instanceof Array){if(o[0].substring(0,9)!=="precision"){var u=o.slice(0);return u.unshift("precision "+n+" float;"),u}}else if(o.trim().substring(0,9)!=="precision")return"precision "+n+` float;
`+o;return o}var h=function(o){c(n,o);function n(u,a,i,l,_){return T(this,n),y(this,o.call(this,u,f(a,_||p.default.PRECISION_VERTEX),f(i,_||p.default.PRECISION_FRAGMENT),void 0,l))}return n}(C.GLShader);E.default=h},4981:(J,E,L)=>{"use strict";E.__esModule=!0,E.autoDetectRenderer=h;var C=L(7768),P=f(C),p=L(4695),O=c(p),T=L(7648),y=c(T);function c(o){return o&&o.__esModule?o:{default:o}}function f(o){if(o&&o.__esModule)return o;var n={};if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u]);return n.default=o,n}function h(o,n,u,a){var i=o&&o.forceCanvas;return a!==void 0&&(i=a),!i&&P.isWebGLSupported()?new y.default(o,n,u):new O.default(o,n,u)}},4633:(J,E)=>{"use strict";E.__esModule=!0;var L=E.VERSION="4.8.9",C=E.PI_2=Math.PI*2,P=E.RAD_TO_DEG=180/Math.PI,p=E.DEG_TO_RAD=Math.PI/180,O=E.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},T=E.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},y=E.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},c=E.SCALE_MODES={LINEAR:0,NEAREST:1},f=E.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},h=E.GC_MODES={AUTO:0,MANUAL:1},o=E.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,n=E.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,u=E.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,a=E.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},i=E.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},l=E.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},_=E.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},v=E.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},1392:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(892);function P(O,T){if(!(O instanceof T))throw new TypeError("Cannot call a class as a function")}var p=function(){function O(){P(this,O),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return O.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},O.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},O.prototype.getRectangle=function(y){return this.minX>this.maxX||this.minY>this.maxY?C.Rectangle.EMPTY:(y=y||new C.Rectangle(0,0,1,1),y.x=this.minX,y.y=this.minY,y.width=this.maxX-this.minX,y.height=this.maxY-this.minY,y)},O.prototype.addPoint=function(y){this.minX=Math.min(this.minX,y.x),this.maxX=Math.max(this.maxX,y.x),this.minY=Math.min(this.minY,y.y),this.maxY=Math.max(this.maxY,y.y)},O.prototype.addQuad=function(y){var c=this.minX,f=this.minY,h=this.maxX,o=this.maxY,n=y[0],u=y[1];c=n<c?n:c,f=u<f?u:f,h=n>h?n:h,o=u>o?u:o,n=y[2],u=y[3],c=n<c?n:c,f=u<f?u:f,h=n>h?n:h,o=u>o?u:o,n=y[4],u=y[5],c=n<c?n:c,f=u<f?u:f,h=n>h?n:h,o=u>o?u:o,n=y[6],u=y[7],c=n<c?n:c,f=u<f?u:f,h=n>h?n:h,o=u>o?u:o,this.minX=c,this.minY=f,this.maxX=h,this.maxY=o},O.prototype.addFrame=function(y,c,f,h,o){var n=y.worldTransform,u=n.a,a=n.b,i=n.c,l=n.d,_=n.tx,v=n.ty,g=this.minX,m=this.minY,b=this.maxX,I=this.maxY,S=u*c+i*f+_,w=a*c+l*f+v;g=S<g?S:g,m=w<m?w:m,b=S>b?S:b,I=w>I?w:I,S=u*h+i*f+_,w=a*h+l*f+v,g=S<g?S:g,m=w<m?w:m,b=S>b?S:b,I=w>I?w:I,S=u*c+i*o+_,w=a*c+l*o+v,g=S<g?S:g,m=w<m?w:m,b=S>b?S:b,I=w>I?w:I,S=u*h+i*o+_,w=a*h+l*o+v,g=S<g?S:g,m=w<m?w:m,b=S>b?S:b,I=w>I?w:I,this.minX=g,this.minY=m,this.maxX=b,this.maxY=I},O.prototype.addVertices=function(y,c,f,h){for(var o=y.worldTransform,n=o.a,u=o.b,a=o.c,i=o.d,l=o.tx,_=o.ty,v=this.minX,g=this.minY,m=this.maxX,b=this.maxY,I=f;I<h;I+=2){var S=c[I],w=c[I+1],D=n*S+a*w+l,A=i*w+u*S+_;v=D<v?D:v,g=A<g?A:g,m=D>m?D:m,b=A>b?A:b}this.minX=v,this.minY=g,this.maxX=m,this.maxY=b},O.prototype.addBounds=function(y){var c=this.minX,f=this.minY,h=this.maxX,o=this.maxY;this.minX=y.minX<c?y.minX:c,this.minY=y.minY<f?y.minY:f,this.maxX=y.maxX>h?y.maxX:h,this.maxY=y.maxY>o?y.maxY:o},O.prototype.addBoundsMask=function(y,c){var f=y.minX>c.minX?y.minX:c.minX,h=y.minY>c.minY?y.minY:c.minY,o=y.maxX<c.maxX?y.maxX:c.maxX,n=y.maxY<c.maxY?y.maxY:c.maxY;if(f<=o&&h<=n){var u=this.minX,a=this.minY,i=this.maxX,l=this.maxY;this.minX=f<u?f:u,this.minY=h<a?h:a,this.maxX=o>i?o:i,this.maxY=n>l?n:l}},O.prototype.addBoundsArea=function(y,c){var f=y.minX>c.x?y.minX:c.x,h=y.minY>c.y?y.minY:c.y,o=y.maxX<c.x+c.width?y.maxX:c.x+c.width,n=y.maxY<c.y+c.height?y.maxY:c.y+c.height;if(f<=o&&h<=n){var u=this.minX,a=this.minY,i=this.maxX,l=this.maxY;this.minX=f<u?f:u,this.minY=h<a?h:a,this.maxX=o>i?o:i,this.maxY=n>l?n:l}},O}();E.default=p},1822:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function o(n,u){for(var a=0;a<u.length;a++){var i=u[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,u,a){return u&&o(n.prototype,u),a&&o(n,a),n}}(),P=L(7768),p=L(141),O=T(p);function T(o){return o&&o.__esModule?o:{default:o}}function y(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function c(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:o}function f(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}var h=function(o){f(n,o);function n(){y(this,n);var u=c(this,o.call(this));return u.children=[],u}return n.prototype.onChildrenChange=function(){},n.prototype.addChild=function(a){var i=arguments.length;if(i>1)for(var l=0;l<i;l++)this.addChild(arguments[l]);else a.parent&&a.parent.removeChild(a),a.parent=this,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),a.emit("added",this);return a},n.prototype.addChildAt=function(a,i){if(i<0||i>this.children.length)throw new Error(a+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return a.parent&&a.parent.removeChild(a),a.parent=this,a.transform._parentID=-1,this.children.splice(i,0,a),this._boundsID++,this.onChildrenChange(i),a.emit("added",this),a},n.prototype.swapChildren=function(a,i){if(a!==i){var l=this.getChildIndex(a),_=this.getChildIndex(i);this.children[l]=i,this.children[_]=a,this.onChildrenChange(l<_?l:_)}},n.prototype.getChildIndex=function(a){var i=this.children.indexOf(a);if(i===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return i},n.prototype.setChildIndex=function(a,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var l=this.getChildIndex(a);(0,P.removeItems)(this.children,l,1),this.children.splice(i,0,a),this.onChildrenChange(i)},n.prototype.getChildAt=function(a){if(a<0||a>=this.children.length)throw new Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]},n.prototype.removeChild=function(a){var i=arguments.length;if(i>1)for(var l=0;l<i;l++)this.removeChild(arguments[l]);else{var _=this.children.indexOf(a);if(_===-1)return null;a.parent=null,a.transform._parentID=-1,(0,P.removeItems)(this.children,_,1),this._boundsID++,this.onChildrenChange(_),a.emit("removed",this)}return a},n.prototype.removeChildAt=function(a){var i=this.getChildAt(a);return i.parent=null,i.transform._parentID=-1,(0,P.removeItems)(this.children,a,1),this._boundsID++,this.onChildrenChange(a),i.emit("removed",this),i},n.prototype.removeChildren=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments[1],l=a,_=typeof i=="number"?i:this.children.length,v=_-l,g=void 0;if(v>0&&v<=_){g=this.children.splice(l,v);for(var m=0;m<g.length;++m)g[m].parent=null,g[m].transform&&(g[m].transform._parentID=-1);this._boundsID++,this.onChildrenChange(a);for(var b=0;b<g.length;++b)g[b].emit("removed",this);return g}else if(v===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},n.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var a=0,i=this.children.length;a<i;++a){var l=this.children[a];l.visible&&l.updateTransform()}},n.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var a=0;a<this.children.length;a++){var i=this.children[a];!i.visible||!i.renderable||(i.calculateBounds(),i._mask?(i._mask.calculateBounds(),this._bounds.addBoundsMask(i._bounds,i._mask._bounds)):i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds))}this._lastBoundsID=this._boundsID},n.prototype._calculateBounds=function(){},n.prototype.renderWebGL=function(a){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(a);else{this._renderWebGL(a);for(var i=0,l=this.children.length;i<l;++i)this.children[i].renderWebGL(a)}},n.prototype.renderAdvancedWebGL=function(a){a.flush();var i=this._filters,l=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var _=0;_<i.length;_++)i[_].enabled&&this._enabledFilters.push(i[_]);this._enabledFilters.length&&a.filterManager.pushFilter(this,this._enabledFilters)}l&&a.maskManager.pushMask(this,this._mask),this._renderWebGL(a);for(var v=0,g=this.children.length;v<g;v++)this.children[v].renderWebGL(a);a.flush(),l&&a.maskManager.popMask(this,this._mask),i&&this._enabledFilters&&this._enabledFilters.length&&a.filterManager.popFilter()},n.prototype._renderWebGL=function(a){},n.prototype._renderCanvas=function(a){},n.prototype.renderCanvas=function(a){if(!(!this.visible||this.worldAlpha<=0||!this.renderable)){this._mask&&a.maskManager.pushMask(this._mask),this._renderCanvas(a);for(var i=0,l=this.children.length;i<l;++i)this.children[i].renderCanvas(a);this._mask&&a.maskManager.popMask(a)}},n.prototype.destroy=function(a){o.prototype.destroy.call(this);var i=typeof a=="boolean"?a:a&&a.children,l=this.removeChildren(0,this.children.length);if(i)for(var _=0;_<l.length;++_)l[_].destroy(a)},C(n,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(a){var i=this.getLocalBounds().width;i!==0?this.scale.x=a/i:this.scale.x=1,this._width=a}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var i=this.getLocalBounds().height;i!==0?this.scale.y=a/i:this.scale.y=1,this._height=a}}]),n}(O.default);E.default=h,h.prototype.containerUpdateTransform=h.prototype.updateTransform},141:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function m(b,I){for(var S=0;S<I.length;S++){var w=I[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,I,S){return I&&m(b.prototype,I),S&&m(b,S),b}}(),P=L(5323),p=i(P),O=L(4633),T=L(7505),y=i(T),c=L(9921),f=i(c),h=L(8397),o=i(h),n=L(1392),u=i(n),a=L(892);function i(m){return m&&m.__esModule?m:{default:m}}function l(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function _(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function v(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var g=function(m){v(b,m);function b(){l(this,b);var I=_(this,m.call(this)),S=y.default.TRANSFORM_MODE===O.TRANSFORM_MODE.STATIC?f.default:o.default;return I.tempDisplayObjectParent=null,I.transform=new S,I.alpha=1,I.visible=!0,I.renderable=!0,I.parent=null,I.worldAlpha=1,I.filterArea=null,I._filters=null,I._enabledFilters=null,I._bounds=new u.default,I._boundsID=0,I._lastBoundsID=-1,I._boundsRect=null,I._localBoundsRect=null,I._mask=null,I._destroyed=!1,I}return b.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},b.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},b.prototype.getBounds=function(S,w){return S||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),w||(this._boundsRect||(this._boundsRect=new a.Rectangle),w=this._boundsRect),this._bounds.getRectangle(w)},b.prototype.getLocalBounds=function(S){var w=this.transform,D=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,S||(this._localBoundsRect||(this._localBoundsRect=new a.Rectangle),S=this._localBoundsRect);var A=this.getBounds(!1,S);return this.parent=D,this.transform=w,A},b.prototype.toGlobal=function(S,w){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return D||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(S,w)},b.prototype.toLocal=function(S,w,D,A){return w&&(S=w.toGlobal(S,D,A)),A||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(S,D)},b.prototype.renderWebGL=function(S){},b.prototype.renderCanvas=function(S){},b.prototype.setParent=function(S){if(!S||!S.addChild)throw new Error("setParent: Argument must be a Container");return S.addChild(this),S},b.prototype.setTransform=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,N=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,K=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,G=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,U=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0;return this.position.x=S,this.position.y=w,this.scale.x=D||1,this.scale.y=A||1,this.rotation=M,this.skew.x=N,this.skew.y=K,this.pivot.x=G,this.pivot.y=U,this},b.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},C(b,[{key:"_tempDisplayObjectParent",get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new b),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(S){this.transform.position.x=S}},{key:"y",get:function(){return this.position.y},set:function(S){this.transform.position.y=S}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(S){this.transform.position.copy(S)}},{key:"scale",get:function(){return this.transform.scale},set:function(S){this.transform.scale.copy(S)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(S){this.transform.pivot.copy(S)}},{key:"skew",get:function(){return this.transform.skew},set:function(S){this.transform.skew.copy(S)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(S){this.transform.rotation=S}},{key:"worldVisible",get:function(){var S=this;do{if(!S.visible)return!1;S=S.parent}while(S);return!0}},{key:"mask",get:function(){return this._mask},set:function(S){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=S,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(S){this._filters=S&&S.slice()}}]),b}(p.default);E.default=g,g.prototype.displayObjectUpdateTransform=g.prototype.updateTransform},8397:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function o(n,u){for(var a=0;a<u.length;a++){var i=u[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,u,a){return u&&o(n.prototype,u),a&&o(n,a),n}}(),P=L(892),p=L(229),O=T(p);function T(o){return o&&o.__esModule?o:{default:o}}function y(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function c(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:o}function f(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}var h=function(o){f(n,o);function n(){y(this,n);var u=c(this,o.call(this));return u.position=new P.Point(0,0),u.scale=new P.Point(1,1),u.skew=new P.ObservablePoint(u.updateSkew,u,0,0),u.pivot=new P.Point(0,0),u._rotation=0,u._cx=1,u._sx=0,u._cy=0,u._sy=1,u}return n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},n.prototype.updateLocalTransform=function(){var a=this.localTransform;a.a=this._cx*this.scale.x,a.b=this._sx*this.scale.x,a.c=this._cy*this.scale.y,a.d=this._sy*this.scale.y,a.tx=this.position.x-(this.pivot.x*a.a+this.pivot.y*a.c),a.ty=this.position.y-(this.pivot.x*a.b+this.pivot.y*a.d)},n.prototype.updateTransform=function(a){var i=this.localTransform;i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d);var l=a.worldTransform,_=this.worldTransform;_.a=i.a*l.a+i.b*l.c,_.b=i.a*l.b+i.b*l.d,_.c=i.c*l.a+i.d*l.c,_.d=i.c*l.b+i.d*l.d,_.tx=i.tx*l.a+i.ty*l.c+l.tx,_.ty=i.tx*l.b+i.ty*l.d+l.ty,this._worldID++},n.prototype.setFromMatrix=function(a){a.decompose(this)},C(n,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a,this.updateSkew()}}]),n}(O.default);E.default=h},229:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(892);function P(O,T){if(!(O instanceof T))throw new TypeError("Cannot call a class as a function")}var p=function(){function O(){P(this,O),this.worldTransform=new C.Matrix,this.localTransform=new C.Matrix,this._worldID=0,this._parentID=0}return O.prototype.updateLocalTransform=function(){},O.prototype.updateTransform=function(y){var c=y.worldTransform,f=this.worldTransform,h=this.localTransform;f.a=h.a*c.a+h.b*c.c,f.b=h.a*c.b+h.b*c.d,f.c=h.c*c.a+h.d*c.c,f.d=h.c*c.b+h.d*c.d,f.tx=h.tx*c.a+h.ty*c.c+c.tx,f.ty=h.tx*c.b+h.ty*c.d+c.ty,this._worldID++},O}();E.default=p,p.prototype.updateWorldTransform=p.prototype.updateTransform,p.IDENTITY=new p},9921:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function o(n,u){for(var a=0;a<u.length;a++){var i=u[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,u,a){return u&&o(n.prototype,u),a&&o(n,a),n}}(),P=L(892),p=L(229),O=T(p);function T(o){return o&&o.__esModule?o:{default:o}}function y(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function c(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:o}function f(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}var h=function(o){f(n,o);function n(){y(this,n);var u=c(this,o.call(this));return u.position=new P.ObservablePoint(u.onChange,u,0,0),u.scale=new P.ObservablePoint(u.onChange,u,1,1),u.pivot=new P.ObservablePoint(u.onChange,u,0,0),u.skew=new P.ObservablePoint(u.updateSkew,u,0,0),u._rotation=0,u._cx=1,u._sx=0,u._cy=0,u._sy=1,u._localID=0,u._currentLocalID=0,u}return n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},n.prototype.updateLocalTransform=function(){var a=this.localTransform;this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale._x,a.b=this._sx*this.scale._x,a.c=this._cy*this.scale._y,a.d=this._sy*this.scale._y,a.tx=this.position._x-(this.pivot._x*a.a+this.pivot._y*a.c),a.ty=this.position._y-(this.pivot._x*a.b+this.pivot._y*a.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(a){var i=this.localTransform;if(this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale._x,i.b=this._sx*this.scale._x,i.c=this._cy*this.scale._y,i.d=this._sy*this.scale._y,i.tx=this.position._x-(this.pivot._x*i.a+this.pivot._y*i.c),i.ty=this.position._y-(this.pivot._x*i.b+this.pivot._y*i.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==a._worldID){var l=a.worldTransform,_=this.worldTransform;_.a=i.a*l.a+i.b*l.c,_.b=i.a*l.b+i.b*l.d,_.c=i.c*l.a+i.d*l.c,_.d=i.c*l.b+i.d*l.d,_.tx=i.tx*l.a+i.ty*l.c+l.tx,_.ty=i.tx*l.b+i.ty*l.d+l.ty,this._parentID=a._worldID,this._worldID++}},n.prototype.setFromMatrix=function(a){a.decompose(this),this._localID++},C(n,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation!==a&&(this._rotation=a,this.updateSkew())}}]),n}(O.default);E.default=h},7240:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(1822),P=b(C),p=L(869),O=b(p),T=L(2631),y=b(T),c=L(8277),f=b(c),h=L(8391),o=b(h),n=L(892),u=L(7768),a=L(4633),i=L(1392),l=b(i),_=L(3328),v=b(_),g=L(4695),m=b(g);function b(U){return U&&U.__esModule?U:{default:U}}function I(U,F){if(!(U instanceof F))throw new TypeError("Cannot call a class as a function")}function S(U,F){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:U}function w(U,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);U.prototype=Object.create(F&&F.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(U,F):U.__proto__=F)}var D=void 0,A=new n.Matrix,M=new n.Point,N=new Float32Array(4),K=new Float32Array(4),G=function(U){w(F,U);function F(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;I(this,F);var B=S(this,U.call(this));return B.fillAlpha=1,B.lineWidth=0,B.nativeLines=X,B.lineColor=0,B.lineAlignment=.5,B.graphicsData=[],B.tint=16777215,B._prevTint=16777215,B.blendMode=a.BLEND_MODES.NORMAL,B.currentPath=null,B._webGL={},B.isMask=!1,B.boundsPadding=0,B._localBounds=new l.default,B.dirty=0,B.fastRectDirty=-1,B.clearDirty=0,B.boundsDirty=-1,B.cachedSpriteDirty=!1,B._spriteRect=null,B._fastRect=!1,B._prevRectTint=null,B._prevRectFillColor=null,B}return F.prototype.clone=function(){var B=new F;B.renderable=this.renderable,B.fillAlpha=this.fillAlpha,B.lineWidth=this.lineWidth,B.lineColor=this.lineColor,B.lineAlignment=this.lineAlignment,B.tint=this.tint,B.blendMode=this.blendMode,B.isMask=this.isMask,B.boundsPadding=this.boundsPadding,B.dirty=0,B.cachedSpriteDirty=this.cachedSpriteDirty;for(var V=0;V<this.graphicsData.length;++V)B.graphicsData.push(this.graphicsData[V].clone());return B.currentPath=B.graphicsData[B.graphicsData.length-1],B.updateLocalBounds(),B},F.prototype._quadraticCurveLength=function(B,V,j,H,Y,$){var re=B-2*j+Y,te=V-2*H+$,se=2*j-2*B,ae=2*H-2*V,q=4*(re*re+te*te),ne=4*(re*se+te*ae),ue=se*se+ae*ae,Ee=2*Math.sqrt(q+ne+ue),de=Math.sqrt(q),Le=2*q*de,Fe=2*Math.sqrt(ue),ge=ne/de;return(Le*Ee+de*ne*(Ee-Fe)+(4*ue*q-ne*ne)*Math.log((2*de+ge+Ee)/(ge+Fe)))/(4*Le)},F.prototype._bezierCurveLength=function(B,V,j,H,Y,$,re,te){for(var se=10,ae=0,q=0,ne=0,ue=0,Ee=0,de=0,Le=0,Fe=0,ge=0,fe=0,Ge=0,Je=B,st=V,rt=1;rt<=se;++rt)q=rt/se,ne=q*q,ue=ne*q,Ee=1-q,de=Ee*Ee,Le=de*Ee,Fe=Le*B+3*de*q*j+3*Ee*ne*Y+ue*re,ge=Le*V+3*de*q*H+3*Ee*ne*$+ue*te,fe=Je-Fe,Ge=st-ge,Je=Fe,st=ge,ae+=Math.sqrt(fe*fe+Ge*Ge);return ae},F.prototype._segmentsCount=function(B){var V=Math.ceil(B/F.CURVES.maxLength);return V<F.CURVES.minSegments?V=F.CURVES.minSegments:V>F.CURVES.maxSegments&&(V=F.CURVES.maxSegments),V},F.prototype.lineStyle=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;if(this.lineWidth=B,this.lineColor=V,this.lineAlpha=j,this.lineAlignment=H,this.currentPath)if(this.currentPath.shape.points.length){var Y=new n.Polygon(this.currentPath.shape.points.slice(-2));Y.closed=!1,this.drawShape(Y)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},F.prototype.moveTo=function(B,V){var j=new n.Polygon([B,V]);return j.closed=!1,this.drawShape(j),this},F.prototype.lineTo=function(B,V){var j=this.currentPath.shape.points,H=j[j.length-2],Y=j[j.length-1];return(H!==B||Y!==V)&&(j.push(B,V),this.dirty++),this},F.prototype.quadraticCurveTo=function(B,V,j,H){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var Y=this.currentPath.shape.points,$=0,re=0;Y.length===0&&this.moveTo(0,0);for(var te=Y[Y.length-2],se=Y[Y.length-1],ae=F.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(te,se,B,V,j,H)):20,q=1;q<=ae;++q){var ne=q/ae;$=te+(B-te)*ne,re=se+(V-se)*ne,Y.push($+(B+(j-B)*ne-$)*ne,re+(V+(H-V)*ne-re)*ne)}return this.dirty++,this},F.prototype.bezierCurveTo=function(B,V,j,H,Y,$){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var re=this.currentPath.shape.points,te=re[re.length-2],se=re[re.length-1];re.length-=2;var ae=F.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(te,se,B,V,j,H,Y,$)):20;return(0,v.default)(te,se,B,V,j,H,Y,$,ae,re),this.dirty++,this},F.prototype.arcTo=function(B,V,j,H,Y){this.currentPath?this.currentPath.shape.points.length===0&&this.currentPath.shape.points.push(B,V):this.moveTo(B,V);var $=this.currentPath.shape.points,re=$[$.length-2],te=$[$.length-1],se=te-V,ae=re-B,q=H-V,ne=j-B,ue=Math.abs(se*ne-ae*q);if(ue<1e-8||Y===0)($[$.length-2]!==B||$[$.length-1]!==V)&&$.push(B,V);else{var Ee=se*se+ae*ae,de=q*q+ne*ne,Le=se*q+ae*ne,Fe=Y*Math.sqrt(Ee)/ue,ge=Y*Math.sqrt(de)/ue,fe=Fe*Le/Ee,Ge=ge*Le/de,Je=Fe*ne+ge*ae,st=Fe*q+ge*se,rt=ae*(ge+fe),dt=se*(ge+fe),Lt=ne*(Fe+Ge),nt=q*(Fe+Ge),Yt=Math.atan2(dt-st,rt-Je),Lr=Math.atan2(nt-st,Lt-Je);this.arc(Je+B,st+V,Y,Yt,Lr,ae*q>ne*se)}return this.dirty++,this},F.prototype.arc=function(B,V,j,H,Y){var $=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(H===Y)return this;!$&&Y<=H?Y+=a.PI_2:$&&H<=Y&&(H+=a.PI_2);var re=Y-H,te=F.CURVES.adaptive?this._segmentsCount(Math.abs(re)*j):Math.ceil(Math.abs(re)/a.PI_2)*40;if(re===0)return this;var se=B+Math.cos(H)*j,ae=V+Math.sin(H)*j,q=this.currentPath?this.currentPath.shape.points:null;if(q){var ne=Math.abs(q[q.length-2]-se),ue=Math.abs(q[q.length-1]-ae);ne<.001&&ue<.001||q.push(se,ae)}else this.moveTo(se,ae),q=this.currentPath.shape.points;for(var Ee=re/(te*2),de=Ee*2,Le=Math.cos(Ee),Fe=Math.sin(Ee),ge=te-1,fe=ge%1/ge,Ge=0;Ge<=ge;++Ge){var Je=Ge+fe*Ge,st=Ee+H+de*Je,rt=Math.cos(st),dt=-Math.sin(st);q.push((Le*rt+Fe*dt)*j+B,(Le*-dt+Fe*rt)*j+V)}return this.dirty++,this},F.prototype.beginFill=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.filling=!0,this.fillColor=B,this.fillAlpha=V,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},F.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},F.prototype.drawRect=function(B,V,j,H){return this.drawShape(new n.Rectangle(B,V,j,H)),this},F.prototype.drawRoundedRect=function(B,V,j,H,Y){return this.drawShape(new n.RoundedRectangle(B,V,j,H,Y)),this},F.prototype.drawCircle=function(B,V,j){return this.drawShape(new n.Circle(B,V,j)),this},F.prototype.drawEllipse=function(B,V,j,H){return this.drawShape(new n.Ellipse(B,V,j,H)),this},F.prototype.drawPolygon=function(B){var V=B,j=!0;if(V instanceof n.Polygon&&(j=V.closed,V=V.points),!Array.isArray(V)){V=new Array(arguments.length);for(var H=0;H<V.length;++H)V[H]=arguments[H]}var Y=new n.Polygon(V);return Y.closed=j,this.drawShape(Y),this},F.prototype.drawStar=function(B,V,j,H,Y){var $=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;Y=Y||H/2;for(var re=-1*Math.PI/2+$,te=j*2,se=a.PI_2/te,ae=[],q=0;q<te;q++){var ne=q%2?Y:H,ue=q*se+re;ae.push(B+ne*Math.cos(ue),V+ne*Math.sin(ue))}return this.drawPolygon(ae)},F.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},F.prototype.isFastRect=function(){return this.graphicsData.length===1&&this.graphicsData[0].shape.type===a.SHAPES.RECT&&!this.graphicsData[0].lineWidth},F.prototype._renderWebGL=function(B){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(B):(B.setObjectRenderer(B.plugins.graphics),B.plugins.graphics.render(this))},F.prototype._renderSpriteRect=function(B){var V=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new o.default(new y.default(y.default.WHITE)));var j=this._spriteRect,H=this.graphicsData[0].fillColor;if(this.tint===16777215)j.tint=H;else if(this.tint!==this._prevRectTint||H!==this._prevRectFillColor){var Y=N,$=K;(0,u.hex2rgb)(H,Y),(0,u.hex2rgb)(this.tint,$),Y[0]*=$[0],Y[1]*=$[1],Y[2]*=$[2],j.tint=(0,u.rgb2hex)(Y),this._prevRectTint=this.tint,this._prevRectFillColor=H}j.alpha=this.graphicsData[0].fillAlpha,j.worldAlpha=this.worldAlpha*j.alpha,j.blendMode=this.blendMode,j._texture._frame.width=V.width,j._texture._frame.height=V.height,j.transform.worldTransform=this.transform.worldTransform,j.anchor.set(-V.x/V.width,-V.y/V.height),j._onAnchorUpdate(),j._renderWebGL(B)},F.prototype._renderCanvas=function(B){this.isMask!==!0&&B.plugins.graphics.render(this)},F.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var B=this._localBounds;this._bounds.addFrame(this.transform,B.minX,B.minY,B.maxX,B.maxY)},F.prototype.containsPoint=function(B){this.worldTransform.applyInverse(B,M);for(var V=this.graphicsData,j=0;j<V.length;++j){var H=V[j];if(!!H.fill&&H.shape&&H.shape.contains(M.x,M.y)){var Y=!1;if(H.holes)for(var $=0;$<H.holes.length;$++){var re=H.holes[$];if(re.contains(M.x,M.y)){Y=!0;break}}if(!Y)return!0}}return!1},F.prototype.updateLocalBounds=function(){var B=1/0,V=-1/0,j=1/0,H=-1/0;if(this.graphicsData.length)for(var Y=0,$=0,re=0,te=0,se=0,ae=0;ae<this.graphicsData.length;ae++){var q=this.graphicsData[ae],ne=q.type,ue=q.lineWidth,Ee=q.lineAlignment,de=ue*Ee;if(Y=q.shape,ne===a.SHAPES.RECT||ne===a.SHAPES.RREC)$=Y.x-de,re=Y.y-de,te=Y.width+de*2,se=Y.height+de*2,B=$<B?$:B,V=$+te>V?$+te:V,j=re<j?re:j,H=re+se>H?re+se:H;else if(ne===a.SHAPES.CIRC)$=Y.x,re=Y.y,te=Y.radius+de,se=Y.radius+de,B=$-te<B?$-te:B,V=$+te>V?$+te:V,j=re-se<j?re-se:j,H=re+se>H?re+se:H;else if(ne===a.SHAPES.ELIP)$=Y.x,re=Y.y,te=Y.width+de,se=Y.height+de,B=$-te<B?$-te:B,V=$+te>V?$+te:V,j=re-se<j?re-se:j,H=re+se>H?re+se:H;else for(var Le=Y.points,Fe=0,ge=0,fe=0,Ge=0,Je=0,st=0,rt=0,dt=0,Lt=0;Lt+2<Le.length;Lt+=2)$=Le[Lt],re=Le[Lt+1],Fe=Le[Lt+2],ge=Le[Lt+3],fe=Math.abs(Fe-$),Ge=Math.abs(ge-re),se=de*2,te=Math.sqrt(fe*fe+Ge*Ge),!(te<1e-9)&&(Je=(se/te*Ge+fe)/2,st=(se/te*fe+Ge)/2,rt=(Fe+$)/2,dt=(ge+re)/2,B=rt-Je<B?rt-Je:B,V=rt+Je>V?rt+Je:V,j=dt-st<j?dt-st:j,H=dt+st>H?dt+st:H)}else B=0,V=0,j=0,H=0;var nt=this.boundsPadding;this._localBounds.minX=B-nt,this._localBounds.maxX=V+nt,this._localBounds.minY=j-nt,this._localBounds.maxY=H+nt},F.prototype.drawShape=function(B){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var V=new f.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,B,this.lineAlignment);return this.graphicsData.push(V),V.type===a.SHAPES.POLY&&(V.shape.closed=V.shape.closed,this.currentPath=V),this.dirty++,V},F.prototype.generateCanvasTexture=function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,j=this.getLocalBounds(),H=O.default.create(j.width,j.height,B,V);D||(D=new m.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(A),A.invert(),A.tx-=j.x,A.ty-=j.y,D.render(this,H,!0,A);var Y=y.default.fromCanvas(H.baseTexture._canvasRenderTarget.canvas,B,"graphics");return Y.baseTexture.resolution=V,Y.baseTexture.update(),Y},F.prototype.closePath=function(){var B=this.currentPath;return B&&B.shape&&B.shape.close(),this},F.prototype.addHole=function(){var B=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(B.shape),this.currentPath=null,this},F.prototype.destroy=function(B){U.prototype.destroy.call(this,B);for(var V=0;V<this.graphicsData.length;++V)this.graphicsData[V].destroy();for(var j in this._webGL)for(var H=0;H<this._webGL[j].data.length;++H)this._webGL[j].data[H].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},F}(P.default);E.default=G,G._SPRITE_TEXTURE=null,G.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},8277:(J,E)=>{"use strict";E.__esModule=!0;function L(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}var C=function(){function P(p,O,T,y,c,f,h,o,n){L(this,P),this.lineWidth=p,this.lineAlignment=n,this.nativeLines=h,this.lineColor=O,this.lineAlpha=T,this._lineTint=O,this.fillColor=y,this.fillAlpha=c,this._fillTint=y,this.fill=f,this.holes=[],this.shape=o,this.type=o.type}return P.prototype.clone=function(){return new P(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},P.prototype.addHole=function(O){this.holes.push(O)},P.prototype.destroy=function(){this.shape=null,this.holes=null},P}();E.default=C},7122:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(4695),P=O(C),p=L(4633);function O(c){return c&&c.__esModule?c:{default:c}}function T(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var y=function(){function c(f){T(this,c),this.renderer=f}return c.prototype.render=function(h){var o=this.renderer,n=o.context,u=h.worldAlpha,a=h.transform.worldTransform,i=o.resolution;n.setTransform(a.a*i,a.b*i,a.c*i,a.d*i,a.tx*i,a.ty*i),(h.canvasTintDirty!==h.dirty||h._prevTint!==h.tint)&&this.updateGraphicsTint(h),o.setBlendMode(h.blendMode);for(var l=0;l<h.graphicsData.length;l++){var _=h.graphicsData[l],v=_.shape,g=_._fillTint,m=_._lineTint;if(n.lineWidth=_.lineWidth,_.type===p.SHAPES.POLY){n.beginPath();var b=v.points,I=_.holes,S=void 0,w=void 0,D=void 0,A=void 0;n.moveTo(b[0],b[1]);for(var M=2;M<b.length;M+=2)n.lineTo(b[M],b[M+1]);if(v.closed&&n.closePath(),I.length>0){S=0,D=b[0],A=b[1];for(var N=2;N+2<b.length;N+=2)S+=(b[N]-D)*(b[N+3]-A)-(b[N+2]-D)*(b[N+1]-A);for(var K=0;K<I.length;K++)if(b=I[K].points,!!b){w=0,D=b[0],A=b[1];for(var G=2;G+2<b.length;G+=2)w+=(b[G]-D)*(b[G+3]-A)-(b[G+2]-D)*(b[G+1]-A);if(w*S<0){n.moveTo(b[0],b[1]);for(var U=2;U<b.length;U+=2)n.lineTo(b[U],b[U+1])}else{n.moveTo(b[b.length-2],b[b.length-1]);for(var F=b.length-4;F>=0;F-=2)n.lineTo(b[F],b[F+1])}I[K].close&&n.closePath()}}_.fill&&(n.globalAlpha=_.fillAlpha*u,n.fillStyle="#"+("00000"+(g|0).toString(16)).substr(-6),n.fill()),_.lineWidth&&(n.globalAlpha=_.lineAlpha*u,n.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),n.stroke())}else if(_.type===p.SHAPES.RECT)(_.fillColor||_.fillColor===0)&&(n.globalAlpha=_.fillAlpha*u,n.fillStyle="#"+("00000"+(g|0).toString(16)).substr(-6),n.fillRect(v.x,v.y,v.width,v.height)),_.lineWidth&&(n.globalAlpha=_.lineAlpha*u,n.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),n.strokeRect(v.x,v.y,v.width,v.height));else if(_.type===p.SHAPES.CIRC)n.beginPath(),n.arc(v.x,v.y,v.radius,0,2*Math.PI),n.closePath(),_.fill&&(n.globalAlpha=_.fillAlpha*u,n.fillStyle="#"+("00000"+(g|0).toString(16)).substr(-6),n.fill()),_.lineWidth&&(n.globalAlpha=_.lineAlpha*u,n.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),n.stroke());else if(_.type===p.SHAPES.ELIP){var X=v.width*2,B=v.height*2,V=v.x-X/2,j=v.y-B/2;n.beginPath();var H=.5522848,Y=X/2*H,$=B/2*H,re=V+X,te=j+B,se=V+X/2,ae=j+B/2;n.moveTo(V,ae),n.bezierCurveTo(V,ae-$,se-Y,j,se,j),n.bezierCurveTo(se+Y,j,re,ae-$,re,ae),n.bezierCurveTo(re,ae+$,se+Y,te,se,te),n.bezierCurveTo(se-Y,te,V,ae+$,V,ae),n.closePath(),_.fill&&(n.globalAlpha=_.fillAlpha*u,n.fillStyle="#"+("00000"+(g|0).toString(16)).substr(-6),n.fill()),_.lineWidth&&(n.globalAlpha=_.lineAlpha*u,n.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),n.stroke())}else if(_.type===p.SHAPES.RREC){var q=v.x,ne=v.y,ue=v.width,Ee=v.height,de=v.radius,Le=Math.min(ue,Ee)/2|0;de=de>Le?Le:de,n.beginPath(),n.moveTo(q,ne+de),n.lineTo(q,ne+Ee-de),n.quadraticCurveTo(q,ne+Ee,q+de,ne+Ee),n.lineTo(q+ue-de,ne+Ee),n.quadraticCurveTo(q+ue,ne+Ee,q+ue,ne+Ee-de),n.lineTo(q+ue,ne+de),n.quadraticCurveTo(q+ue,ne,q+ue-de,ne),n.lineTo(q+de,ne),n.quadraticCurveTo(q,ne,q,ne+de),n.closePath(),(_.fillColor||_.fillColor===0)&&(n.globalAlpha=_.fillAlpha*u,n.fillStyle="#"+("00000"+(g|0).toString(16)).substr(-6),n.fill()),_.lineWidth&&(n.globalAlpha=_.lineAlpha*u,n.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),n.stroke())}}},c.prototype.updateGraphicsTint=function(h){h._prevTint=h.tint,h.canvasTintDirty=h.dirty;for(var o=(h.tint>>16&255)/255,n=(h.tint>>8&255)/255,u=(h.tint&255)/255,a=0;a<h.graphicsData.length;++a){var i=h.graphicsData[a],l=i.fillColor|0,_=i.lineColor|0;i._fillTint=((l>>16&255)/255*o*255<<16)+((l>>8&255)/255*n*255<<8)+(l&255)/255*u*255,i._lineTint=((_>>16&255)/255*o*255<<16)+((_>>8&255)/255*n*255<<8)+(_&255)/255*u*255}},c.prototype.renderPolygon=function(h,o,n){n.moveTo(h[0],h[1]);for(var u=1;u<h.length/2;++u)n.lineTo(h[u*2],h[u*2+1]);o&&n.closePath()},c.prototype.destroy=function(){this.renderer=null},c}();E.default=y,P.default.registerPlugin("graphics",y)},3328:(J,E)=>{"use strict";E.__esModule=!0,E.default=L;function L(C,P,p,O,T,y,c,f,h){var o=arguments.length>9&&arguments[9]!==void 0?arguments[9]:[],n=0,u=0,a=0,i=0,l=0;o.push(C,P);for(var _=1,v=0;_<=h;++_)v=_/h,n=1-v,u=n*n,a=u*n,i=v*v,l=i*v,o.push(a*C+3*u*v*p+3*n*i*T+l*c,a*P+3*u*v*O+3*n*i*y+l*f);return o}},1281:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(7768),P=L(4633),p=L(3364),O=m(p),T=L(7648),y=m(T),c=L(7096),f=m(c),h=L(9041),o=m(h),n=L(4784),u=m(n),a=L(5009),i=m(a),l=L(3949),_=m(l),v=L(7159),g=m(v);function m(D){return D&&D.__esModule?D:{default:D}}function b(D,A){if(!(D instanceof A))throw new TypeError("Cannot call a class as a function")}function I(D,A){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:D}function S(D,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);D.prototype=Object.create(A&&A.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(D,A):D.__proto__=A)}var w=function(D){S(A,D);function A(M){b(this,A);var N=I(this,D.call(this,M));return N.graphicsDataPool=[],N.primitiveShader=null,N.gl=M.gl,N.CONTEXT_UID=0,N}return A.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new o.default(this.gl)},A.prototype.destroy=function(){O.default.prototype.destroy.call(this);for(var N=0;N<this.graphicsDataPool.length;++N)this.graphicsDataPool[N].destroy();this.graphicsDataPool=null},A.prototype.render=function(N){var K=this.renderer,G=K.gl,U=void 0,F=N._webGL[this.CONTEXT_UID];(!F||N.dirty!==F.dirty)&&(this.updateGraphics(N),F=N._webGL[this.CONTEXT_UID]);var X=this.primitiveShader;K.bindShader(X),K.state.setBlendMode(N.blendMode);for(var B=0,V=F.data.length;B<V;B++){U=F.data[B];var j=U.shader;K.bindShader(j),j.uniforms.translationMatrix=N.transform.worldTransform.toArray(!0),j.uniforms.tint=(0,C.hex2rgb)(N.tint),j.uniforms.alpha=N.worldAlpha,K.bindVao(U.vao),U.nativeLines?G.drawArrays(G.LINES,0,U.points.length/6):U.vao.draw(G.TRIANGLE_STRIP,U.indices.length)}},A.prototype.updateGraphics=function(N){var K=this.renderer.gl,G=N._webGL[this.CONTEXT_UID];if(G||(G=N._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:K,clearDirty:-1,dirty:-1}),G.dirty=N.dirty,N.clearDirty!==G.clearDirty){G.clearDirty=N.clearDirty;for(var U=0;U<G.data.length;U++)this.graphicsDataPool.push(G.data[U]);G.data.length=0,G.lastIndex=0}for(var F=void 0,X=void 0,B=G.lastIndex;B<N.graphicsData.length;B++){var V=N.graphicsData[B];F=this.getWebGLData(G,0),V.nativeLines&&V.lineWidth&&(X=this.getWebGLData(G,0,!0),G.lastIndex++),V.type===P.SHAPES.POLY&&(0,u.default)(V,F,X),V.type===P.SHAPES.RECT?(0,i.default)(V,F,X):V.type===P.SHAPES.CIRC||V.type===P.SHAPES.ELIP?(0,g.default)(V,F,X):V.type===P.SHAPES.RREC&&(0,_.default)(V,F,X),G.lastIndex++}this.renderer.bindVao(null);for(var j=0;j<G.data.length;j++)F=G.data[j],F.dirty&&F.upload()},A.prototype.getWebGLData=function(N,K,G){var U=N.data[N.data.length-1];return(!U||U.nativeLines!==G||U.points.length>32e4)&&(U=this.graphicsDataPool.pop()||new f.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),U.nativeLines=G,U.reset(K),N.data.push(U)),U.dirty=!0,U},A}(O.default);E.default=w,y.default.registerPlugin("graphics",w)},7096:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(3070),P=p(C);function p(y){return y&&y.__esModule?y:{default:y}}function O(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}var T=function(){function y(c,f,h){O(this,y),this.gl=c,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=P.default.GLBuffer.createVertexBuffer(c),this.indexBuffer=P.default.GLBuffer.createIndexBuffer(c),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=f,this.vao=new P.default.VertexArrayObject(c,h).addIndex(this.indexBuffer).addAttribute(this.buffer,f.attributes.aVertexPosition,c.FLOAT,!1,4*6,0).addAttribute(this.buffer,f.attributes.aColor,c.FLOAT,!1,4*6,2*4)}return y.prototype.reset=function(){this.points.length=0,this.indices.length=0},y.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},y.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},y}();E.default=T},9041:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2916),P=p(C);function p(f){return f&&f.__esModule?f:{default:f}}function O(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function T(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function y(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){y(h,f);function h(o){return O(this,h),T(this,f.call(this,o,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join(`
`),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join(`
`)))}return h}(P.default);E.default=c},7159:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=y;var C=L(3917),P=T(C),p=L(4633),O=L(7768);function T(c){return c&&c.__esModule?c:{default:c}}function y(c,f,h){var o=c.shape,n=o.x,u=o.y,a=void 0,i=void 0;if(c.type===p.SHAPES.CIRC?(a=o.radius,i=o.radius):(a=o.width,i=o.height),!(a===0||i===0)){var l=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(o.width+o.height)),_=Math.PI*2/l;if(c.fill){var v=(0,O.hex2rgb)(c.fillColor),g=c.fillAlpha,m=v[0]*g,b=v[1]*g,I=v[2]*g,S=f.points,w=f.indices,D=S.length/6;w.push(D);for(var A=0;A<l+1;A++)S.push(n,u,m,b,I,g),S.push(n+Math.sin(_*A)*a,u+Math.cos(_*A)*i,m,b,I,g),w.push(D++,D++);w.push(D-1)}if(c.lineWidth){var M=c.points;c.points=[];for(var N=0;N<l;N++)c.points.push(n+Math.sin(_*-N)*a,u+Math.cos(_*-N)*i);c.points.push(c.points[0],c.points[1]),(0,P.default)(c,f,h),c.points=M}}}},3917:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=function(T,y,c){T.nativeLines?O(T,c):p(T,y)};var C=L(892),P=L(7768);function p(T,y){var c=T.points;if(c.length!==0){var f=new C.Point(c[0],c[1]),h=new C.Point(c[c.length-2],c[c.length-1]);if(f.x===h.x&&f.y===h.y){c=c.slice(),c.pop(),c.pop(),h=new C.Point(c[c.length-2],c[c.length-1]);var o=h.x+(f.x-h.x)*.5,n=h.y+(f.y-h.y)*.5;c.unshift(o,n),c.push(o,n)}var u=y.points,a=y.indices,i=c.length/2,l=c.length,_=u.length/6,v=T.lineWidth/2,g=(0,P.hex2rgb)(T.lineColor),m=T.lineAlpha,b=g[0]*m,I=g[1]*m,S=g[2]*m,w=c[0],D=c[1],A=c[2],M=c[3],N=0,K=0,G=-(D-M),U=w-A,F=0,X=0,B=0,V=0,j=Math.sqrt(G*G+U*U);G/=j,U/=j,G*=v,U*=v;var H=T.lineAlignment,Y=(1-H)*2,$=H*2;u.push(w-G*Y,D-U*Y,b,I,S,m),u.push(w+G*$,D+U*$,b,I,S,m);for(var re=1;re<i-1;++re){w=c[(re-1)*2],D=c[(re-1)*2+1],A=c[re*2],M=c[re*2+1],N=c[(re+1)*2],K=c[(re+1)*2+1],G=-(D-M),U=w-A,j=Math.sqrt(G*G+U*U),G/=j,U/=j,G*=v,U*=v,F=-(M-K),X=A-N,j=Math.sqrt(F*F+X*X),F/=j,X/=j,F*=v,X*=v;var te=-U+D-(-U+M),se=-G+A-(-G+w),ae=(-G+w)*(-U+M)-(-G+A)*(-U+D),q=-X+K-(-X+M),ne=-F+A-(-F+N),ue=(-F+N)*(-X+M)-(-F+A)*(-X+K),Ee=te*ne-q*se;if(Math.abs(Ee)<.1){Ee+=10.1,u.push(A-G*Y,M-U*Y,b,I,S,m),u.push(A+G*$,M+U*$,b,I,S,m);continue}var de=(se*ue-ne*ae)/Ee,Le=(q*ae-te*ue)/Ee,Fe=(de-A)*(de-A)+(Le-M)*(Le-M);Fe>196*v*v?(B=G-F,V=U-X,j=Math.sqrt(B*B+V*V),B/=j,V/=j,B*=v,V*=v,u.push(A-B*Y,M-V*Y),u.push(b,I,S,m),u.push(A+B*$,M+V*$),u.push(b,I,S,m),u.push(A-B*$*Y,M-V*Y),u.push(b,I,S,m),l++):(u.push(A+(de-A)*Y,M+(Le-M)*Y),u.push(b,I,S,m),u.push(A-(de-A)*$,M-(Le-M)*$),u.push(b,I,S,m))}w=c[(i-2)*2],D=c[(i-2)*2+1],A=c[(i-1)*2],M=c[(i-1)*2+1],G=-(D-M),U=w-A,j=Math.sqrt(G*G+U*U),G/=j,U/=j,G*=v,U*=v,u.push(A-G*Y,M-U*Y),u.push(b,I,S,m),u.push(A+G*$,M+U*$),u.push(b,I,S,m),a.push(_);for(var ge=0;ge<l;++ge)a.push(_++);a.push(_-1)}}function O(T,y){var c=0,f=T.points;if(f.length!==0){var h=y.points,o=f.length/2,n=(0,P.hex2rgb)(T.lineColor),u=T.lineAlpha,a=n[0]*u,i=n[1]*u,l=n[2]*u;for(c=1;c<o;c++){var _=f[(c-1)*2],v=f[(c-1)*2+1],g=f[c*2],m=f[c*2+1];h.push(_,v),h.push(a,i,l,u),h.push(g,m),h.push(a,i,l,u)}}}},4784:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=c;var C=L(3917),P=y(C),p=L(7768),O=L(9187),T=y(O);function y(f){return f&&f.__esModule?f:{default:f}}function c(f,h,o){f.points=f.shape.points.slice();var n=f.points;if(f.fill&&n.length>=6){for(var u=[],a=f.holes,i=0;i<a.length;i++){var l=a[i];u.push(n.length/2),n=n.concat(l.points)}var _=h.points,v=h.indices,g=n.length/2,m=(0,p.hex2rgb)(f.fillColor),b=f.fillAlpha,I=m[0]*b,S=m[1]*b,w=m[2]*b,D=(0,T.default)(n,u,2);if(!D)return;for(var A=_.length/6,M=0;M<D.length;M+=3)v.push(D[M]+A),v.push(D[M]+A),v.push(D[M+1]+A),v.push(D[M+2]+A),v.push(D[M+2]+A);for(var N=0;N<g;N++)_.push(n[N*2],n[N*2+1],I,S,w,b)}f.lineWidth>0&&(0,P.default)(f,h,o)}},5009:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=T;var C=L(3917),P=O(C),p=L(7768);function O(y){return y&&y.__esModule?y:{default:y}}function T(y,c,f){var h=y.shape,o=h.x,n=h.y,u=h.width,a=h.height;if(y.fill){var i=(0,p.hex2rgb)(y.fillColor),l=y.fillAlpha,_=i[0]*l,v=i[1]*l,g=i[2]*l,m=c.points,b=c.indices,I=m.length/6;m.push(o,n),m.push(_,v,g,l),m.push(o+u,n),m.push(_,v,g,l),m.push(o,n+a),m.push(_,v,g,l),m.push(o+u,n+a),m.push(_,v,g,l),b.push(I,I,I+1,I+2,I+3,I+3)}if(y.lineWidth){var S=y.points;y.points=[o,n,o+u,n,o+u,n+a,o,n+a,o,n],(0,P.default)(y,c,f),y.points=S}}},3949:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=c;var C=L(9187),P=y(C),p=L(3917),O=y(p),T=L(7768);function y(o){return o&&o.__esModule?o:{default:o}}function c(o,n,u){var a=o.shape,i=a.x,l=a.y,_=a.width,v=a.height,g=a.radius,m=[];if(m.push(i+g,l),h(i+_-g,l,i+_,l,i+_,l+g,m),h(i+_,l+v-g,i+_,l+v,i+_-g,l+v,m),h(i+g,l+v,i,l+v,i,l+v-g,m),h(i,l+g,i,l,i+g+1e-10,l,m),o.fill){for(var b=(0,T.hex2rgb)(o.fillColor),I=o.fillAlpha,S=b[0]*I,w=b[1]*I,D=b[2]*I,A=n.points,M=n.indices,N=A.length/6,K=(0,P.default)(m,null,2),G=0,U=K.length;G<U;G+=3)M.push(K[G]+N),M.push(K[G]+N),M.push(K[G+1]+N),M.push(K[G+2]+N),M.push(K[G+2]+N);for(var F=0,X=m.length;F<X;F++)A.push(m[F],m[++F],S,w,D,I)}if(o.lineWidth){var B=o.points;o.points=m,(0,O.default)(o,n,u),o.points=B}}function f(o,n,u){var a=n-o;return o+a*u}function h(o,n,u,a,i,l){for(var _=arguments.length>6&&arguments[6]!==void 0?arguments[6]:[],v=20,g=_,m=0,b=0,I=0,S=0,w=0,D=0,A=0,M=0;A<=v;++A)M=A/v,m=f(o,u,M),b=f(n,a,M),I=f(u,i,M),S=f(a,l,M),w=f(m,I,M),D=f(b,S,M),g.push(w,D);return g}},2321:(J,E,L)=>{"use strict";E.__esModule=!0,E.autoDetectRenderer=E.Application=E.Filter=E.SpriteMaskFilter=E.Quad=E.RenderTarget=E.ObjectRenderer=E.WebGLManager=E.Shader=E.CanvasRenderTarget=E.TextureUvs=E.VideoBaseTexture=E.BaseRenderTexture=E.RenderTexture=E.BaseTexture=E.TextureMatrix=E.Texture=E.Spritesheet=E.CanvasGraphicsRenderer=E.GraphicsRenderer=E.GraphicsData=E.Graphics=E.TextMetrics=E.TextStyle=E.Text=E.SpriteRenderer=E.CanvasTinter=E.CanvasSpriteRenderer=E.Sprite=E.TransformBase=E.TransformStatic=E.Transform=E.Container=E.DisplayObject=E.Bounds=E.glCore=E.WebGLRenderer=E.CanvasRenderer=E.ticker=E.utils=E.settings=void 0;var C=L(4633);Object.keys(C).forEach(function(fe){fe==="default"||fe==="__esModule"||Object.defineProperty(E,fe,{enumerable:!0,get:function(){return C[fe]}})});var P=L(892);Object.keys(P).forEach(function(fe){fe==="default"||fe==="__esModule"||Object.defineProperty(E,fe,{enumerable:!0,get:function(){return P[fe]}})});var p=L(3070);Object.defineProperty(E,"glCore",{enumerable:!0,get:function(){return ge(p).default}});var O=L(1392);Object.defineProperty(E,"Bounds",{enumerable:!0,get:function(){return ge(O).default}});var T=L(141);Object.defineProperty(E,"DisplayObject",{enumerable:!0,get:function(){return ge(T).default}});var y=L(1822);Object.defineProperty(E,"Container",{enumerable:!0,get:function(){return ge(y).default}});var c=L(8397);Object.defineProperty(E,"Transform",{enumerable:!0,get:function(){return ge(c).default}});var f=L(9921);Object.defineProperty(E,"TransformStatic",{enumerable:!0,get:function(){return ge(f).default}});var h=L(229);Object.defineProperty(E,"TransformBase",{enumerable:!0,get:function(){return ge(h).default}});var o=L(8391);Object.defineProperty(E,"Sprite",{enumerable:!0,get:function(){return ge(o).default}});var n=L(3440);Object.defineProperty(E,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return ge(n).default}});var u=L(4099);Object.defineProperty(E,"CanvasTinter",{enumerable:!0,get:function(){return ge(u).default}});var a=L(9086);Object.defineProperty(E,"SpriteRenderer",{enumerable:!0,get:function(){return ge(a).default}});var i=L(569);Object.defineProperty(E,"Text",{enumerable:!0,get:function(){return ge(i).default}});var l=L(2033);Object.defineProperty(E,"TextStyle",{enumerable:!0,get:function(){return ge(l).default}});var _=L(596);Object.defineProperty(E,"TextMetrics",{enumerable:!0,get:function(){return ge(_).default}});var v=L(7240);Object.defineProperty(E,"Graphics",{enumerable:!0,get:function(){return ge(v).default}});var g=L(8277);Object.defineProperty(E,"GraphicsData",{enumerable:!0,get:function(){return ge(g).default}});var m=L(1281);Object.defineProperty(E,"GraphicsRenderer",{enumerable:!0,get:function(){return ge(m).default}});var b=L(7122);Object.defineProperty(E,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return ge(b).default}});var I=L(3042);Object.defineProperty(E,"Spritesheet",{enumerable:!0,get:function(){return ge(I).default}});var S=L(2631);Object.defineProperty(E,"Texture",{enumerable:!0,get:function(){return ge(S).default}});var w=L(9673);Object.defineProperty(E,"TextureMatrix",{enumerable:!0,get:function(){return ge(w).default}});var D=L(9067);Object.defineProperty(E,"BaseTexture",{enumerable:!0,get:function(){return ge(D).default}});var A=L(869);Object.defineProperty(E,"RenderTexture",{enumerable:!0,get:function(){return ge(A).default}});var M=L(4566);Object.defineProperty(E,"BaseRenderTexture",{enumerable:!0,get:function(){return ge(M).default}});var N=L(8581);Object.defineProperty(E,"VideoBaseTexture",{enumerable:!0,get:function(){return ge(N).default}});var K=L(4368);Object.defineProperty(E,"TextureUvs",{enumerable:!0,get:function(){return ge(K).default}});var G=L(9664);Object.defineProperty(E,"CanvasRenderTarget",{enumerable:!0,get:function(){return ge(G).default}});var U=L(2916);Object.defineProperty(E,"Shader",{enumerable:!0,get:function(){return ge(U).default}});var F=L(2524);Object.defineProperty(E,"WebGLManager",{enumerable:!0,get:function(){return ge(F).default}});var X=L(3364);Object.defineProperty(E,"ObjectRenderer",{enumerable:!0,get:function(){return ge(X).default}});var B=L(7867);Object.defineProperty(E,"RenderTarget",{enumerable:!0,get:function(){return ge(B).default}});var V=L(2454);Object.defineProperty(E,"Quad",{enumerable:!0,get:function(){return ge(V).default}});var j=L(3998);Object.defineProperty(E,"SpriteMaskFilter",{enumerable:!0,get:function(){return ge(j).default}});var H=L(6310);Object.defineProperty(E,"Filter",{enumerable:!0,get:function(){return ge(H).default}});var Y=L(5328);Object.defineProperty(E,"Application",{enumerable:!0,get:function(){return ge(Y).default}});var $=L(4981);Object.defineProperty(E,"autoDetectRenderer",{enumerable:!0,get:function(){return $.autoDetectRenderer}});var re=L(7768),te=Fe(re),se=L(938),ae=Fe(se),q=L(7505),ne=ge(q),ue=L(4695),Ee=ge(ue),de=L(7648),Le=ge(de);function Fe(fe){if(fe&&fe.__esModule)return fe;var Ge={};if(fe!=null)for(var Je in fe)Object.prototype.hasOwnProperty.call(fe,Je)&&(Ge[Je]=fe[Je]);return Ge.default=fe,Ge}function ge(fe){return fe&&fe.__esModule?fe:{default:fe}}E.settings=ne.default,E.utils=te,E.ticker=ae,E.CanvasRenderer=Ee.default,E.WebGLRenderer=Le.default},7616:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(6724),P=p(C);function p(a){return a&&a.__esModule?a:{default:a}}var O=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],T=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],y=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],c=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],f=[],h=[];function o(a){return a<0?-1:a>0?1:0}function n(){for(var a=0;a<16;a++){var i=[];h.push(i);for(var l=0;l<16;l++)for(var _=o(O[a]*O[l]+y[a]*T[l]),v=o(T[a]*O[l]+c[a]*T[l]),g=o(O[a]*y[l]+y[a]*c[l]),m=o(T[a]*y[l]+c[a]*c[l]),b=0;b<16;b++)if(O[b]===_&&T[b]===v&&y[b]===g&&c[b]===m){i.push(b);break}}for(var I=0;I<16;I++){var S=new P.default;S.set(O[I],T[I],y[I],c[I],0,0),f.push(S)}}n();var u={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(i){return O[i]},uY:function(i){return T[i]},vX:function(i){return y[i]},vY:function(i){return c[i]},inv:function(i){return i&8?i&15:-i&7},add:function(i,l){return h[i][l]},sub:function(i,l){return h[i][u.inv(l)]},rotate180:function(i){return i^4},isVertical:function(i){return(i&3)==2},byDirection:function(i,l){return Math.abs(i)*2<=Math.abs(l)?l>=0?u.S:u.N:Math.abs(l)*2<=Math.abs(i)?i>0?u.E:u.W:l>0?i>0?u.SE:u.SW:i>0?u.NE:u.NW},matrixAppendRotationInv:function(i,l){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,g=f[u.inv(l)];g.tx=_,g.ty=v,i.append(g)}};E.default=u},6724:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function f(h,o){for(var n=0;n<o.length;n++){var u=o[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(h,u.key,u)}}return function(h,o,n){return o&&f(h.prototype,o),n&&f(h,n),h}}(),P=L(5628),p=T(P),O=L(4633);function T(f){return f&&f.__esModule?f:{default:f}}function y(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var c=function(){function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;y(this,f),this.a=h,this.b=o,this.c=n,this.d=u,this.tx=a,this.ty=i,this.array=null}return f.prototype.fromArray=function(o){this.a=o[0],this.b=o[1],this.c=o[3],this.d=o[4],this.tx=o[2],this.ty=o[5]},f.prototype.set=function(o,n,u,a,i,l){return this.a=o,this.b=n,this.c=u,this.d=a,this.tx=i,this.ty=l,this},f.prototype.toArray=function(o,n){this.array||(this.array=new Float32Array(9));var u=n||this.array;return o?(u[0]=this.a,u[1]=this.b,u[2]=0,u[3]=this.c,u[4]=this.d,u[5]=0,u[6]=this.tx,u[7]=this.ty,u[8]=1):(u[0]=this.a,u[1]=this.c,u[2]=this.tx,u[3]=this.b,u[4]=this.d,u[5]=this.ty,u[6]=0,u[7]=0,u[8]=1),u},f.prototype.apply=function(o,n){n=n||new p.default;var u=o.x,a=o.y;return n.x=this.a*u+this.c*a+this.tx,n.y=this.b*u+this.d*a+this.ty,n},f.prototype.applyInverse=function(o,n){n=n||new p.default;var u=1/(this.a*this.d+this.c*-this.b),a=o.x,i=o.y;return n.x=this.d*u*a+-this.c*u*i+(this.ty*this.c-this.tx*this.d)*u,n.y=this.a*u*i+-this.b*u*a+(-this.ty*this.a+this.tx*this.b)*u,n},f.prototype.translate=function(o,n){return this.tx+=o,this.ty+=n,this},f.prototype.scale=function(o,n){return this.a*=o,this.d*=n,this.c*=o,this.b*=n,this.tx*=o,this.ty*=n,this},f.prototype.rotate=function(o){var n=Math.cos(o),u=Math.sin(o),a=this.a,i=this.c,l=this.tx;return this.a=a*n-this.b*u,this.b=a*u+this.b*n,this.c=i*n-this.d*u,this.d=i*u+this.d*n,this.tx=l*n-this.ty*u,this.ty=l*u+this.ty*n,this},f.prototype.append=function(o){var n=this.a,u=this.b,a=this.c,i=this.d;return this.a=o.a*n+o.b*a,this.b=o.a*u+o.b*i,this.c=o.c*n+o.d*a,this.d=o.c*u+o.d*i,this.tx=o.tx*n+o.ty*a+this.tx,this.ty=o.tx*u+o.ty*i+this.ty,this},f.prototype.setTransform=function(o,n,u,a,i,l,_,v,g){return this.a=Math.cos(_+g)*i,this.b=Math.sin(_+g)*i,this.c=-Math.sin(_-v)*l,this.d=Math.cos(_-v)*l,this.tx=o-(u*this.a+a*this.c),this.ty=n-(u*this.b+a*this.d),this},f.prototype.prepend=function(o){var n=this.tx;if(o.a!==1||o.b!==0||o.c!==0||o.d!==1){var u=this.a,a=this.c;this.a=u*o.a+this.b*o.c,this.b=u*o.b+this.b*o.d,this.c=a*o.a+this.d*o.c,this.d=a*o.b+this.d*o.d}return this.tx=n*o.a+this.ty*o.c+o.tx,this.ty=n*o.b+this.ty*o.d+o.ty,this},f.prototype.decompose=function(o){var n=this.a,u=this.b,a=this.c,i=this.d,l=-Math.atan2(-a,i),_=Math.atan2(u,n),v=Math.abs(l+_);return v<1e-5||Math.abs(O.PI_2-v)<1e-5?(o.rotation=_,o.skew.x=o.skew.y=0):(o.rotation=0,o.skew.x=l,o.skew.y=_),o.scale.x=Math.sqrt(n*n+u*u),o.scale.y=Math.sqrt(a*a+i*i),o.position.x=this.tx,o.position.y=this.ty,o},f.prototype.invert=function(){var o=this.a,n=this.b,u=this.c,a=this.d,i=this.tx,l=o*a-n*u;return this.a=a/l,this.b=-n/l,this.c=-u/l,this.d=o/l,this.tx=(u*this.ty-a*i)/l,this.ty=-(o*this.ty-n*i)/l,this},f.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},f.prototype.clone=function(){var o=new f;return o.a=this.a,o.b=this.b,o.c=this.c,o.d=this.d,o.tx=this.tx,o.ty=this.ty,o},f.prototype.copy=function(o){return o.a=this.a,o.b=this.b,o.c=this.c,o.d=this.d,o.tx=this.tx,o.ty=this.ty,o},C(f,null,[{key:"IDENTITY",get:function(){return new f}},{key:"TEMP_MATRIX",get:function(){return new f}}]),f}();E.default=c},4818:(J,E)=>{"use strict";E.__esModule=!0;var L=function(){function p(O,T){for(var y=0;y<T.length;y++){var c=T[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(O,c.key,c)}}return function(O,T,y){return T&&p(O.prototype,T),y&&p(O,y),O}}();function C(p,O){if(!(p instanceof O))throw new TypeError("Cannot call a class as a function")}var P=function(){function p(O,T){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;C(this,p),this._x=y,this._y=c,this.cb=O,this.scope=T}return p.prototype.clone=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=T||this.cb,f=y||this.scope;return new p(c,f,this._x,this._y)},p.prototype.set=function(T,y){var c=T||0,f=y||(y!==0?c:0);(this._x!==c||this._y!==f)&&(this._x=c,this._y=f,this.cb.call(this.scope))},p.prototype.copy=function(T){(this._x!==T.x||this._y!==T.y)&&(this._x=T.x,this._y=T.y,this.cb.call(this.scope))},p.prototype.equals=function(T){return T.x===this._x&&T.y===this._y},L(p,[{key:"x",get:function(){return this._x},set:function(T){this._x!==T&&(this._x=T,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(T){this._y!==T&&(this._y=T,this.cb.call(this.scope))}}]),p}();E.default=P},5628:(J,E)=>{"use strict";E.__esModule=!0;function L(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}var C=function(){function P(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;L(this,P),this.x=p,this.y=O}return P.prototype.clone=function(){return new P(this.x,this.y)},P.prototype.copy=function(O){this.set(O.x,O.y)},P.prototype.equals=function(O){return O.x===this.x&&O.y===this.y},P.prototype.set=function(O,T){this.x=O||0,this.y=T||(T!==0?this.x:0)},P}();E.default=C},892:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(5628);Object.defineProperty(E,"Point",{enumerable:!0,get:function(){return o(C).default}});var P=L(4818);Object.defineProperty(E,"ObservablePoint",{enumerable:!0,get:function(){return o(P).default}});var p=L(6724);Object.defineProperty(E,"Matrix",{enumerable:!0,get:function(){return o(p).default}});var O=L(7616);Object.defineProperty(E,"GroupD8",{enumerable:!0,get:function(){return o(O).default}});var T=L(1341);Object.defineProperty(E,"Circle",{enumerable:!0,get:function(){return o(T).default}});var y=L(6180);Object.defineProperty(E,"Ellipse",{enumerable:!0,get:function(){return o(y).default}});var c=L(6001);Object.defineProperty(E,"Polygon",{enumerable:!0,get:function(){return o(c).default}});var f=L(8965);Object.defineProperty(E,"Rectangle",{enumerable:!0,get:function(){return o(f).default}});var h=L(119);Object.defineProperty(E,"RoundedRectangle",{enumerable:!0,get:function(){return o(h).default}});function o(n){return n&&n.__esModule?n:{default:n}}},1341:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(8965),P=O(C),p=L(4633);function O(c){return c&&c.__esModule?c:{default:c}}function T(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var y=function(){function c(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;T(this,c),this.x=f,this.y=h,this.radius=o,this.type=p.SHAPES.CIRC}return c.prototype.clone=function(){return new c(this.x,this.y,this.radius)},c.prototype.contains=function(h,o){if(this.radius<=0)return!1;var n=this.radius*this.radius,u=this.x-h,a=this.y-o;return u*=u,a*=a,u+a<=n},c.prototype.getBounds=function(){return new P.default(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},c}();E.default=y},6180:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(8965),P=O(C),p=L(4633);function O(c){return c&&c.__esModule?c:{default:c}}function T(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var y=function(){function c(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;T(this,c),this.x=f,this.y=h,this.width=o,this.height=n,this.type=p.SHAPES.ELIP}return c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height)},c.prototype.contains=function(h,o){if(this.width<=0||this.height<=0)return!1;var n=(h-this.x)/this.width,u=(o-this.y)/this.height;return n*=n,u*=u,n+u<=1},c.prototype.getBounds=function(){return new P.default(this.x-this.width,this.y-this.height,this.width,this.height)},c}();E.default=y},6001:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(5628),P=O(C),p=L(4633);function O(c){return c&&c.__esModule?c:{default:c}}function T(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var y=function(){function c(){for(var f=arguments.length,h=Array(f),o=0;o<f;o++)h[o]=arguments[o];if(T(this,c),Array.isArray(h[0])&&(h=h[0]),h[0]instanceof P.default){for(var n=[],u=0,a=h.length;u<a;u++)n.push(h[u].x,h[u].y);h=n}this.closed=!0,this.points=h,this.type=p.SHAPES.POLY}return c.prototype.clone=function(){return new c(this.points.slice())},c.prototype.close=function(){var h=this.points;(h[0]!==h[h.length-2]||h[1]!==h[h.length-1])&&h.push(h[0],h[1])},c.prototype.contains=function(h,o){for(var n=!1,u=this.points.length/2,a=0,i=u-1;a<u;i=a++){var l=this.points[a*2],_=this.points[a*2+1],v=this.points[i*2],g=this.points[i*2+1],m=_>o!=g>o&&h<(v-l)*((o-_)/(g-_))+l;m&&(n=!n)}return n},c}();E.default=y},8965:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function T(y,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,h.key,h)}}return function(y,c,f){return c&&T(y.prototype,c),f&&T(y,f),y}}(),P=L(4633);function p(T,y){if(!(T instanceof y))throw new TypeError("Cannot call a class as a function")}var O=function(){function T(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;p(this,T),this.x=Number(y),this.y=Number(c),this.width=Number(f),this.height=Number(h),this.type=P.SHAPES.RECT}return T.prototype.clone=function(){return new T(this.x,this.y,this.width,this.height)},T.prototype.copy=function(c){return this.x=c.x,this.y=c.y,this.width=c.width,this.height=c.height,this},T.prototype.contains=function(c,f){return this.width<=0||this.height<=0?!1:c>=this.x&&c<this.x+this.width&&f>=this.y&&f<this.y+this.height},T.prototype.pad=function(c,f){c=c||0,f=f||(f!==0?c:0),this.x-=c,this.y-=f,this.width+=c*2,this.height+=f*2},T.prototype.fit=function(c){var f=Math.max(this.x,c.x),h=Math.min(this.x+this.width,c.x+c.width),o=Math.max(this.y,c.y),n=Math.min(this.y+this.height,c.y+c.height);this.x=f,this.width=Math.max(h-f,0),this.y=o,this.height=Math.max(n-o,0)},T.prototype.enlarge=function(c){var f=Math.min(this.x,c.x),h=Math.max(this.x+this.width,c.x+c.width),o=Math.min(this.y,c.y),n=Math.max(this.y+this.height,c.y+c.height);this.x=f,this.width=h-f,this.y=o,this.height=n-o},T.prototype.ceil=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.001,h=Math.ceil((this.x+this.width-f)*c)/c,o=Math.ceil((this.y+this.height-f)*c)/c;this.x=Math.floor((this.x+f)*c)/c,this.y=Math.floor((this.y+f)*c)/c,this.width=h-this.x,this.height=o-this.y},C(T,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new T(0,0,0,0)}}]),T}();E.default=O},119:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(4633);function P(O,T){if(!(O instanceof T))throw new TypeError("Cannot call a class as a function")}var p=function(){function O(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20;P(this,O),this.x=T,this.y=y,this.width=c,this.height=f,this.radius=h,this.type=C.SHAPES.RREC}return O.prototype.clone=function(){return new O(this.x,this.y,this.width,this.height,this.radius)},O.prototype.contains=function(y,c){if(this.width<=0||this.height<=0)return!1;if(y>=this.x&&y<=this.x+this.width&&c>=this.y&&c<=this.y+this.height){if(c>=this.y+this.radius&&c<=this.y+this.height-this.radius||y>=this.x+this.radius&&y<=this.x+this.width-this.radius)return!0;var f=y-(this.x+this.radius),h=c-(this.y+this.radius),o=this.radius*this.radius;if(f*f+h*h<=o||(f=y-(this.x+this.width-this.radius),f*f+h*h<=o)||(h=c-(this.y+this.height-this.radius),f*f+h*h<=o)||(f=y-(this.x+this.radius),f*f+h*h<=o))return!0}return!1},O}();E.default=p},250:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function m(b,I){for(var S=0;S<I.length;S++){var w=I[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,I,S){return I&&m(b.prototype,I),S&&m(b,S),b}}(),P=L(7768),p=L(892),O=L(4633),T=L(7505),y=a(T),c=L(1822),f=a(c),h=L(869),o=a(h),n=L(5323),u=a(n);function a(m){return m&&m.__esModule?m:{default:m}}function i(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function l(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function _(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var v=new p.Matrix,g=function(m){_(b,m);function b(I,S,w,D){i(this,b);var A=l(this,m.call(this));return(0,P.sayHello)(I),typeof S=="number"&&(S=Object.assign({width:S,height:w||y.default.RENDER_OPTIONS.height},D)),S=Object.assign({},y.default.RENDER_OPTIONS,S),A.options=S,A.type=O.RENDERER_TYPE.UNKNOWN,A.screen=new p.Rectangle(0,0,S.width,S.height),A.view=S.view||document.createElement("canvas"),A.resolution=S.resolution||y.default.RESOLUTION,A.transparent=S.transparent,A.autoResize=S.autoResize||!1,A.blendModes=null,A.preserveDrawingBuffer=S.preserveDrawingBuffer,A.clearBeforeRender=S.clearBeforeRender,A.roundPixels=S.roundPixels,A._backgroundColor=0,A._backgroundColorRgba=[0,0,0,0],A._backgroundColorString="#000000",A.backgroundColor=S.backgroundColor||A._backgroundColor,A._tempDisplayObjectParent=new f.default,A._lastObjectRendered=A._tempDisplayObjectParent,A}return b.prototype.resize=function(S,w){this.screen.width=S,this.screen.height=w,this.view.width=S*this.resolution,this.view.height=w*this.resolution,this.autoResize&&(this.view.style.width=S+"px",this.view.style.height=w+"px")},b.prototype.generateTexture=function(S,w,D,A){A=A||S.getLocalBounds();var M=o.default.create(A.width|0,A.height|0,w,D);return v.tx=-A.x,v.ty=-A.y,this.render(S,M,!1,v,!!S.parent),M},b.prototype.destroy=function(S){S&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=O.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},C(b,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(S){this._backgroundColor=S,this._backgroundColorString=(0,P.hex2string)(S),(0,P.hex2rgb)(S,this._backgroundColorRgba)}}]),b}(u.default);E.default=g},4695:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(250),P=a(C),p=L(6768),O=a(p),T=L(9664),y=a(T),c=L(9017),f=a(c),h=L(7768),o=L(4633),n=L(7505),u=a(n);function a(g){return g&&g.__esModule?g:{default:g}}function i(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function l(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function _(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var v=function(g){_(m,g);function m(b,I,S){i(this,m);var w=l(this,g.call(this,"Canvas",b,I,S));return w.type=o.RENDERER_TYPE.CANVAS,w.rootContext=w.view.getContext("2d",{alpha:w.transparent}),w.context=w.rootContext,w.refresh=!0,w.maskManager=new O.default(w),w.smoothProperty="imageSmoothingEnabled",w.rootContext.imageSmoothingEnabled||(w.rootContext.webkitImageSmoothingEnabled?w.smoothProperty="webkitImageSmoothingEnabled":w.rootContext.mozImageSmoothingEnabled?w.smoothProperty="mozImageSmoothingEnabled":w.rootContext.oImageSmoothingEnabled?w.smoothProperty="oImageSmoothingEnabled":w.rootContext.msImageSmoothingEnabled&&(w.smoothProperty="msImageSmoothingEnabled")),w.initPlugins(),w.blendModes=(0,f.default)(),w._activeBlendMode=null,w.renderingToScreen=!1,w.resize(w.options.width,w.options.height),w}return m.prototype.render=function(I,S,w,D,A){if(!!this.view){this.renderingToScreen=!S,this.emit("prerender");var M=this.resolution;S?(S=S.baseTexture||S,S._canvasRenderTarget||(S._canvasRenderTarget=new y.default(S.width,S.height,S.resolution),S.source=S._canvasRenderTarget.canvas,S.valid=!0),this.context=S._canvasRenderTarget.context,this.resolution=S._canvasRenderTarget.resolution):this.context=this.rootContext;var N=this.context;if(S||(this._lastObjectRendered=I),!A){var K=I.parent,G=this._tempDisplayObjectParent.transform.worldTransform;D?(D.copy(G),this._tempDisplayObjectParent.transform._worldID=-1):G.identity(),I.parent=this._tempDisplayObjectParent,I.updateTransform(),I.parent=K}N.save(),N.setTransform(1,0,0,1,0,0),N.globalAlpha=1,this._activeBlendMode=o.BLEND_MODES.NORMAL,N.globalCompositeOperation=this.blendModes[o.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(N.fillStyle="black",N.clear()),(w!==void 0?w:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?N.clearRect(0,0,this.width,this.height):(N.fillStyle=this._backgroundColorString,N.fillRect(0,0,this.width,this.height)));var U=this.context;this.context=N,I.renderCanvas(this),this.context=U,N.restore(),this.resolution=M,this.emit("postrender")}},m.prototype.clear=function(I){var S=this.context;I=I||this._backgroundColorString,!this.transparent&&I?(S.fillStyle=I,S.fillRect(0,0,this.width,this.height)):S.clearRect(0,0,this.width,this.height)},m.prototype.setBlendMode=function(I){this._activeBlendMode!==I&&(this._activeBlendMode=I,this.context.globalCompositeOperation=this.blendModes[I])},m.prototype.destroy=function(I){this.destroyPlugins(),g.prototype.destroy.call(this,I),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},m.prototype.resize=function(I,S){g.prototype.resize.call(this,I,S),this.smoothProperty&&(this.rootContext[this.smoothProperty]=u.default.SCALE_MODE===o.SCALE_MODES.LINEAR)},m.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},m}(P.default);E.default=v,h.pluginTarget.mixin(v)},6768:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(4633);function P(O,T){if(!(O instanceof T))throw new TypeError("Cannot call a class as a function")}var p=function(){function O(T){P(this,O),this.renderer=T}return O.prototype.pushMask=function(y){var c=this.renderer;c.context.save();var f=y.alpha,h=y.transform.worldTransform,o=c.resolution;c.context.setTransform(h.a*o,h.b*o,h.c*o,h.d*o,h.tx*o,h.ty*o),y._texture||(this.renderGraphicsShape(y),c.context.clip()),y.worldAlpha=f},O.prototype.renderGraphicsShape=function(y){var c=this.renderer.context,f=y.graphicsData.length;if(f!==0){c.beginPath();for(var h=0;h<f;h++){var o=y.graphicsData[h],n=o.shape;if(o.type===C.SHAPES.POLY){var u=n.points,a=o.holes,i=void 0,l=void 0;c.moveTo(u[0],u[1]);for(var _=2;_<u.length;_+=2)c.lineTo(u[_],u[_+1]);if(u[0]===u[u.length-2]&&u[1]===u[u.length-1]&&c.closePath(),a.length>0){i=0;for(var v=0;v<u.length;v+=2)i+=u[v]*u[v+3]-u[v+1]*u[v+2];for(var g=0;g<a.length;g++){u=a[g].points,l=0;for(var m=0;m<u.length;m+=2)l+=u[m]*u[m+3]-u[m+1]*u[m+2];if(c.moveTo(u[0],u[1]),l*i<0)for(var b=2;b<u.length;b+=2)c.lineTo(u[b],u[b+1]);else for(var I=u.length-2;I>=2;I-=2)c.lineTo(u[I],u[I+1])}}}else if(o.type===C.SHAPES.RECT)c.rect(n.x,n.y,n.width,n.height),c.closePath();else if(o.type===C.SHAPES.CIRC)c.arc(n.x,n.y,n.radius,0,2*Math.PI),c.closePath();else if(o.type===C.SHAPES.ELIP){var S=n.width*2,w=n.height*2,D=n.x-S/2,A=n.y-w/2,M=.5522848,N=S/2*M,K=w/2*M,G=D+S,U=A+w,F=D+S/2,X=A+w/2;c.moveTo(D,X),c.bezierCurveTo(D,X-K,F-N,A,F,A),c.bezierCurveTo(F+N,A,G,X-K,G,X),c.bezierCurveTo(G,X+K,F+N,U,F,U),c.bezierCurveTo(F-N,U,D,X+K,D,X),c.closePath()}else if(o.type===C.SHAPES.RREC){var B=n.x,V=n.y,j=n.width,H=n.height,Y=n.radius,$=Math.min(j,H)/2|0;Y=Y>$?$:Y,c.moveTo(B,V+Y),c.lineTo(B,V+H-Y),c.quadraticCurveTo(B,V+H,B+Y,V+H),c.lineTo(B+j-Y,V+H),c.quadraticCurveTo(B+j,V+H,B+j,V+H-Y),c.lineTo(B+j,V+Y),c.quadraticCurveTo(B+j,V,B+j-Y,V),c.lineTo(B+Y,V),c.quadraticCurveTo(B,V,B,V+Y),c.closePath()}}}},O.prototype.popMask=function(y){y.context.restore(),y.invalidateBlendMode()},O.prototype.destroy=function(){},O}();E.default=p},9664:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function c(f,h){for(var o=0;o<h.length;o++){var n=h[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(f,n.key,n)}}return function(f,h,o){return h&&c(f.prototype,h),o&&c(f,o),f}}(),P=L(7505),p=O(P);function O(c){return c&&c.__esModule?c:{default:c}}function T(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var y=function(){function c(f,h,o){T(this,c),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=o||p.default.RESOLUTION,this.resize(f,h)}return c.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},c.prototype.resize=function(h,o){this.canvas.width=h*this.resolution,this.canvas.height=o*this.resolution},c.prototype.destroy=function(){this.context=null,this.canvas=null},C(c,[{key:"width",get:function(){return this.canvas.width},set:function(h){this.canvas.width=h}},{key:"height",get:function(){return this.canvas.height},set:function(h){this.canvas.height=h}}]),c}();E.default=y},8886:(J,E)=>{"use strict";E.__esModule=!0,E.default=C;function L(P){var p=document.createElement("canvas");p.width=6,p.height=1;var O=p.getContext("2d");return O.fillStyle=P,O.fillRect(0,0,6,1),p}function C(){if(typeof document=="undefined")return!1;var P=L("#ff00ff"),p=L("#ffff00"),O=document.createElement("canvas");O.width=6,O.height=1;var T=O.getContext("2d");T.globalCompositeOperation="multiply",T.drawImage(P,0,0),T.drawImage(p,2,0);var y=T.getImageData(2,0,1,1);if(!y)return!1;var c=y.data;return c[0]===255&&c[1]===0&&c[2]===0}},9017:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=T;var C=L(4633),P=L(8886),p=O(P);function O(y){return y&&y.__esModule?y:{default:y}}function T(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,p.default)()?(y[C.BLEND_MODES.NORMAL]="source-over",y[C.BLEND_MODES.ADD]="lighter",y[C.BLEND_MODES.MULTIPLY]="multiply",y[C.BLEND_MODES.SCREEN]="screen",y[C.BLEND_MODES.OVERLAY]="overlay",y[C.BLEND_MODES.DARKEN]="darken",y[C.BLEND_MODES.LIGHTEN]="lighten",y[C.BLEND_MODES.COLOR_DODGE]="color-dodge",y[C.BLEND_MODES.COLOR_BURN]="color-burn",y[C.BLEND_MODES.HARD_LIGHT]="hard-light",y[C.BLEND_MODES.SOFT_LIGHT]="soft-light",y[C.BLEND_MODES.DIFFERENCE]="difference",y[C.BLEND_MODES.EXCLUSION]="exclusion",y[C.BLEND_MODES.HUE]="hue",y[C.BLEND_MODES.SATURATION]="saturate",y[C.BLEND_MODES.COLOR]="color",y[C.BLEND_MODES.LUMINOSITY]="luminosity"):(y[C.BLEND_MODES.NORMAL]="source-over",y[C.BLEND_MODES.ADD]="lighter",y[C.BLEND_MODES.MULTIPLY]="source-over",y[C.BLEND_MODES.SCREEN]="source-over",y[C.BLEND_MODES.OVERLAY]="source-over",y[C.BLEND_MODES.DARKEN]="source-over",y[C.BLEND_MODES.LIGHTEN]="source-over",y[C.BLEND_MODES.COLOR_DODGE]="source-over",y[C.BLEND_MODES.COLOR_BURN]="source-over",y[C.BLEND_MODES.HARD_LIGHT]="source-over",y[C.BLEND_MODES.SOFT_LIGHT]="source-over",y[C.BLEND_MODES.DIFFERENCE]="source-over",y[C.BLEND_MODES.EXCLUSION]="source-over",y[C.BLEND_MODES.HUE]="source-over",y[C.BLEND_MODES.SATURATION]="source-over",y[C.BLEND_MODES.COLOR]="source-over",y[C.BLEND_MODES.LUMINOSITY]="source-over"),y[C.BLEND_MODES.NORMAL_NPM]=y[C.BLEND_MODES.NORMAL],y[C.BLEND_MODES.ADD_NPM]=y[C.BLEND_MODES.ADD],y[C.BLEND_MODES.SCREEN_NPM]=y[C.BLEND_MODES.SCREEN],y}},1492:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(4633),P=L(7505),p=O(P);function O(c){return c&&c.__esModule?c:{default:c}}function T(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var y=function(){function c(f){T(this,c),this.renderer=f,this.count=0,this.checkCount=0,this.maxIdle=p.default.GC_MAX_IDLE,this.checkCountMax=p.default.GC_MAX_CHECK_COUNT,this.mode=p.default.GC_MODE}return c.prototype.update=function(){this.count++,this.mode!==C.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},c.prototype.run=function(){for(var h=this.renderer.textureManager,o=h._managedTextures,n=!1,u=0;u<o.length;u++){var a=o[u];!a._glRenderTargets&&this.count-a.touched>this.maxIdle&&(h.destroyTexture(a,!0),o[u]=null,n=!0)}if(n){for(var i=0,l=0;l<o.length;l++)o[l]!==null&&(o[i++]=o[l]);o.length=i}},c.prototype.unload=function(h){var o=this.renderer.textureManager;h._texture&&h._texture._glRenderTargets&&o.destroyTexture(h._texture,!0);for(var n=h.children.length-1;n>=0;n--)this.unload(h.children[n])},c}();E.default=y},3627:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(3070),P=L(4633),p=L(7867),O=y(p),T=L(7768);function y(h){return h&&h.__esModule?h:{default:h}}function c(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(o){c(this,h),this.renderer=o,this.gl=o.gl,this._managedTextures=[]}return h.prototype.bindTexture=function(){},h.prototype.getTexture=function(){},h.prototype.updateTexture=function(n,u){var a=this.gl,i=!!n._glRenderTargets;if(!n.hasLoaded)return null;var l=this.renderer.boundTextures;if(u===void 0){u=0;for(var _=0;_<l.length;++_)if(l[_]===n){u=_;break}}l[u]=n,a.activeTexture(a.TEXTURE0+u);var v=n._glTextures[this.renderer.CONTEXT_UID];if(v)i?n._glRenderTargets[this.renderer.CONTEXT_UID].resize(n.width,n.height):v.upload(n.source);else{if(i){var g=new O.default(this.gl,n.width,n.height,n.scaleMode,n.resolution);g.resize(n.width,n.height),n._glRenderTargets[this.renderer.CONTEXT_UID]=g,v=g.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else v=new C.GLTexture(this.gl,null,null,null,null),v.bind(u),v.premultiplyAlpha=!0,v.upload(n.source);n._glTextures[this.renderer.CONTEXT_UID]=v,n.on("update",this.updateTexture,this),n.on("dispose",this.destroyTexture,this),this._managedTextures.push(n),n.isPowerOfTwo?(n.mipmap&&v.enableMipmap(),n.wrapMode===P.WRAP_MODES.CLAMP?v.enableWrapClamp():n.wrapMode===P.WRAP_MODES.REPEAT?v.enableWrapRepeat():v.enableWrapMirrorRepeat()):v.enableWrapClamp(),n.scaleMode===P.SCALE_MODES.NEAREST?v.enableNearestScaling():v.enableLinearScaling()}return v},h.prototype.destroyTexture=function(n,u){if(n=n.baseTexture||n,!!n.hasLoaded){var a=this.renderer,i=a.CONTEXT_UID,l=n._glTextures,_=n._glRenderTargets;if(l[i]&&(a.unbindTexture(n),l[i].destroy(),n.off("update",this.updateTexture,this),n.off("dispose",this.destroyTexture,this),delete l[i],!u)){var v=this._managedTextures.indexOf(n);v!==-1&&(0,T.removeItems)(this._managedTextures,v,1)}_&&_[i]&&(a._activeRenderTarget===_[i]&&a.bindRenderTarget(a.rootRenderTarget),_[i].destroy(),delete _[i])}},h.prototype.removeAll=function(){for(var n=0;n<this._managedTextures.length;++n){var u=this._managedTextures[n];u._glTextures[this.renderer.CONTEXT_UID]&&delete u._glTextures[this.renderer.CONTEXT_UID]}},h.prototype.destroy=function(){for(var n=0;n<this._managedTextures.length;++n){var u=this._managedTextures[n];this.destroyTexture(u,!0),u.off("update",this.updateTexture,this),u.off("dispose",this.destroyTexture,this)}this._managedTextures=null},h}();E.default=f},7648:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(250),P=G(C),p=L(805),O=G(p),T=L(7176),y=G(T),c=L(9347),f=G(c),h=L(7867),o=G(h),n=L(3364),u=G(n),a=L(3627),i=G(a),l=L(9067),_=G(l),v=L(1492),g=G(v),m=L(4116),b=G(m),I=L(5580),S=G(I),w=L(3766),D=G(w),A=L(7768),M=L(3070),N=G(M),K=L(4633);function G(j){return j&&j.__esModule?j:{default:j}}function U(j,H){if(!(j instanceof H))throw new TypeError("Cannot call a class as a function")}function F(j,H){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:j}function X(j,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);j.prototype=Object.create(H&&H.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(j,H):j.__proto__=H)}var B=0,V=function(j){X(H,j);function H(Y,$,re){U(this,H);var te=F(this,j.call(this,"WebGL",Y,$,re));return te.legacy=te.options.legacy,te.legacy&&(N.default.VertexArrayObject.FORCE_NATIVE=!0),te.type=K.RENDERER_TYPE.WEBGL,te.handleContextLost=te.handleContextLost.bind(te),te.handleContextRestored=te.handleContextRestored.bind(te),te.view.addEventListener("webglcontextlost",te.handleContextLost,!1),te.view.addEventListener("webglcontextrestored",te.handleContextRestored,!1),te._contextOptions={alpha:te.transparent,antialias:te.options.antialias,premultipliedAlpha:te.transparent&&te.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:te.options.preserveDrawingBuffer,powerPreference:te.options.powerPreference},te._backgroundColorRgba[3]=te.transparent?0:1,te.maskManager=new O.default(te),te.stencilManager=new y.default(te),te.emptyRenderer=new u.default(te),te.currentRenderer=te.emptyRenderer,te.textureManager=null,te.filterManager=null,te.initPlugins(),te.options.context&&(0,D.default)(te.options.context),te.gl=te.options.context||N.default.createContext(te.view,te._contextOptions),te.CONTEXT_UID=B++,te.state=new b.default(te.gl),te.renderingToScreen=!0,te.boundTextures=null,te._activeShader=null,te._activeVao=null,te._activeRenderTarget=null,te._initContext(),te.drawModes=(0,S.default)(te.gl),te._nextTextureLocation=0,te.setBlendMode(0),te}return H.prototype._initContext=function(){var $=this.gl;$.isContextLost()&&$.getExtension("WEBGL_lose_context")&&$.getExtension("WEBGL_lose_context").restoreContext();var re=$.getParameter($.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(re),this.emptyTextures=new Array(re),this._unknownBoundTextures=!1,this.textureManager=new i.default(this),this.filterManager=new f.default(this),this.textureGC=new g.default(this),this.state.resetToDefault(),this.rootRenderTarget=new o.default($,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var te=new N.default.GLTexture.fromData($,null,1,1),se={_glTextures:{}};se._glTextures[this.CONTEXT_UID]={};for(var ae=0;ae<re;ae++){var q=new _.default;q._glTextures[this.CONTEXT_UID]=te,this.boundTextures[ae]=se,this.emptyTextures[ae]=q,this.bindTexture(null,ae)}this.emit("context",$),this.resize(this.screen.width,this.screen.height)},H.prototype.render=function($,re,te,se,ae){if(this.renderingToScreen=!re,this.emit("prerender"),!(!this.gl||this.gl.isContextLost())){if(this._nextTextureLocation=0,re||(this._lastObjectRendered=$),!ae){var q=$.parent;$.parent=this._tempDisplayObjectParent,$.updateTransform(),$.parent=q}this.bindRenderTexture(re,se),this.currentRenderer.start(),(te!==void 0?te:this.clearBeforeRender)&&this._activeRenderTarget.clear(),$.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},H.prototype.setObjectRenderer=function($){this.currentRenderer!==$&&(this.currentRenderer.stop(),this.currentRenderer=$,this.currentRenderer.start())},H.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},H.prototype.resize=function($,re){P.default.prototype.resize.call(this,$,re),this.rootRenderTarget.resize($,re),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},H.prototype.setBlendMode=function($){this.state.setBlendMode($)},H.prototype.clear=function($){this._activeRenderTarget.clear($)},H.prototype.setTransform=function($){this._activeRenderTarget.transform=$},H.prototype.clearRenderTexture=function($,re){var te=$.baseTexture,se=te._glRenderTargets[this.CONTEXT_UID];return se&&se.clear(re),this},H.prototype.bindRenderTexture=function($,re){var te=void 0;if($){var se=$.baseTexture;se._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(se,0),this.unbindTexture(se),te=se._glRenderTargets[this.CONTEXT_UID],te.setFrame($.frame)}else te=this.rootRenderTarget;return te.transform=re,this.bindRenderTarget(te),this},H.prototype.bindRenderTarget=function($){return $!==this._activeRenderTarget&&(this._activeRenderTarget=$,$.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=$.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack($.stencilMaskStack)),this},H.prototype.bindShader=function($,re){return this._activeShader!==$&&(this._activeShader=$,$.bind(),re!==!1&&($.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},H.prototype.bindTexture=function($,re,te){if($=$||this.emptyTextures[re],$=$.baseTexture||$,$.touched=this.textureGC.count,te)re=re||0;else{for(var se=0;se<this.boundTextures.length;se++)if(this.boundTextures[se]===$)return se;re===void 0&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,re=this.boundTextures.length-this._nextTextureLocation-1)}var ae=this.gl,q=$._glTextures[this.CONTEXT_UID];return q?(this.boundTextures[re]=$,ae.activeTexture(ae.TEXTURE0+re),ae.bindTexture(ae.TEXTURE_2D,q.texture)):this.textureManager.updateTexture($,re),re},H.prototype.unbindTexture=function($){var re=this.gl;if($=$.baseTexture||$,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var te=0;te<this.boundTextures.length;te++)this.boundTextures[te]===this.emptyTextures[te]&&(re.activeTexture(re.TEXTURE0+te),re.bindTexture(re.TEXTURE_2D,this.emptyTextures[te]._glTextures[this.CONTEXT_UID].texture))}for(var se=0;se<this.boundTextures.length;se++)this.boundTextures[se]===$&&(this.boundTextures[se]=this.emptyTextures[se],re.activeTexture(re.TEXTURE0+se),re.bindTexture(re.TEXTURE_2D,this.emptyTextures[se]._glTextures[this.CONTEXT_UID].texture));return this},H.prototype.createVao=function(){return new N.default.VertexArrayObject(this.gl,this.state.attribState)},H.prototype.bindVao=function($){return this._activeVao===$?this:($?$.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=$,this)},H.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var $=0;$<this.boundTextures.length;$++)this.boundTextures[$]=this.emptyTextures[$];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},H.prototype.handleContextLost=function($){$.preventDefault()},H.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},H.prototype.destroy=function($){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),j.prototype.destroy.call(this,$),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},H}(P.default);E.default=V,A.pluginTarget.mixin(V)},4116:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(3622),P=p(C);function p(n){return n&&n.__esModule?n:{default:n}}function O(n,u){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function")}var T=0,y=1,c=2,f=3,h=4,o=function(){function n(u){O(this,n),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=u,this.maxAttribs=u.getParameter(u.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,P.default)(u),this.nativeVaoExtension=u.getExtension("OES_vertex_array_object")||u.getExtension("MOZ_OES_vertex_array_object")||u.getExtension("WEBKIT_OES_vertex_array_object")}return n.prototype.push=function(){var a=this.stack[this.stackIndex];a||(a=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var i=0;i<this.activeState.length;i++)a[i]=this.activeState[i]},n.prototype.pop=function(){var a=this.stack[--this.stackIndex];this.setState(a)},n.prototype.setState=function(a){this.setBlend(a[T]),this.setDepthTest(a[y]),this.setFrontFace(a[c]),this.setCullFace(a[f]),this.setBlendMode(a[h])},n.prototype.setBlend=function(a){a=a?1:0,this.activeState[T]!==a&&(this.activeState[T]=a,this.gl[a?"enable":"disable"](this.gl.BLEND))},n.prototype.setBlendMode=function(a){if(a!==this.activeState[h]){this.activeState[h]=a;var i=this.blendModes[a];i.length===2?this.gl.blendFunc(i[0],i[1]):this.gl.blendFuncSeparate(i[0],i[1],i[2],i[3])}},n.prototype.setDepthTest=function(a){a=a?1:0,this.activeState[y]!==a&&(this.activeState[y]=a,this.gl[a?"enable":"disable"](this.gl.DEPTH_TEST))},n.prototype.setCullFace=function(a){a=a?1:0,this.activeState[f]!==a&&(this.activeState[f]=a,this.gl[a?"enable":"disable"](this.gl.CULL_FACE))},n.prototype.setFrontFace=function(a){a=a?1:0,this.activeState[c]!==a&&(this.activeState[c]=a,this.gl.frontFace(this.gl[a?"CW":"CCW"]))},n.prototype.resetAttributes=function(){for(var a=0;a<this.attribState.tempAttribState.length;a++)this.attribState.tempAttribState[a]=0;for(var i=0;i<this.attribState.attribState.length;i++)this.attribState.attribState[i]=0;for(var l=1;l<this.maxAttribs;l++)this.gl.disableVertexAttribArray(l)},n.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var a=0;a<this.activeState.length;++a)this.activeState[a]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},n}();E.default=o},6310:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function u(a,i){for(var l=0;l<i.length;l++){var _=i[l];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(a,_.key,_)}}return function(a,i,l){return i&&u(a.prototype,i),l&&u(a,l),a}}(),P=L(96),p=f(P),O=L(7768),T=L(4633),y=L(7505),c=f(y);function f(u){return u&&u.__esModule?u:{default:u}}function h(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}var o={},n=function(){function u(a,i,l){h(this,u),this.vertexSrc=a||u.defaultVertexSrc,this.fragmentSrc=i||u.defaultFragmentSrc,this._blendMode=T.BLEND_MODES.NORMAL,this.uniformData=l||(0,p.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var _ in this.uniformData)this.uniforms[_]=this.uniformData[_].value,this.uniformData[_].type&&(this.uniformData[_].type=this.uniformData[_].type.toLowerCase());this.glShaders={},o[this.vertexSrc+this.fragmentSrc]||(o[this.vertexSrc+this.fragmentSrc]=(0,O.uid)()),this.glShaderKey=o[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=c.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return u.prototype.apply=function(i,l,_,v,g){i.applyFilter(this,l,_,v)},C(u,[{key:"blendMode",get:function(){return this._blendMode},set:function(i){this._blendMode=i}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join(`
`)}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join(`
`)}}]),u}();E.default=n},96:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=T;var C=L(3070),P=p(C);function p(c){return c&&c.__esModule?c:{default:c}}var O=P.default.shader.defaultValue;function T(c,f,h){var o=y(c,h),n=y(f,h);return Object.assign(o,n)}function y(c){for(var f=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),h={},o=void 0,n=c.replace(/\s+/g," ").split(/\s*;\s*/),u=0;u<n.length;u++){var a=n[u].trim();if(a.indexOf("uniform")>-1){var i=a.split(" "),l=i[1],_=i[2],v=1;_.indexOf("[")>-1&&(o=_.split(/\[|]/),_=o[0],v*=Number(o[1])),_.match(f)||(h[_]={value:O(l,v),name:_,type:l})}}return h}},7698:(J,E,L)=>{"use strict";E.__esModule=!0,E.calculateScreenSpaceMatrix=P,E.calculateNormalizedScreenSpaceMatrix=p,E.calculateSpriteMatrix=O;var C=L(892);function P(T,y,c){var f=T.identity();return f.translate(y.x/c.width,y.y/c.height),f.scale(c.width,c.height),f}function p(T,y,c){var f=T.identity();f.translate(y.x/c.width,y.y/c.height);var h=c.width/y.width,o=c.height/y.height;return f.scale(h,o),f}function O(T,y,c,f){var h=f._texture.orig,o=T.set(c.width,0,0,c.height,y.x,y.y),n=f.worldTransform.copy(C.Matrix.TEMP_MATRIX);return n.invert(),o.prepend(n),o.scale(1/h.width,1/h.height),o.translate(f.anchor.x,f.anchor.y),o}},3998:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(6310),P=c(C),p=L(892),O=L(6470),T=L(9673),y=c(T);function c(u){return u&&u.__esModule?u:{default:u}}function f(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function h(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function o(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var n=function(u){o(a,u);function a(i){f(this,a);var l=new p.Matrix,_=h(this,u.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);

    original *= (masky.r * masky.a * alpha * clip);

    gl_FragColor = original;
}
`));return i.renderable=!1,_.maskSprite=i,_.maskMatrix=l,_}return a.prototype.apply=function(l,_,v,g){var m=this.maskSprite,b=this.maskSprite.texture;!b.valid||(b.transform||(b.transform=new y.default(b,0)),b.transform.update(),this.uniforms.mask=b,this.uniforms.otherMatrix=l.calculateSpriteMatrix(this.maskMatrix,m).prepend(b.transform.mapCoord),this.uniforms.alpha=m.worldAlpha,this.uniforms.maskClamp=b.transform.uClampFrame,l.applyFilter(this,_,v,g))},a}(P.default);E.default=n},9347:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2524),P=l(C),p=L(7867),O=l(p),T=L(2454),y=l(T),c=L(892),f=L(2916),h=l(f),o=L(7698),n=i(o),u=L(746),a=l(u);function i(S){if(S&&S.__esModule)return S;var w={};if(S!=null)for(var D in S)Object.prototype.hasOwnProperty.call(S,D)&&(w[D]=S[D]);return w.default=S,w}function l(S){return S&&S.__esModule?S:{default:S}}function _(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function v(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}function g(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}var m=function(){function S(){g(this,S),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new c.Rectangle,this.destinationFrame=new c.Rectangle,this.filters=[]}return S.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},S}(),b="screen",I=function(S){v(w,S);function w(D){g(this,w);var A=_(this,S.call(this,D));return A.gl=A.renderer.gl,A.quad=new y.default(A.gl,D.state.attribState),A.shaderCache={},A.pool={},A.filterData=null,A.managedFilters=[],A.renderer.on("prerender",A.onPrerender,A),A._screenWidth=D.view.width,A._screenHeight=D.view.height,A}return w.prototype.pushFilter=function(A,M){var N=this.renderer,K=this.filterData;if(!K){K=this.renderer._activeRenderTarget.filterStack;var G=new m;G.sourceFrame=G.destinationFrame=this.renderer._activeRenderTarget.size,G.renderTarget=N._activeRenderTarget,this.renderer._activeRenderTarget.filterData=K={index:0,stack:[G]},this.filterData=K}var U=K.stack[++K.index],F=K.stack[0].destinationFrame;U||(U=K.stack[K.index]=new m);var X=A.filterArea&&A.filterArea.x===0&&A.filterArea.y===0&&A.filterArea.width===N.screen.width&&A.filterArea.height===N.screen.height,B=M[0].resolution,V=M[0].padding|0,j=X?N.screen:A.filterArea||A.getBounds(!0),H=U.sourceFrame,Y=U.destinationFrame;H.x=(j.x*B|0)/B,H.y=(j.y*B|0)/B,H.width=(j.width*B|0)/B,H.height=(j.height*B|0)/B,X||(K.stack[0].renderTarget.transform||M[0].autoFit&&H.fit(F),H.pad(V)),Y.width=H.width,Y.height=H.height;var $=this.getPotRenderTarget(N.gl,H.width,H.height,B);U.target=A,U.filters=M,U.resolution=B,U.renderTarget=$,$.setFrame(Y,H),N.bindRenderTarget($),$.clear()},w.prototype.popFilter=function(){var A=this.filterData,M=A.stack[A.index-1],N=A.stack[A.index];this.quad.map(N.renderTarget.size,N.sourceFrame).upload();var K=N.filters;if(K.length===1)K[0].apply(this,N.renderTarget,M.renderTarget,!1,N),this.freePotRenderTarget(N.renderTarget);else{var G=N.renderTarget,U=this.getPotRenderTarget(this.renderer.gl,N.sourceFrame.width,N.sourceFrame.height,N.resolution);U.setFrame(N.destinationFrame,N.sourceFrame),U.clear();var F=0;for(F=0;F<K.length-1;++F){K[F].apply(this,G,U,!0,N);var X=G;G=U,U=X}K[F].apply(this,G,M.renderTarget,!1,N),this.freePotRenderTarget(G),this.freePotRenderTarget(U)}N.clear(),A.index--,A.index===0&&(this.filterData=null)},w.prototype.applyFilter=function(A,M,N,K){var G=this.renderer,U=G.gl,F=A.glShaders[G.CONTEXT_UID];F||(A.glShaderKey?(F=this.shaderCache[A.glShaderKey],F||(F=new h.default(this.gl,A.vertexSrc,A.fragmentSrc),A.glShaders[G.CONTEXT_UID]=this.shaderCache[A.glShaderKey]=F,this.managedFilters.push(A))):(F=A.glShaders[G.CONTEXT_UID]=new h.default(this.gl,A.vertexSrc,A.fragmentSrc),this.managedFilters.push(A)),G.bindVao(null),this.quad.initVao(F)),G.bindVao(this.quad.vao),G.bindRenderTarget(N),K&&(U.disable(U.SCISSOR_TEST),G.clear(),U.enable(U.SCISSOR_TEST)),N===G.maskManager.scissorRenderTarget&&G.maskManager.pushScissorMask(null,G.maskManager.scissorData),G.bindShader(F);var X=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=X,this.syncUniforms(F,A),G.state.setBlendMode(A.blendMode),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,M.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),U.bindTexture(U.TEXTURE_2D,X._glTextures[this.renderer.CONTEXT_UID].texture)},w.prototype.syncUniforms=function(A,M){var N=M.uniformData,K=M.uniforms,G=1,U=void 0;if(A.uniforms.filterArea){U=this.filterData.stack[this.filterData.index];var F=A.uniforms.filterArea;F[0]=U.renderTarget.size.width,F[1]=U.renderTarget.size.height,F[2]=U.sourceFrame.x,F[3]=U.sourceFrame.y,A.uniforms.filterArea=F}if(A.uniforms.filterClamp){U=U||this.filterData.stack[this.filterData.index];var X=A.uniforms.filterClamp;X[0]=0,X[1]=0,X[2]=(U.sourceFrame.width-1)/U.renderTarget.size.width,X[3]=(U.sourceFrame.height-1)/U.renderTarget.size.height,A.uniforms.filterClamp=X}for(var B in N)if(!!A.uniforms.data[B]){var V=N[B].type;if(V==="sampler2d"&&K[B]!==0){if(K[B].baseTexture)A.uniforms[B]=this.renderer.bindTexture(K[B].baseTexture,G);else{A.uniforms[B]=G;var j=this.renderer.gl;this.renderer.boundTextures[G]=this.renderer.emptyTextures[G],j.activeTexture(j.TEXTURE0+G),K[B].texture.bind()}G++}else if(V==="mat3")K[B].a!==void 0?A.uniforms[B]=K[B].toArray(!0):A.uniforms[B]=K[B];else if(V==="vec2")if(K[B].x!==void 0){var H=A.uniforms[B]||new Float32Array(2);H[0]=K[B].x,H[1]=K[B].y,A.uniforms[B]=H}else A.uniforms[B]=K[B];else V==="float"?A.uniforms.data[B].value!==N[B]&&(A.uniforms[B]=K[B]):A.uniforms[B]=K[B]}},w.prototype.getRenderTarget=function(A,M){var N=this.filterData.stack[this.filterData.index],K=this.getPotRenderTarget(this.renderer.gl,N.sourceFrame.width,N.sourceFrame.height,M||N.resolution);return K.setFrame(N.destinationFrame,N.sourceFrame),K},w.prototype.returnRenderTarget=function(A){this.freePotRenderTarget(A)},w.prototype.calculateScreenSpaceMatrix=function(A){var M=this.filterData.stack[this.filterData.index];return n.calculateScreenSpaceMatrix(A,M.sourceFrame,M.renderTarget.size)},w.prototype.calculateNormalizedScreenSpaceMatrix=function(A){var M=this.filterData.stack[this.filterData.index];return n.calculateNormalizedScreenSpaceMatrix(A,M.sourceFrame,M.renderTarget.size,M.destinationFrame)},w.prototype.calculateSpriteMatrix=function(A,M){var N=this.filterData.stack[this.filterData.index];return n.calculateSpriteMatrix(A,N.sourceFrame,N.renderTarget.size,M)},w.prototype.destroy=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,M=this.renderer,N=this.managedFilters;M.off("prerender",this.onPrerender,this);for(var K=0;K<N.length;K++)A||N[K].glShaders[M.CONTEXT_UID].destroy(),delete N[K].glShaders[M.CONTEXT_UID];this.shaderCache={},A?this.pool={}:this.emptyPool()},w.prototype.getPotRenderTarget=function(A,M,N,K){var G=b;M*=K,N*=K,(M!==this._screenWidth||N!==this._screenHeight)&&(M=a.default.nextPow2(M),N=a.default.nextPow2(N),G=(M&65535)<<16|N&65535),this.pool[G]||(this.pool[G]=[]);var U=this.pool[G].pop();if(!U){var F=this.renderer.boundTextures[0];A.activeTexture(A.TEXTURE0),U=new O.default(A,M,N,null,1),A.bindTexture(A.TEXTURE_2D,F._glTextures[this.renderer.CONTEXT_UID].texture)}return U.resolution=K,U.defaultFrame.width=U.size.width=M/K,U.defaultFrame.height=U.size.height=N/K,U.filterPoolKey=G,U},w.prototype.emptyPool=function(){for(var A in this.pool){var M=this.pool[A];if(M)for(var N=0;N<M.length;N++)M[N].destroy(!0)}this.pool={}},w.prototype.freePotRenderTarget=function(A){this.pool[A.filterPoolKey].push(A)},w.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var A=this.pool[b];if(A)for(var M=0;M<A.length;M++)A[M].destroy(!0);this.pool[b]=[]}},w}(P.default);E.default=I},805:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2524),P=T(C),p=L(3998),O=T(p);function T(o){return o&&o.__esModule?o:{default:o}}function y(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function c(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:o}function f(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}var h=function(o){f(n,o);function n(u){y(this,n);var a=c(this,o.call(this,u));return a.scissor=!1,a.scissorData=null,a.scissorRenderTarget=null,a.enableScissor=!0,a.alphaMaskPool=[],a.alphaMaskIndex=0,a}return n.prototype.pushMask=function(a,i){if(i.texture)this.pushSpriteMask(a,i);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&i.isFastRect()){var l=i.worldTransform,_=Math.atan2(l.b,l.a);_=Math.round(_*(180/Math.PI)),_%90?this.pushStencilMask(i):this.pushScissorMask(a,i)}else this.pushStencilMask(i)},n.prototype.popMask=function(a,i){i.texture?this.popSpriteMask(a,i):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(a,i):this.popStencilMask(a,i)},n.prototype.pushSpriteMask=function(a,i){var l=this.alphaMaskPool[this.alphaMaskIndex];l||(l=this.alphaMaskPool[this.alphaMaskIndex]=[new O.default(i)]),l[0].resolution=this.renderer.resolution,l[0].maskSprite=i;var _=a.filterArea;a.filterArea=i.getBounds(!0),this.renderer.filterManager.pushFilter(a,l),a.filterArea=_,this.alphaMaskIndex++},n.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},n.prototype.pushStencilMask=function(a){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(a)},n.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},n.prototype.pushScissorMask=function(a,i){i.renderable=!0;var l=this.renderer._activeRenderTarget,_=i.getBounds();_.fit(l.size),i.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var v=this.renderer.resolution;this.renderer.gl.scissor(_.x*v,(l.root?l.size.height-_.y-_.height:_.y)*v,_.width*v,_.height*v),this.scissorRenderTarget=l,this.scissorData=i,this.scissor=!0},n.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var a=this.renderer.gl;a.disable(a.SCISSOR_TEST)},n}(P.default);E.default=h},7176:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2524),P=p(C);function p(f){return f&&f.__esModule?f:{default:f}}function O(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function T(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function y(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){y(h,f);function h(o){O(this,h);var n=T(this,f.call(this,o));return n.stencilMaskStack=null,n}return h.prototype.setMaskStack=function(n){this.stencilMaskStack=n;var u=this.renderer.gl;n.length===0?u.disable(u.STENCIL_TEST):u.enable(u.STENCIL_TEST)},h.prototype.pushStencil=function(n){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var u=this.renderer.gl,a=this.stencilMaskStack.length;a===0&&u.enable(u.STENCIL_TEST),this.stencilMaskStack.push(n),u.colorMask(!1,!1,!1,!1),u.stencilFunc(u.EQUAL,a,this._getBitwiseMask()),u.stencilOp(u.KEEP,u.KEEP,u.INCR),this.renderer.plugins.graphics.render(n),this._useCurrent()},h.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var n=this.renderer.gl,u=this.stencilMaskStack.pop();this.stencilMaskStack.length===0?(n.disable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.clearStencil(0)):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),this.renderer.plugins.graphics.render(u),this._useCurrent())},h.prototype._useCurrent=function(){var n=this.renderer.gl;n.colorMask(!0,!0,!0,!0),n.stencilFunc(n.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)},h.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},h.prototype.destroy=function(){P.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},h}(P.default);E.default=c},2524:(J,E)=>{"use strict";E.__esModule=!0;function L(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}var C=function(){function P(p){L(this,P),this.renderer=p,this.renderer.on("context",this.onContextChange,this)}return P.prototype.onContextChange=function(){},P.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},P}();E.default=C},3364:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2524),P=p(C);function p(f){return f&&f.__esModule?f:{default:f}}function O(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function T(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function y(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){y(h,f);function h(){return O(this,h),T(this,f.apply(this,arguments))}return h.prototype.start=function(){},h.prototype.stop=function(){this.flush()},h.prototype.flush=function(){},h.prototype.render=function(n){},h}(P.default);E.default=c},2454:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(3070),P=T(C),p=L(4014),O=T(p);function T(f){return f&&f.__esModule?f:{default:f}}function y(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var c=function(){function f(h,o){y(this,f),this.gl=h,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(8*2);for(var n=0;n<4;n++)this.interleaved[n*4]=this.vertices[n*2],this.interleaved[n*4+1]=this.vertices[n*2+1],this.interleaved[n*4+2]=this.uvs[n*2],this.interleaved[n*4+3]=this.uvs[n*2+1];this.indices=(0,O.default)(1),this.vertexBuffer=P.default.GLBuffer.createVertexBuffer(h,this.interleaved,h.STATIC_DRAW),this.indexBuffer=P.default.GLBuffer.createIndexBuffer(h,this.indices,h.STATIC_DRAW),this.vao=new P.default.VertexArrayObject(h,o)}return f.prototype.initVao=function(o){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,o.attributes.aVertexPosition,this.gl.FLOAT,!1,4*4,0).addAttribute(this.vertexBuffer,o.attributes.aTextureCoord,this.gl.FLOAT,!1,4*4,2*4)},f.prototype.map=function(o,n){var u=0,a=0;return this.uvs[0]=u,this.uvs[1]=a,this.uvs[2]=u+n.width/o.width,this.uvs[3]=a,this.uvs[4]=u+n.width/o.width,this.uvs[5]=a+n.height/o.height,this.uvs[6]=u,this.uvs[7]=a+n.height/o.height,u=n.x,a=n.y,this.vertices[0]=u,this.vertices[1]=a,this.vertices[2]=u+n.width,this.vertices[3]=a,this.vertices[4]=u+n.width,this.vertices[5]=a+n.height,this.vertices[6]=u,this.vertices[7]=a+n.height,this},f.prototype.upload=function(){for(var o=0;o<4;o++)this.interleaved[o*4]=this.vertices[o*2],this.interleaved[o*4+1]=this.vertices[o*2+1],this.interleaved[o*4+2]=this.uvs[o*2],this.interleaved[o*4+3]=this.uvs[o*2+1];return this.vertexBuffer.upload(this.interleaved),this},f.prototype.destroy=function(){var o=this.gl;o.deleteBuffer(this.vertexBuffer),o.deleteBuffer(this.indexBuffer)},f}();E.default=c},7867:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(892),P=L(4633),p=L(7505),O=y(p),T=L(3070);function y(h){return h&&h.__esModule?h:{default:h}}function c(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(o,n,u,a,i,l){c(this,h),this.gl=o,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new C.Rectangle(0,0,1,1),this.resolution=i||O.default.RESOLUTION,this.projectionMatrix=new C.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new C.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=a!==void 0?a:O.default.SCALE_MODE,this.root=l||!1,this.root?(this.frameBuffer=new T.GLFramebuffer(o,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=T.GLFramebuffer.createRGBA(o,100,100),this.scaleMode===P.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,u)}return h.prototype.clear=function(n){var u=n||this.clearColor;this.frameBuffer.clear(u[0],u[1],u[2],u[3])},h.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},h.prototype.setFrame=function(n,u){this.destinationFrame=n||this.destinationFrame||this.defaultFrame,this.sourceFrame=u||this.sourceFrame||this.destinationFrame},h.prototype.activate=function(){var n=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(n.enable(n.SCISSOR_TEST),n.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):n.disable(n.SCISSOR_TEST),n.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},h.prototype.calculateProjection=function(n,u){var a=this.projectionMatrix;u=u||n,a.identity(),this.root?(a.a=1/n.width*2,a.d=-1/n.height*2,a.tx=-1-u.x*a.a,a.ty=1-u.y*a.d):(a.a=1/n.width*2,a.d=1/n.height*2,a.tx=-1-u.x*a.a,a.ty=-1-u.y*a.d)},h.prototype.resize=function(n,u){if(n=n|0,u=u|0,!(this.size.width===n&&this.size.height===u)){this.size.width=n,this.size.height=u,this.defaultFrame.width=n,this.defaultFrame.height=u,this.frameBuffer.resize(n*this.resolution,u*this.resolution);var a=this.frame||this.size;this.calculateProjection(a)}},h.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},h}();E.default=f},5303:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=T;var C=L(3070),P=p(C);function p(c){return c&&c.__esModule?c:{default:c}}var O=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function T(c,f){var h=!f;if(c===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(h){var o=document.createElement("canvas");o.width=1,o.height=1,f=P.default.createContext(o)}for(var n=f.createShader(f.FRAGMENT_SHADER);;){var u=O.replace(/%forloop%/gi,y(c));if(f.shaderSource(n,u),f.compileShader(n),!f.getShaderParameter(n,f.COMPILE_STATUS))c=c/2|0;else break}return h&&f.getExtension("WEBGL_lose_context")&&f.getExtension("WEBGL_lose_context").loseContext(),c}function y(c){for(var f="",h=0;h<c;++h)h>0&&(f+=`
else `),h<c-1&&(f+="if(test == "+h+".0){}");return f}},3622:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=P;var C=L(4633);function P(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return O[C.BLEND_MODES.NORMAL]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.ADD]=[p.ONE,p.ONE],O[C.BLEND_MODES.MULTIPLY]=[p.DST_COLOR,p.ONE_MINUS_SRC_ALPHA,p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.SCREEN]=[p.ONE,p.ONE_MINUS_SRC_COLOR,p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.OVERLAY]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.DARKEN]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.LIGHTEN]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.COLOR_DODGE]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.COLOR_BURN]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.HARD_LIGHT]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.SOFT_LIGHT]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.DIFFERENCE]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.EXCLUSION]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.HUE]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.SATURATION]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.COLOR]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.LUMINOSITY]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.NORMAL_NPM]=[p.SRC_ALPHA,p.ONE_MINUS_SRC_ALPHA,p.ONE,p.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.ADD_NPM]=[p.SRC_ALPHA,p.ONE,p.ONE,p.ONE],O[C.BLEND_MODES.SCREEN_NPM]=[p.SRC_ALPHA,p.ONE_MINUS_SRC_COLOR,p.ONE,p.ONE_MINUS_SRC_ALPHA],O}},5580:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=P;var C=L(4633);function P(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O[C.DRAW_MODES.POINTS]=p.POINTS,O[C.DRAW_MODES.LINES]=p.LINES,O[C.DRAW_MODES.LINE_LOOP]=p.LINE_LOOP,O[C.DRAW_MODES.LINE_STRIP]=p.LINE_STRIP,O[C.DRAW_MODES.TRIANGLES]=p.TRIANGLES,O[C.DRAW_MODES.TRIANGLE_STRIP]=p.TRIANGLE_STRIP,O[C.DRAW_MODES.TRIANGLE_FAN]=p.TRIANGLE_FAN,O}},3766:(J,E)=>{"use strict";E.__esModule=!0,E.default=L;function L(C){var P=C.getContextAttributes();P.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},7505:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(585),P=T(C),p=L(9681),O=T(p);function T(y){return y&&y.__esModule?y:{default:y}}E.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,P.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,O.default)(),MESH_CANVAS_PADDING:0}},8391:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function l(_,v){for(var g=0;g<v.length;g++){var m=v[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,v,g){return v&&l(_.prototype,v),g&&l(_,g),_}}(),P=L(892),p=L(7768),O=L(4633),T=L(2631),y=h(T),c=L(1822),f=h(c);function h(l){return l&&l.__esModule?l:{default:l}}function o(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")}function n(l,_){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:l}function u(l,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);l.prototype=Object.create(_&&_.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(l,_):l.__proto__=_)}var a=new P.Point,i=function(l){u(_,l);function _(v){o(this,_);var g=n(this,l.call(this));return g._anchor=new P.ObservablePoint(g._onAnchorUpdate,g,v?v.defaultAnchor.x:0,v?v.defaultAnchor.y:0),g._texture=null,g._width=0,g._height=0,g._tint=null,g._tintRGB=null,g.tint=16777215,g.blendMode=O.BLEND_MODES.NORMAL,g.shader=null,g.cachedTint=16777215,g.texture=v||y.default.EMPTY,g.vertexData=new Float32Array(8),g.vertexTrimmedData=null,g._transformID=-1,g._textureID=-1,g._transformTrimmedID=-1,g._textureTrimmedID=-1,g.pluginName="sprite",g}return _.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,p.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,p.sign)(this.scale.y)*this._height/this._texture.orig.height)},_.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},_.prototype.calculateVertices=function(){if(!(this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID)){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var g=this._texture,m=this.transform.worldTransform,b=m.a,I=m.b,S=m.c,w=m.d,D=m.tx,A=m.ty,M=this.vertexData,N=g.trim,K=g.orig,G=this._anchor,U=0,F=0,X=0,B=0;N?(F=N.x-G._x*K.width,U=F+N.width,B=N.y-G._y*K.height,X=B+N.height):(F=-G._x*K.width,U=F+K.width,B=-G._y*K.height,X=B+K.height),M[0]=b*F+S*B+D,M[1]=w*B+I*F+A,M[2]=b*U+S*B+D,M[3]=w*B+I*U+A,M[4]=b*U+S*X+D,M[5]=w*X+I*U+A,M[6]=b*F+S*X+D,M[7]=w*X+I*F+A}},_.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var g=this._texture,m=this.vertexTrimmedData,b=g.orig,I=this._anchor,S=this.transform.worldTransform,w=S.a,D=S.b,A=S.c,M=S.d,N=S.tx,K=S.ty,G=-I._x*b.width,U=G+b.width,F=-I._y*b.height,X=F+b.height;m[0]=w*G+A*F+N,m[1]=M*F+D*G+K,m[2]=w*U+A*F+N,m[3]=M*F+D*U+K,m[4]=w*U+A*X+N,m[5]=M*X+D*U+K,m[6]=w*G+A*X+N,m[7]=M*X+D*G+K},_.prototype._renderWebGL=function(g){this.calculateVertices(),g.setObjectRenderer(g.plugins[this.pluginName]),g.plugins[this.pluginName].render(this)},_.prototype._renderCanvas=function(g){g.plugins[this.pluginName].render(this)},_.prototype._calculateBounds=function(){var g=this._texture.trim,m=this._texture.orig;!g||g.width===m.width&&g.height===m.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},_.prototype.getLocalBounds=function(g){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),g||(this._localBoundsRect||(this._localBoundsRect=new P.Rectangle),g=this._localBoundsRect),this._bounds.getRectangle(g)):l.prototype.getLocalBounds.call(this,g)},_.prototype.containsPoint=function(g){this.worldTransform.applyInverse(g,a);var m=this._texture.orig.width,b=this._texture.orig.height,I=-m*this.anchor.x,S=0;return!!(a.x>=I&&a.x<I+m&&(S=-b*this.anchor.y,a.y>=S&&a.y<S+b))},_.prototype.destroy=function(g){l.prototype.destroy.call(this,g),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var m=typeof g=="boolean"?g:g&&g.texture;if(m){var b=typeof g=="boolean"?g:g&&g.baseTexture;this._texture.destroy(!!b)}this._texture=null,this.shader=null},_.from=function(g){return new _(y.default.from(g))},_.fromFrame=function(g){var m=p.TextureCache[g];if(!m)throw new Error('The frameId "'+g+'" does not exist in the texture cache');return new _(m)},_.fromImage=function(g,m,b){return new _(y.default.fromImage(g,m,b))},C(_,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(g){var m=(0,p.sign)(this.scale.x)||1;this.scale.x=m*g/this._texture.orig.width,this._width=g}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(g){var m=(0,p.sign)(this.scale.y)||1;this.scale.y=m*g/this._texture.orig.height,this._height=g}},{key:"anchor",get:function(){return this._anchor},set:function(g){this._anchor.copy(g)}},{key:"tint",get:function(){return this._tint},set:function(g){this._tint=g,this._tintRGB=(g>>16)+(g&65280)+((g&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(g){this._texture!==g&&(this._texture=g||y.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,g&&(g.baseTexture.hasLoaded?this._onTextureUpdate():g.once("update",this._onTextureUpdate,this)))}}]),_}(f.default);E.default=i},3440:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(4695),P=c(C),p=L(4633),O=L(892),T=L(4099),y=c(T);function c(n){return n&&n.__esModule?n:{default:n}}function f(n,u){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function")}var h=new O.Matrix,o=function(){function n(u){f(this,n),this.renderer=u}return n.prototype.render=function(a){var i=a._texture,l=this.renderer,_=i._frame.width,v=i._frame.height,g=a.transform.worldTransform,m=0,b=0;if(!(i.orig.width<=0||i.orig.height<=0||!i.baseTexture.source)&&(l.setBlendMode(a.blendMode),i.valid)){l.context.globalAlpha=a.worldAlpha;var I=i.baseTexture.scaleMode===p.SCALE_MODES.LINEAR;l.smoothProperty&&l.context[l.smoothProperty]!==I&&(l.context[l.smoothProperty]=I),i.trim?(m=i.trim.width/2+i.trim.x-a.anchor.x*i.orig.width,b=i.trim.height/2+i.trim.y-a.anchor.y*i.orig.height):(m=(.5-a.anchor.x)*i.orig.width,b=(.5-a.anchor.y)*i.orig.height),i.rotate&&(g.copy(h),g=h,O.GroupD8.matrixAppendRotationInv(g,i.rotate,m,b),m=0,b=0),m-=_/2,b-=v/2,l.roundPixels?(l.context.setTransform(g.a,g.b,g.c,g.d,g.tx*l.resolution|0,g.ty*l.resolution|0),m=m|0,b=b|0):l.context.setTransform(g.a,g.b,g.c,g.d,g.tx*l.resolution,g.ty*l.resolution);var S=i.baseTexture.resolution;a.tint!==16777215?((a.cachedTint!==a.tint||a.tintedTexture.tintId!==a._texture._updateID)&&(a.cachedTint=a.tint,a.tintedTexture=y.default.getTintedTexture(a,a.tint)),l.context.drawImage(a.tintedTexture,0,0,_*S,v*S,m*l.resolution,b*l.resolution,_*l.resolution,v*l.resolution)):l.context.drawImage(i.baseTexture.source,i._frame.x*S,i._frame.y*S,_*S,v*S,m*l.resolution,b*l.resolution,_*l.resolution,v*l.resolution)}},n.prototype.destroy=function(){this.renderer=null},n}();E.default=o,P.default.registerPlugin("sprite",o)},4099:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(7768),P=L(8886),p=O(P);function O(y){return y&&y.__esModule?y:{default:y}}var T={getTintedTexture:function(c,f){var h=c._texture;f=T.roundColor(f);var o="#"+("00000"+(f|0).toString(16)).substr(-6);h.tintCache=h.tintCache||{};var n=h.tintCache[o],u=void 0;if(n){if(n.tintId===h._updateID)return h.tintCache[o];u=h.tintCache[o]}else u=T.canvas||document.createElement("canvas");if(T.tintMethod(h,f,u),u.tintId=h._updateID,T.convertTintToImage){var a=new Image;a.src=u.toDataURL(),h.tintCache[o]=a}else h.tintCache[o]=u,T.canvas=null;return u},tintWithMultiply:function(c,f,h){var o=h.getContext("2d"),n=c._frame.clone(),u=c.baseTexture.resolution;n.x*=u,n.y*=u,n.width*=u,n.height*=u,h.width=Math.ceil(n.width),h.height=Math.ceil(n.height),o.save(),o.fillStyle="#"+("00000"+(f|0).toString(16)).substr(-6),o.fillRect(0,0,n.width,n.height),o.globalCompositeOperation="multiply",o.drawImage(c.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),o.globalCompositeOperation="destination-atop",o.drawImage(c.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),o.restore()},tintWithOverlay:function(c,f,h){var o=h.getContext("2d"),n=c._frame.clone(),u=c.baseTexture.resolution;n.x*=u,n.y*=u,n.width*=u,n.height*=u,h.width=Math.ceil(n.width),h.height=Math.ceil(n.height),o.save(),o.globalCompositeOperation="copy",o.fillStyle="#"+("00000"+(f|0).toString(16)).substr(-6),o.fillRect(0,0,n.width,n.height),o.globalCompositeOperation="destination-atop",o.drawImage(c.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),o.restore()},tintWithPerPixel:function(c,f,h){var o=h.getContext("2d"),n=c._frame.clone(),u=c.baseTexture.resolution;n.x*=u,n.y*=u,n.width*=u,n.height*=u,h.width=Math.ceil(n.width),h.height=Math.ceil(n.height),o.save(),o.globalCompositeOperation="copy",o.drawImage(c.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),o.restore();for(var a=(0,C.hex2rgb)(f),i=a[0],l=a[1],_=a[2],v=o.getImageData(0,0,n.width,n.height),g=v.data,m=0;m<g.length;m+=4)g[m+0]*=i,g[m+1]*=l,g[m+2]*=_;o.putImageData(v,0,0)},roundColor:function(c){var f=T.cacheStepsPerColorChannel,h=(0,C.hex2rgb)(c);return h[0]=Math.min(255,h[0]/f*f),h[1]=Math.min(255,h[1]/f*f),h[2]=Math.min(255,h[2]/f*f),(0,C.rgb2hex)(h)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,p.default)(),tintMethod:0};T.tintMethod=T.canUseMultiply?T.tintWithMultiply:T.tintWithPerPixel,E.default=T},4901:(J,E)=>{"use strict";E.__esModule=!0;function L(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}var C=function(){function P(p){L(this,P),this.vertices=new ArrayBuffer(p),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return P.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},P}();E.default=C},9086:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(3364),P=b(C),p=L(7648),O=b(p),T=L(4014),y=b(T),c=L(1903),f=b(c),h=L(5303),o=b(h),n=L(4901),u=b(n),a=L(7505),i=b(a),l=L(7768),_=L(3070),v=b(_),g=L(746),m=b(g);function b(N){return N&&N.__esModule?N:{default:N}}function I(N,K){if(!(N instanceof K))throw new TypeError("Cannot call a class as a function")}function S(N,K){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:N}function w(N,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);N.prototype=Object.create(K&&K.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(N,K):N.__proto__=K)}var D=0,A=0,M=function(N){w(K,N);function K(G){I(this,K);var U=S(this,N.call(this,G));U.vertSize=5,U.vertByteSize=U.vertSize*4,U.size=i.default.SPRITE_BATCH_SIZE,U.buffers=[];for(var F=1;F<=m.default.nextPow2(U.size);F*=2)U.buffers.push(new u.default(F*4*U.vertByteSize));U.indices=(0,y.default)(U.size),U.shader=null,U.currentIndex=0,U.groups=[];for(var X=0;X<U.size;X++)U.groups[X]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return U.sprites=[],U.vertexBuffers=[],U.vaos=[],U.vaoMax=2,U.vertexCount=0,U.renderer.on("prerender",U.onPrerender,U),U}return K.prototype.onContextChange=function(){var U=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(U.getParameter(U.MAX_TEXTURE_IMAGE_UNITS),i.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,o.default)(this.MAX_TEXTURES,U)),this.shader=(0,f.default)(U,this.MAX_TEXTURES),this.indexBuffer=v.default.GLBuffer.createIndexBuffer(U,this.indices,U.STATIC_DRAW),this.renderer.bindVao(null);for(var F=this.shader.attributes,X=0;X<this.vaoMax;X++){var B=this.vertexBuffers[X]=v.default.GLBuffer.createVertexBuffer(U,null,U.STREAM_DRAW),V=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(B,F.aVertexPosition,U.FLOAT,!1,this.vertByteSize,0).addAttribute(B,F.aTextureCoord,U.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(B,F.aColor,U.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);F.aTextureId&&V.addAttribute(B,F.aTextureId,U.FLOAT,!1,this.vertByteSize,4*4),this.vaos[X]=V}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},K.prototype.onPrerender=function(){this.vertexCount=0},K.prototype.render=function(U){this.currentIndex>=this.size&&this.flush(),!!U._texture._uvs&&(this.sprites[this.currentIndex++]=U)},K.prototype.flush=function(){if(this.currentIndex!==0){var U=this.renderer.gl,F=this.MAX_TEXTURES,X=m.default.nextPow2(this.currentIndex),B=m.default.log2(X),V=this.buffers[B],j=this.sprites,H=this.groups,Y=V.float32View,$=V.uint32View,re=this.boundTextures,te=this.renderer.boundTextures,se=this.renderer.textureGC.count,ae=0,q=void 0,ne=void 0,ue=1,Ee=0,de=H[0],Le=void 0,Fe=void 0,ge=l.premultiplyBlendMode[j[0]._texture.baseTexture.premultipliedAlpha?1:0][j[0].blendMode];de.textureCount=0,de.start=0,de.blend=ge,D++;var fe=void 0;for(fe=0;fe<F;++fe){var Ge=te[fe];if(Ge._enabled===D){re[fe]=this.renderer.emptyTextures[fe];continue}re[fe]=Ge,Ge._virtalBoundId=fe,Ge._enabled=D}for(D++,fe=0;fe<this.currentIndex;++fe){var Je=j[fe];j[fe]=null,q=Je._texture.baseTexture;var st=l.premultiplyBlendMode[Number(q.premultipliedAlpha)][Je.blendMode];if(ge!==st&&(ge=st,ne=null,Ee=F,D++),ne!==q&&(ne=q,q._enabled!==D)){if(Ee===F&&(D++,de.size=fe-de.start,Ee=0,de=H[ue++],de.blend=ge,de.textureCount=0,de.start=fe),q.touched=se,q._virtalBoundId===-1)for(var rt=0;rt<F;++rt){var dt=(rt+A)%F,Lt=re[dt];if(Lt._enabled!==D){A++,Lt._virtalBoundId=-1,q._virtalBoundId=dt,re[dt]=q;break}}q._enabled=D,de.textureCount++,de.ids[Ee]=q._virtalBoundId,de.textures[Ee++]=q}if(Le=Je.vertexData,Fe=Je._texture._uvs.uvsUint32,this.renderer.roundPixels){var nt=this.renderer.resolution;Y[ae]=(Le[0]*nt|0)/nt,Y[ae+1]=(Le[1]*nt|0)/nt,Y[ae+5]=(Le[2]*nt|0)/nt,Y[ae+6]=(Le[3]*nt|0)/nt,Y[ae+10]=(Le[4]*nt|0)/nt,Y[ae+11]=(Le[5]*nt|0)/nt,Y[ae+15]=(Le[6]*nt|0)/nt,Y[ae+16]=(Le[7]*nt|0)/nt}else Y[ae]=Le[0],Y[ae+1]=Le[1],Y[ae+5]=Le[2],Y[ae+6]=Le[3],Y[ae+10]=Le[4],Y[ae+11]=Le[5],Y[ae+15]=Le[6],Y[ae+16]=Le[7];$[ae+2]=Fe[0],$[ae+7]=Fe[1],$[ae+12]=Fe[2],$[ae+17]=Fe[3];var Yt=Math.min(Je.worldAlpha,1),Lr=Yt<1&&q.premultipliedAlpha?(0,l.premultiplyTint)(Je._tintRGB,Yt):Je._tintRGB+(Yt*255<<24);$[ae+3]=$[ae+8]=$[ae+13]=$[ae+18]=Lr,Y[ae+4]=Y[ae+9]=Y[ae+14]=Y[ae+19]=q._virtalBoundId,ae+=20}if(de.size=fe-de.start,i.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(V.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var zt=this.shader.attributes,or=this.vertexBuffers[this.vertexCount]=v.default.GLBuffer.createVertexBuffer(U,null,U.STREAM_DRAW),kr=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(or,zt.aVertexPosition,U.FLOAT,!1,this.vertByteSize,0).addAttribute(or,zt.aTextureCoord,U.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(or,zt.aColor,U.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);zt.aTextureId&&kr.addAttribute(or,zt.aTextureId,U.FLOAT,!1,this.vertByteSize,4*4),this.vaos[this.vertexCount]=kr}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(V.vertices,0,!1),this.vertexCount++}for(fe=0;fe<F;++fe)te[fe]._virtalBoundId=-1;for(fe=0;fe<ue;++fe){for(var Rt=H[fe],An=Rt.textureCount,Zt=0;Zt<An;Zt++)ne=Rt.textures[Zt],te[Rt.ids[Zt]]!==ne&&this.renderer.bindTexture(ne,Rt.ids[Zt],!0),ne._virtalBoundId=-1;this.renderer.state.setBlendMode(Rt.blend),U.drawElements(U.TRIANGLES,Rt.size*6,U.UNSIGNED_SHORT,Rt.start*6*2)}this.currentIndex=0}},K.prototype.start=function(){this.renderer.bindShader(this.shader),i.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},K.prototype.stop=function(){this.flush()},K.prototype.destroy=function(){for(var U=0;U<this.vaoMax;U++)this.vertexBuffers[U]&&this.vertexBuffers[U].destroy(),this.vaos[U]&&this.vaos[U].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),N.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var F=0;F<this.buffers.length;++F)this.buffers[F].destroy()},K}(P.default);E.default=M,O.default.registerPlugin("sprite",M)},1903:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=y;var C=L(2916),P=O(C),p=L(6470);function O(f){return f&&f.__esModule?f:{default:f}}var T=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join(`
`);function y(f,h){var o=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor;
}
`,n=T;n=n.replace(/%count%/gi,h),n=n.replace(/%forloop%/gi,c(h));for(var u=new P.default(f,o,n),a=[],i=0;i<h;i++)a[i]=i;return u.bind(),u.uniforms.uSamplers=a,u}function c(f){var h="";h+=`
`,h+=`
`;for(var o=0;o<f;o++)o>0&&(h+=`
else `),o<f-1&&(h+="if(vTextureId < "+o+".5)"),h+=`
{`,h+=`
	color = texture2D(uSamplers[`+o+"], vTextureCoord);",h+=`
}`;return h+=`
`,h+=`
`,h}},569:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function w(D,A){for(var M=0;M<A.length;M++){var N=A[M];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(D,N.key,N)}}return function(D,A,M){return A&&w(D.prototype,A),M&&w(D,M),D}}(),P=L(8391),p=v(P),O=L(2631),T=v(O),y=L(892),c=L(7768),f=L(4633),h=L(7505),o=v(h),n=L(2033),u=v(n),a=L(596),i=v(a),l=L(625),_=v(l);function v(w){return w&&w.__esModule?w:{default:w}}function g(w,D){if(!(w instanceof D))throw new TypeError("Cannot call a class as a function")}function m(w,D){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:w}function b(w,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);w.prototype=Object.create(D&&D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(w,D):w.__proto__=D)}var I={texture:!0,children:!1,baseTexture:!0},S=function(w){b(D,w);function D(A,M,N){g(this,D),N=N||document.createElement("canvas"),N.width=3,N.height=3;var K=T.default.fromCanvas(N,o.default.SCALE_MODE,"text");K.orig=new y.Rectangle,K.trim=new y.Rectangle;var G=m(this,w.call(this,K));return T.default.addToCache(G._texture,G._texture.baseTexture.textureCacheIds[0]),G.canvas=N,G.context=G.canvas.getContext("2d"),G.resolution=o.default.RESOLUTION,G._text=null,G._style=null,G._styleListener=null,G._font="",G.text=A,G.style=M,G.localStyleID=-1,G}return D.prototype.updateText=function(M){var N=this._style;if(this.localStyleID!==N.styleID&&(this.dirty=!0,this.localStyleID=N.styleID),!(!this.dirty&&M)){this._font=this._style.toFontString();var K=this.context,G=i.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),U=G.width,F=G.height,X=G.lines,B=G.lineHeight,V=G.lineWidths,j=G.maxLineWidth,H=G.fontProperties;this.canvas.width=Math.ceil((Math.max(1,U)+N.padding*2)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,F)+N.padding*2)*this.resolution),K.scale(this.resolution,this.resolution),K.clearRect(0,0,this.canvas.width,this.canvas.height),K.font=this._font,K.strokeStyle=N.stroke,K.lineWidth=N.strokeThickness,K.textBaseline=N.textBaseline,K.lineJoin=N.lineJoin,K.miterLimit=N.miterLimit;var Y=void 0,$=void 0;if(N.dropShadow){K.fillStyle=N.dropShadowColor,K.globalAlpha=N.dropShadowAlpha,K.shadowBlur=N.dropShadowBlur,N.dropShadowBlur>0&&(K.shadowColor=N.dropShadowColor);for(var re=Math.cos(N.dropShadowAngle)*N.dropShadowDistance,te=Math.sin(N.dropShadowAngle)*N.dropShadowDistance,se=0;se<X.length;se++)Y=N.strokeThickness/2,$=N.strokeThickness/2+se*B+H.ascent,N.align==="right"?Y+=j-V[se]:N.align==="center"&&(Y+=(j-V[se])/2),N.fill&&(this.drawLetterSpacing(X[se],Y+re+N.padding,$+te+N.padding),N.stroke&&N.strokeThickness&&(K.strokeStyle=N.dropShadowColor,this.drawLetterSpacing(X[se],Y+re+N.padding,$+te+N.padding,!0),K.strokeStyle=N.stroke))}K.shadowBlur=0,K.globalAlpha=1,K.fillStyle=this._generateFillStyle(N,X);for(var ae=0;ae<X.length;ae++)Y=N.strokeThickness/2,$=N.strokeThickness/2+ae*B+H.ascent,N.align==="right"?Y+=j-V[ae]:N.align==="center"&&(Y+=(j-V[ae])/2),N.stroke&&N.strokeThickness&&this.drawLetterSpacing(X[ae],Y+N.padding,$+N.padding,!0),N.fill&&this.drawLetterSpacing(X[ae],Y+N.padding,$+N.padding);this.updateTexture()}},D.prototype.drawLetterSpacing=function(M,N,K){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,U=this._style,F=U.letterSpacing;if(F===0){G?this.context.strokeText(M,N,K):this.context.fillText(M,N,K);return}for(var X=String.prototype.split.call(M,""),B=N,V=0,j="",H=this.context.measureText(M).width,Y=0;V<M.length;)j=X[V++],G?this.context.strokeText(j,B,K):this.context.fillText(j,B,K),Y=this.context.measureText(M.substring(V)).width,B+=H-Y+F,H=Y},D.prototype.updateTexture=function(){var M=this.canvas;if(this._style.trim){var N=(0,_.default)(M);N.data&&(M.width=N.width,M.height=N.height,this.context.putImageData(N.data,0,0))}var K=this._texture,G=this._style,U=G.trim?0:G.padding,F=K.baseTexture;F.hasLoaded=!0,F.resolution=this.resolution,F.realWidth=M.width,F.realHeight=M.height,F.width=M.width/this.resolution,F.height=M.height/this.resolution,K.trim.width=K._frame.width=M.width/this.resolution,K.trim.height=K._frame.height=M.height/this.resolution,K.trim.x=-U,K.trim.y=-U,K.orig.width=K._frame.width-U*2,K.orig.height=K._frame.height-U*2,this._onTextureUpdate(),F.emit("update",F),this.dirty=!1},D.prototype.renderWebGL=function(M){this.resolution!==M.resolution&&(this.resolution=M.resolution,this.dirty=!0),this.updateText(!0),w.prototype.renderWebGL.call(this,M)},D.prototype._renderCanvas=function(M){this.resolution!==M.resolution&&(this.resolution=M.resolution,this.dirty=!0),this.updateText(!0),w.prototype._renderCanvas.call(this,M)},D.prototype.getLocalBounds=function(M){return this.updateText(!0),w.prototype.getLocalBounds.call(this,M)},D.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},D.prototype._onStyleChange=function(){this.dirty=!0},D.prototype._generateFillStyle=function(M,N){if(!Array.isArray(M.fill))return M.fill;if(navigator.isCocoonJS)return M.fill[0];var K=void 0,G=void 0,U=void 0,F=void 0,X=this.canvas.width/this.resolution,B=this.canvas.height/this.resolution,V=M.fill.slice(),j=M.fillGradientStops.slice();if(!j.length)for(var H=V.length+1,Y=1;Y<H;++Y)j.push(Y/H);if(V.unshift(M.fill[0]),j.unshift(0),V.push(M.fill[M.fill.length-1]),j.push(1),M.fillGradientType===f.TEXT_GRADIENT.LINEAR_VERTICAL){K=this.context.createLinearGradient(X/2,0,X/2,B),G=(V.length+1)*N.length,U=0;for(var $=0;$<N.length;$++){U+=1;for(var re=0;re<V.length;re++)typeof j[re]=="number"?F=j[re]/N.length+$/N.length:F=U/G,K.addColorStop(F,V[re]),U++}}else{K=this.context.createLinearGradient(0,B/2,X,B/2),G=V.length+1,U=1;for(var te=0;te<V.length;te++)typeof j[te]=="number"?F=j[te]:F=U/G,K.addColorStop(F,V[te]),U++}return K},D.prototype.destroy=function(M){typeof M=="boolean"&&(M={children:M}),M=Object.assign({},I,M),w.prototype.destroy.call(this,M),this.context=null,this.canvas=null,this._style=null},C(D,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(M){this.updateText(!0);var N=(0,c.sign)(this.scale.x)||1;this.scale.x=N*M/this._texture.orig.width,this._width=M}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(M){this.updateText(!0);var N=(0,c.sign)(this.scale.y)||1;this.scale.y=N*M/this._texture.orig.height,this._height=M}},{key:"style",get:function(){return this._style},set:function(M){M=M||{},M instanceof u.default?this._style=M:this._style=new u.default(M),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(M){M=String(M===""||M===null||M===void 0?" ":M),this._text!==M&&(this._text=M,this.dirty=!0)}}]),D}(p.default);E.default=S},596:(J,E)=>{"use strict";E.__esModule=!0;function L(p,O){if(!(p instanceof O))throw new TypeError("Cannot call a class as a function")}var C=function(){function p(O,T,y,c,f,h,o,n,u){L(this,p),this.text=O,this.style=T,this.width=y,this.height=c,this.lines=f,this.lineWidths=h,this.lineHeight=o,this.maxLineWidth=n,this.fontProperties=u}return p.measureText=function(T,y,c){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p._canvas;c=c??y.wordWrap;var h=y.toFontString(),o=p.measureFont(h),n=f.getContext("2d");n.font=h;for(var u=c?p.wordWrap(T,y,f):T,a=u.split(/(?:\r\n|\r|\n)/),i=new Array(a.length),l=0,_=0;_<a.length;_++){var v=n.measureText(a[_]).width+(a[_].length-1)*y.letterSpacing;i[_]=v,l=Math.max(l,v)}var g=l+y.strokeThickness;y.dropShadow&&(g+=y.dropShadowDistance);var m=y.lineHeight||o.fontSize+y.strokeThickness,b=Math.max(m,o.fontSize+y.strokeThickness)+(a.length-1)*(m+y.leading);return y.dropShadow&&(b+=y.dropShadowDistance),new p(T,y,g,b,a,i,m+y.leading,l,o)},p.wordWrap=function(T,y){for(var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p._canvas,f=c.getContext("2d"),h=0,o="",n="",u={},a=y.letterSpacing,i=y.whiteSpace,l=p.collapseSpaces(i),_=p.collapseNewlines(i),v=!l,g=y.wordWrapWidth+a,m=p.tokenize(T),b=0;b<m.length;b++){var I=m[b];if(p.isNewline(I)){if(!_){n+=p.addLine(o),v=!l,o="",h=0;continue}I=" "}if(l){var S=p.isBreakingSpace(I),w=p.isBreakingSpace(o[o.length-1]);if(S&&w)continue}var D=p.getFromCache(I,a,u,f);if(D>g)if(o!==""&&(n+=p.addLine(o),o="",h=0),p.canBreakWords(I,y.breakWords))for(var A=I.split(""),M=0;M<A.length;M++){for(var N=A[M],K=1;A[M+K];){var G=A[M+K],U=N[N.length-1];if(!p.canBreakChars(U,G,I,M,y.breakWords))N+=G;else break;K++}M+=N.length-1;var F=p.getFromCache(N,a,u,f);F+h>g&&(n+=p.addLine(o),v=!1,o="",h=0),o+=N,h+=F}else{o.length>0&&(n+=p.addLine(o),o="",h=0);var X=b===m.length-1;n+=p.addLine(I,!X),v=!1,o="",h=0}else D+h>g&&(v=!1,n+=p.addLine(o),o="",h=0),(o.length>0||!p.isBreakingSpace(I)||v)&&(o+=I,h+=D)}return n+=p.addLine(o,!1),n},p.addLine=function(T){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return T=p.trimRight(T),T=y?T+`
`:T,T},p.getFromCache=function(T,y,c,f){var h=c[T];if(h===void 0){var o=T.length*y;h=f.measureText(T).width+o,c[T]=h}return h},p.collapseSpaces=function(T){return T==="normal"||T==="pre-line"},p.collapseNewlines=function(T){return T==="normal"},p.trimRight=function(T){if(typeof T!="string")return"";for(var y=T.length-1;y>=0;y--){var c=T[y];if(!p.isBreakingSpace(c))break;T=T.slice(0,-1)}return T},p.isNewline=function(T){return typeof T!="string"?!1:p._newlines.indexOf(T.charCodeAt(0))>=0},p.isBreakingSpace=function(T){return typeof T!="string"?!1:p._breakingSpaces.indexOf(T.charCodeAt(0))>=0},p.tokenize=function(T){var y=[],c="";if(typeof T!="string")return y;for(var f=0;f<T.length;f++){var h=T[f];if(p.isBreakingSpace(h)||p.isNewline(h)){c!==""&&(y.push(c),c=""),y.push(h);continue}c+=h}return c!==""&&y.push(c),y},p.canBreakWords=function(T,y){return y},p.canBreakChars=function(T,y,c,f,h){return!0},p.measureFont=function(T){if(p._fonts[T])return p._fonts[T];var y={},c=p._canvas,f=p._context;f.font=T;var h=p.METRICS_STRING+p.BASELINE_SYMBOL,o=Math.ceil(f.measureText(h).width),n=Math.ceil(f.measureText(p.BASELINE_SYMBOL).width),u=2*n;n=n*p.BASELINE_MULTIPLIER|0,c.width=o,c.height=u,f.fillStyle="#f00",f.fillRect(0,0,o,u),f.font=T,f.textBaseline="alphabetic",f.fillStyle="#000",f.fillText(h,0,n);var a=f.getImageData(0,0,o,u).data,i=a.length,l=o*4,_=0,v=0,g=!1;for(_=0;_<n;++_){for(var m=0;m<l;m+=4)if(a[v+m]!==255){g=!0;break}if(!g)v+=l;else break}for(y.ascent=n-_,v=i-l,g=!1,_=u;_>n;--_){for(var b=0;b<l;b+=4)if(a[v+b]!==255){g=!0;break}if(!g)v-=l;else break}return y.descent=_-n,y.fontSize=y.ascent+y.descent,p._fonts[T]=y,y},p.clearMetrics=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";T?delete p._fonts[T]:p._fonts={}},p}();E.default=C;var P=document.createElement("canvas");P.width=P.height=10,C._canvas=P,C._context=P.getContext("2d"),C._fonts={},C.METRICS_STRING="|\xC9q",C.BASELINE_SYMBOL="M",C.BASELINE_MULTIPLIER=1.4,C._newlines=[10,13],C._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},2033:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function u(a,i){for(var l=0;l<i.length;l++){var _=i[l];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(a,_.key,_)}}return function(a,i,l){return i&&u(a.prototype,i),l&&u(a,l),a}}(),P=L(4633),p=L(7768);function O(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}var T={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:P.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},y=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],c=function(){function u(a){O(this,u),this.styleID=0,this.reset(),n(this,a,a)}return u.prototype.clone=function(){var i={};return n(i,this,T),new u(i)},u.prototype.reset=function(){n(this,T,T)},u.prototype.toFontString=function(){var i=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,l=this.fontFamily;Array.isArray(this.fontFamily)||(l=this.fontFamily.split(","));for(var _=l.length-1;_>=0;_--){var v=l[_].trim();!/([\"\'])[^\'\"]+\1/.test(v)&&y.indexOf(v)<0&&(v='"'+v+'"'),l[_]=v}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+i+" "+l.join(",")},C(u,[{key:"align",get:function(){return this._align},set:function(i){this._align!==i&&(this._align=i,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(i){this._breakWords!==i&&(this._breakWords=i,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(i){this._dropShadow!==i&&(this._dropShadow=i,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(i){this._dropShadowAlpha!==i&&(this._dropShadowAlpha=i,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(i){this._dropShadowAngle!==i&&(this._dropShadowAngle=i,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(i){this._dropShadowBlur!==i&&(this._dropShadowBlur=i,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(i){var l=h(i);this._dropShadowColor!==l&&(this._dropShadowColor=l,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(i){this._dropShadowDistance!==i&&(this._dropShadowDistance=i,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(i){var l=h(i);this._fill!==l&&(this._fill=l,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(i){this._fillGradientType!==i&&(this._fillGradientType=i,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(i){o(this._fillGradientStops,i)||(this._fillGradientStops=i,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(i){this.fontFamily!==i&&(this._fontFamily=i,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(i){this._fontSize!==i&&(this._fontSize=i,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(i){this._fontStyle!==i&&(this._fontStyle=i,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(i){this._fontVariant!==i&&(this._fontVariant=i,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(i){this._fontWeight!==i&&(this._fontWeight=i,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(i){this._letterSpacing!==i&&(this._letterSpacing=i,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(i){this._lineHeight!==i&&(this._lineHeight=i,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(i){this._leading!==i&&(this._leading=i,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(i){this._lineJoin!==i&&(this._lineJoin=i,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(i){this._miterLimit!==i&&(this._miterLimit=i,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(i){this._padding!==i&&(this._padding=i,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(i){var l=h(i);this._stroke!==l&&(this._stroke=l,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(i){this._strokeThickness!==i&&(this._strokeThickness=i,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(i){this._textBaseline!==i&&(this._textBaseline=i,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(i){this._trim!==i&&(this._trim=i,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(i){this._whiteSpace!==i&&(this._whiteSpace=i,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(i){this._wordWrap!==i&&(this._wordWrap=i,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(i){this._wordWrapWidth!==i&&(this._wordWrapWidth=i,this.styleID++)}}]),u}();E.default=c;function f(u){return typeof u=="number"?(0,p.hex2string)(u):(typeof u=="string"&&u.indexOf("0x")===0&&(u=u.replace("0x","#")),u)}function h(u){if(Array.isArray(u)){for(var a=0;a<u.length;++a)u[a]=f(u[a]);return u}else return f(u)}function o(u,a){if(!Array.isArray(u)||!Array.isArray(a)||u.length!==a.length)return!1;for(var i=0;i<u.length;++i)if(u[i]!==a[i])return!1;return!0}function n(u,a,i){for(var l in i)Array.isArray(a[l])?u[l]=a[l].slice():u[l]=a[l]}},4566:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(9067),P=T(C),p=L(7505),O=T(p);function T(o){return o&&o.__esModule?o:{default:o}}function y(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function c(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:o}function f(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}var h=function(o){f(n,o);function n(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,i=arguments[2],l=arguments[3];y(this,n);var _=c(this,o.call(this,null,i));return _.resolution=l||O.default.RESOLUTION,_.width=Math.ceil(u),_.height=Math.ceil(a),_.realWidth=_.width*_.resolution,_.realHeight=_.height*_.resolution,_.scaleMode=i!==void 0?i:O.default.SCALE_MODE,_.hasLoaded=!0,_._glRenderTargets={},_._canvasRenderTarget=null,_.valid=!1,_}return n.prototype.resize=function(a,i){a=Math.ceil(a),i=Math.ceil(i),!(a===this.width&&i===this.height)&&(this.valid=a>0&&i>0,this.width=a,this.height=i,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,!!this.valid&&this.emit("update",this))},n.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.renderer=null},n}(P.default);E.default=h},9067:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(7768),P=L(7505),p=o(P),O=L(5323),T=o(O),y=L(1606),c=o(y),f=L(746),h=o(f);function o(l){return l&&l.__esModule?l:{default:l}}function n(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")}function u(l,_){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:l}function a(l,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);l.prototype=Object.create(_&&_.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(l,_):l.__proto__=_)}var i=function(l){a(_,l);function _(v,g,m){n(this,_);var b=u(this,l.call(this));return b.uid=(0,C.uid)(),b.touched=0,b.resolution=m||p.default.RESOLUTION,b.width=100,b.height=100,b.realWidth=100,b.realHeight=100,b.scaleMode=g!==void 0?g:p.default.SCALE_MODE,b.hasLoaded=!1,b.isLoading=!1,b.source=null,b.origSource=null,b.imageType=null,b.sourceScale=1,b.premultipliedAlpha=!0,b.imageUrl=null,b.isPowerOfTwo=!1,b.mipmap=p.default.MIPMAP_TEXTURES,b.wrapMode=p.default.WRAP_MODE,b._glTextures={},b._enabled=0,b._virtalBoundId=-1,b._destroyed=!1,b.textureCacheIds=[],v&&b.loadSource(v),b}return _.prototype.update=function(){this.imageType!=="svg"&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},_.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=h.default.isPow2(this.realWidth)&&h.default.isPow2(this.realHeight)},_.prototype.loadSource=function(g){var m=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,m&&this.source&&(this.source.onload=null,this.source.onerror=null);var b=!this.source;if(this.source=g,(g.src&&g.complete||g.getContext)&&g.width&&g.height)this._updateImageType(),this.imageType==="svg"?this._loadSvgSource():this._sourceLoaded(),b&&this.emit("loaded",this);else if(!g.getContext){this.isLoading=!0;var I=this;if(g.onload=function(){if(I._updateImageType(),g.onload=null,g.onerror=null,!!I.isLoading){if(I.isLoading=!1,I._sourceLoaded(),I.imageType==="svg"){I._loadSvgSource();return}I.emit("loaded",I)}},g.onerror=function(){g.onload=null,g.onerror=null,!!I.isLoading&&(I.isLoading=!1,I.emit("error",I))},g.complete&&g.src){if(g.onload=null,g.onerror=null,I.imageType==="svg"){I._loadSvgSource();return}this.isLoading=!1,g.width&&g.height?(this._sourceLoaded(),m&&this.emit("loaded",this)):m&&this.emit("error",this)}}},_.prototype._updateImageType=function(){if(!!this.imageUrl){var g=(0,C.decomposeDataUri)(this.imageUrl),m=void 0;if(g&&g.mediaType==="image"){var b=g.subType.split("+")[0];if(m=(0,C.getUrlFileExtension)("."+b),!m)throw new Error("Invalid image type in data URI.")}else m=(0,C.getUrlFileExtension)(this.imageUrl),m||(m="png");this.imageType=m}},_.prototype._loadSvgSource=function(){if(this.imageType==="svg"){var g=(0,C.decomposeDataUri)(this.imageUrl);g?this._loadSvgSourceUsingDataUri(g):this._loadSvgSourceUsingXhr()}},_.prototype._loadSvgSourceUsingDataUri=function(g){var m=void 0;if(g.encoding==="base64"){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");m=atob(g.data)}else m=g.data;this._loadSvgSourceUsingString(m)},_.prototype._loadSvgSourceUsingXhr=function(){var g=this,m=new XMLHttpRequest;m.onload=function(){if(m.readyState!==m.DONE||m.status!==200)throw new Error("Failed to load SVG using XHR.");g._loadSvgSourceUsingString(m.response)},m.onerror=function(){return g.emit("error",g)},m.open("GET",this.imageUrl,!0),m.send()},_.prototype._loadSvgSourceUsingString=function(g){var m=(0,C.getSvgSize)(g),b=m.width,I=m.height;if(!b||!I)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(b*this.sourceScale),this.realHeight=Math.round(I*this.sourceScale),this._updateDimensions();var S=document.createElement("canvas");S.width=this.realWidth,S.height=this.realHeight,S._pixiId="canvas_"+(0,C.uid)(),S.getContext("2d").drawImage(this.source,0,0,b,I,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=S,_.addToCache(this,S._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},_.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},_.prototype.destroy=function(){this.imageUrl&&(delete C.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),_.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},_.prototype.dispose=function(){this.emit("dispose",this)},_.prototype.updateSourceImage=function(g){this.source.src=g,this.loadSource(this.source)},_.fromImage=function(g,m,b,I){var S=C.BaseTextureCache[g];if(!S){var w=new Image;m===void 0&&g.indexOf("data:")!==0?w.crossOrigin=(0,c.default)(g):m&&(w.crossOrigin=typeof m=="string"?m:"anonymous"),S=new _(w,b),S.imageUrl=g,I&&(S.sourceScale=I),S.resolution=(0,C.getResolutionOfUrl)(g),w.src=g,_.addToCache(S,g)}return S},_.fromCanvas=function(g,m){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";g._pixiId||(g._pixiId=b+"_"+(0,C.uid)());var I=C.BaseTextureCache[g._pixiId];return I||(I=new _(g,m),_.addToCache(I,g._pixiId)),I},_.from=function(g,m,b){if(typeof g=="string")return _.fromImage(g,void 0,m,b);if(g instanceof HTMLImageElement){var I=g.src,S=C.BaseTextureCache[I];return S||(S=new _(g,m),S.imageUrl=I,b&&(S.sourceScale=b),S.resolution=(0,C.getResolutionOfUrl)(I),_.addToCache(S,I)),S}else if(g instanceof HTMLCanvasElement)return _.fromCanvas(g,m);return g},_.addToCache=function(g,m){m&&(g.textureCacheIds.indexOf(m)===-1&&g.textureCacheIds.push(m),C.BaseTextureCache[m]&&console.warn("BaseTexture added to the cache with an id ["+m+"] that already had an entry"),C.BaseTextureCache[m]=g)},_.removeFromCache=function(g){if(typeof g=="string"){var m=C.BaseTextureCache[g];if(m){var b=m.textureCacheIds.indexOf(g);return b>-1&&m.textureCacheIds.splice(b,1),delete C.BaseTextureCache[g],m}}else if(g&&g.textureCacheIds){for(var I=0;I<g.textureCacheIds.length;++I)delete C.BaseTextureCache[g.textureCacheIds[I]];return g.textureCacheIds.length=0,g}return null},_}(T.default);E.default=i},869:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(4566),P=T(C),p=L(2631),O=T(p);function T(o){return o&&o.__esModule?o:{default:o}}function y(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function c(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:o}function f(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}var h=function(o){f(n,o);function n(u,a){y(this,n);var i=null;if(!(u instanceof P.default)){var l=arguments[1],_=arguments[2],v=arguments[3],g=arguments[4];console.warn("Please use RenderTexture.create("+l+", "+_+") instead of the ctor directly."),i=arguments[0],a=null,u=new P.default(l,_,v,g)}var m=c(this,o.call(this,u,a));return m.legacyRenderer=i,m.valid=!0,m._updateUvs(),m}return n.prototype.resize=function(a,i,l){a=Math.ceil(a),i=Math.ceil(i),this.valid=a>0&&i>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=i,l||this.baseTexture.resize(a,i),this._updateUvs()},n.create=function(a,i,l,_){return new n(new P.default(a,i,l,_))},n}(O.default);E.default=h},3042:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function y(c,f){for(var h=0;h<f.length;h++){var o=f[h];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(c,o.key,o)}}return function(c,f,h){return f&&y(c.prototype,f),h&&y(c,h),c}}(),P=L(2321),p=L(7768);function O(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}var T=function(){C(y,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]);function y(c,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;O(this,y),this.baseTexture=c,this.textures={},this.animations={},this.data=f,this.resolution=this._updateResolution(h||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return y.prototype._updateResolution=function(f){var h=this.data.meta.scale,o=(0,p.getResolutionOfUrl)(f,null);return o===null&&(o=h!==void 0?parseFloat(h):1),o!==1&&(this.baseTexture.resolution=o,this.baseTexture.update()),o},y.prototype.parse=function(f){this._batchIndex=0,this._callback=f,this._frameKeys.length<=y.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},y.prototype._processFrames=function(f){for(var h=f,o=y.BATCH_SIZE,n=this.baseTexture.sourceScale;h-f<o&&h<this._frameKeys.length;){var u=this._frameKeys[h],a=this._frames[u],i=a.frame;if(i){var l=null,_=null,v=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,g=new P.Rectangle(0,0,Math.floor(v.w*n)/this.resolution,Math.floor(v.h*n)/this.resolution);a.rotated?l=new P.Rectangle(Math.floor(i.x*n)/this.resolution,Math.floor(i.y*n)/this.resolution,Math.floor(i.h*n)/this.resolution,Math.floor(i.w*n)/this.resolution):l=new P.Rectangle(Math.floor(i.x*n)/this.resolution,Math.floor(i.y*n)/this.resolution,Math.floor(i.w*n)/this.resolution,Math.floor(i.h*n)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(_=new P.Rectangle(Math.floor(a.spriteSourceSize.x*n)/this.resolution,Math.floor(a.spriteSourceSize.y*n)/this.resolution,Math.floor(i.w*n)/this.resolution,Math.floor(i.h*n)/this.resolution)),this.textures[u]=new P.Texture(this.baseTexture,l,g,_,a.rotated?2:0,a.anchor),P.Texture.addToCache(this.textures[u],u)}h++}},y.prototype._processAnimations=function(){var f=this.data.animations||{};for(var h in f){this.animations[h]=[];for(var o=f[h],n=Array.isArray(o),u=0,o=n?o:o[Symbol.iterator]();;){var a;if(n){if(u>=o.length)break;a=o[u++]}else{if(u=o.next(),u.done)break;a=u.value}var i=a;this.animations[h].push(this.textures[i])}}},y.prototype._parseComplete=function(){var f=this._callback;this._callback=null,this._batchIndex=0,f.call(this,this.textures)},y.prototype._nextBatch=function(){var f=this;this._processFrames(this._batchIndex*y.BATCH_SIZE),this._batchIndex++,setTimeout(function(){f._batchIndex*y.BATCH_SIZE<f._frameKeys.length?f._nextBatch():(f._processAnimations(),f._parseComplete())},0)},y.prototype.destroy=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;for(var h in this.textures)this.textures[h].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,f&&this.baseTexture.destroy(),this.baseTexture=null},y}();E.default=T},2631:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function I(S,w){for(var D=0;D<w.length;D++){var A=w[D];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,w,D){return w&&I(S.prototype,w),D&&I(S,D),S}}(),P=L(9067),p=i(P),O=L(8581),T=i(O),y=L(4368),c=i(y),f=L(5323),h=i(f),o=L(892),n=L(7768),u=L(7505),a=i(u);function i(I){return I&&I.__esModule?I:{default:I}}function l(I,S){if(!(I instanceof S))throw new TypeError("Cannot call a class as a function")}function _(I,S){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:I}function v(I,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);I.prototype=Object.create(S&&S.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(I,S):I.__proto__=S)}var g=function(I){v(S,I);function S(w,D,A,M,N,K){l(this,S);var G=_(this,I.call(this));if(G.noFrame=!1,D||(G.noFrame=!0,D=new o.Rectangle(0,0,1,1)),w instanceof S&&(w=w.baseTexture),G.baseTexture=w,G._frame=D,G.trim=M,G.valid=!1,G.requiresUpdate=!1,G._uvs=null,G.orig=A||D,G._rotate=Number(N||0),N===!0)G._rotate=2;else if(G._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return w.hasLoaded?(G.noFrame&&(D=new o.Rectangle(0,0,w.width,w.height),w.on("update",G.onBaseTextureUpdated,G)),G.frame=D):w.once("loaded",G.onBaseTextureLoaded,G),G.defaultAnchor=K?new o.Point(K.x,K.y):new o.Point(0,0),G._updateID=0,G.transform=null,G.textureCacheIds=[],G}return S.prototype.update=function(){this.baseTexture.update()},S.prototype.onBaseTextureLoaded=function(D){this._updateID++,this.noFrame?this.frame=new o.Rectangle(0,0,D.width,D.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},S.prototype.onBaseTextureUpdated=function(D){this._updateID++,this._frame.width=D.width,this._frame.height=D.height,this.emit("update",this)},S.prototype.destroy=function(D){this.baseTexture&&(D&&(n.TextureCache[this.baseTexture.imageUrl]&&S.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,S.removeFromCache(this),this.textureCacheIds=null},S.prototype.clone=function(){return new S(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},S.prototype._updateUvs=function(){this._uvs||(this._uvs=new c.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},S.fromImage=function(D,A,M,N){var K=n.TextureCache[D];return K||(K=new S(p.default.fromImage(D,A,M,N)),S.addToCache(K,D)),K},S.fromFrame=function(D){var A=n.TextureCache[D];if(!A)throw new Error('The frameId "'+D+'" does not exist in the texture cache');return A},S.fromCanvas=function(D,A){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";return new S(p.default.fromCanvas(D,A,M))},S.fromVideo=function(D,A,M,N){return typeof D=="string"?S.fromVideoUrl(D,A,M,N):new S(T.default.fromVideo(D,A,N))},S.fromVideoUrl=function(D,A,M,N){return new S(T.default.fromUrl(D,A,M,N))},S.from=function(D){if(typeof D=="string"){var A=n.TextureCache[D];if(!A){var M=D.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)!==null;return M?S.fromVideoUrl(D):S.fromImage(D)}return A}else{if(D instanceof HTMLImageElement)return new S(p.default.from(D));if(D instanceof HTMLCanvasElement)return S.fromCanvas(D,a.default.SCALE_MODE,"HTMLCanvasElement");if(D instanceof HTMLVideoElement)return S.fromVideo(D);if(D instanceof p.default)return new S(D)}return D},S.fromLoader=function(D,A,M){var N=new p.default(D,void 0,(0,n.getResolutionOfUrl)(A)),K=new S(N);return N.imageUrl=A,M||(M=A),p.default.addToCache(K.baseTexture,M),S.addToCache(K,M),M!==A&&(p.default.addToCache(K.baseTexture,A),S.addToCache(K,A)),K},S.addToCache=function(D,A){A&&(D.textureCacheIds.indexOf(A)===-1&&D.textureCacheIds.push(A),n.TextureCache[A]&&console.warn("Texture added to the cache with an id ["+A+"] that already had an entry"),n.TextureCache[A]=D)},S.removeFromCache=function(D){if(typeof D=="string"){var A=n.TextureCache[D];if(A){var M=A.textureCacheIds.indexOf(D);return M>-1&&A.textureCacheIds.splice(M,1),delete n.TextureCache[D],A}}else if(D&&D.textureCacheIds){for(var N=0;N<D.textureCacheIds.length;++N)n.TextureCache[D.textureCacheIds[N]]===D&&delete n.TextureCache[D.textureCacheIds[N]];return D.textureCacheIds.length=0,D}return null},C(S,[{key:"frame",get:function(){return this._frame},set:function(D){this._frame=D,this.noFrame=!1;var A=D.x,M=D.y,N=D.width,K=D.height,G=A+N>this.baseTexture.width,U=M+K>this.baseTexture.height;if(G||U){var F=G&&U?"and":"or",X="X: "+A+" + "+N+" = "+(A+N)+" > "+this.baseTexture.width,B="Y: "+M+" + "+K+" = "+(M+K)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(X+" "+F+" "+B))}this.valid=N&&K&&this.baseTexture.hasLoaded,!this.trim&&!this.rotate&&(this.orig=D),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(D){this._rotate=D,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),S}(h.default);E.default=g;function m(){var I=document.createElement("canvas");I.width=10,I.height=10;var S=I.getContext("2d");return S.fillStyle="white",S.fillRect(0,0,10,10),new g(new p.default(I))}function b(I){I.destroy=function(){},I.on=function(){},I.once=function(){},I.emit=function(){}}g.EMPTY=new g(new p.default),b(g.EMPTY),b(g.EMPTY.baseTexture),g.WHITE=m(),b(g.WHITE),b(g.WHITE.baseTexture)},9673:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function f(h,o){for(var n=0;n<o.length;n++){var u=o[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(h,u.key,u)}}return function(h,o,n){return o&&f(h.prototype,o),n&&f(h,n),h}}(),P=L(6724),p=O(P);function O(f){return f&&f.__esModule?f:{default:f}}function T(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var y=new p.default,c=function(){function f(h,o){T(this,f),this._texture=h,this.mapCoord=new p.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=typeof o=="undefined"?.5:o}return f.prototype.multiplyUvs=function(o,n){n===void 0&&(n=o);for(var u=this.mapCoord,a=0;a<o.length;a+=2){var i=o[a],l=o[a+1];n[a]=i*u.a+l*u.c+u.tx,n[a+1]=i*u.b+l*u.d+u.ty}return n},f.prototype.update=function(o){var n=this._texture;if(!n||!n.valid||!o&&this._lastTextureID===n._updateID)return!1;this._lastTextureID=n._updateID;var u=n._uvs;this.mapCoord.set(u.x1-u.x0,u.y1-u.y0,u.x3-u.x0,u.y3-u.y0,u.x0,u.y0);var a=n.orig,i=n.trim;i&&(y.set(a.width/i.width,0,0,a.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(y));var l=n.baseTexture,_=this.uClampFrame,v=this.clampMargin/l.resolution,g=this.clampOffset;return _[0]=(n._frame.x+v+g)/l.width,_[1]=(n._frame.y+v+g)/l.height,_[2]=(n._frame.x+n._frame.width-v+g)/l.width,_[3]=(n._frame.y+n._frame.height-v+g)/l.height,this.uClampOffset[0]=g/l.realWidth,this.uClampOffset[1]=g/l.realHeight,!0},C(f,[{key:"texture",get:function(){return this._texture},set:function(o){this._texture=o,this._lastTextureID=-1}}]),f}();E.default=c},4368:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(7616),P=p(C);function p(y){return y&&y.__esModule?y:{default:y}}function O(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}var T=function(){function y(){O(this,y),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return y.prototype.set=function(f,h,o){var n=h.width,u=h.height;if(o){var a=f.width/2/n,i=f.height/2/u,l=f.x/n+a,_=f.y/u+i;o=P.default.add(o,P.default.NW),this.x0=l+a*P.default.uX(o),this.y0=_+i*P.default.uY(o),o=P.default.add(o,2),this.x1=l+a*P.default.uX(o),this.y1=_+i*P.default.uY(o),o=P.default.add(o,2),this.x2=l+a*P.default.uX(o),this.y2=_+i*P.default.uY(o),o=P.default.add(o,2),this.x3=l+a*P.default.uX(o),this.y3=_+i*P.default.uY(o)}else this.x0=f.x/n,this.y0=f.y/u,this.x1=(f.x+f.width)/n,this.y1=f.y/u,this.x2=(f.x+f.width)/n,this.y2=(f.y+f.height)/u,this.x3=f.x/n,this.y3=(f.y+f.height)/u;this.uvsUint32[0]=(Math.round(this.y0*65535)&65535)<<16|Math.round(this.x0*65535)&65535,this.uvsUint32[1]=(Math.round(this.y1*65535)&65535)<<16|Math.round(this.x1*65535)&65535,this.uvsUint32[2]=(Math.round(this.y2*65535)&65535)<<16|Math.round(this.x2*65535)&65535,this.uvsUint32[3]=(Math.round(this.y3*65535)&65535)<<16|Math.round(this.x3*65535)&65535},y}();E.default=T},8581:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function l(_,v){for(var g=0;g<v.length;g++){var m=v[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,v,g){return v&&l(_.prototype,v),g&&l(_,g),_}}(),P=L(9067),p=h(P),O=L(7768),T=L(938),y=L(4633),c=L(1606),f=h(c);function h(l){return l&&l.__esModule?l:{default:l}}function o(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")}function n(l,_){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:l}function u(l,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);l.prototype=Object.create(_&&_.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(l,_):l.__proto__=_)}var a=function(l){u(_,l);function _(v,g){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(o(this,_),!v)throw new Error("No video source element specified.");(v.readyState===v.HAVE_ENOUGH_DATA||v.readyState===v.HAVE_FUTURE_DATA)&&v.width&&v.height&&(v.complete=!0);var b=n(this,l.call(this,v,g));return b.width=v.videoWidth,b.height=v.videoHeight,b._autoUpdate=!0,b._isAutoUpdating=!1,b.autoPlay=m,b.update=b.update.bind(b),b._onCanPlay=b._onCanPlay.bind(b),v.addEventListener("play",b._onPlayStart.bind(b)),v.addEventListener("pause",b._onPlayStop.bind(b)),b.hasLoaded=!1,b.__loaded=!1,b._isSourceReady()?b._onCanPlay():(v.addEventListener("canplay",b._onCanPlay),v.addEventListener("canplaythrough",b._onCanPlay)),b}return _.prototype._isSourcePlaying=function(){var g=this.source;return g.currentTime>0&&g.paused===!1&&g.ended===!1&&g.readyState>2},_.prototype._isSourceReady=function(){return this.source.readyState===3||this.source.readyState===4},_.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(T.shared.add(this.update,this,y.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},_.prototype._onPlayStop=function(){this._isAutoUpdating&&(T.shared.remove(this.update,this),this._isAutoUpdating=!1)},_.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},_.prototype.destroy=function(){this._isAutoUpdating&&T.shared.remove(this.update,this),this.source&&this.source._pixiId&&(p.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),l.prototype.destroy.call(this)},_.fromVideo=function(g,m,b){g._pixiId||(g._pixiId="video_"+(0,O.uid)());var I=O.BaseTextureCache[g._pixiId];return I||(I=new _(g,m,b),p.default.addToCache(I,g._pixiId)),I},_.fromUrl=function(g,m,b,I){var S=document.createElement("video");S.setAttribute("webkit-playsinline",""),S.setAttribute("playsinline","");var w=Array.isArray(g)?g[0].src||g[0]:g.src||g;if(b===void 0&&w.indexOf("data:")!==0?S.crossOrigin=(0,f.default)(w):b&&(S.crossOrigin=typeof b=="string"?b:"anonymous"),Array.isArray(g))for(var D=0;D<g.length;++D)S.appendChild(i(g[D].src||g[D],g[D].mime));else S.appendChild(i(w,g.mime));return S.load(),_.fromVideo(S,m,I)},C(_,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(g){g!==this._autoUpdate&&(this._autoUpdate=g,!this._autoUpdate&&this._isAutoUpdating?(T.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(T.shared.add(this.update,this,y.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),_}(p.default);E.default=a,a.fromUrls=a.fromUrl;function i(l,_){if(!_){var v=l.split("?").shift().toLowerCase();_="video/"+v.substr(v.lastIndexOf(".")+1)}var g=document.createElement("source");return g.src=l,g.type=_,g}},4153:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function o(n,u){for(var a=0;a<u.length;a++){var i=u[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,u,a){return u&&o(n.prototype,u),a&&o(n,a),n}}(),P=L(7505),p=c(P),O=L(4633),T=L(2716),y=c(T);function c(o){return o&&o.__esModule?o:{default:o}}function f(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}var h=function(){function o(){var n=this;f(this,o),this._head=new y.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/p.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(u){n._requestId=null,n.started&&(n.update(u),n.started&&n._requestId===null&&n._head.next&&(n._requestId=requestAnimationFrame(n._tick)))}}return o.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},o.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},o.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},o.prototype.add=function(u,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O.UPDATE_PRIORITY.NORMAL;return this._addListener(new y.default(u,a,i))},o.prototype.addOnce=function(u,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O.UPDATE_PRIORITY.NORMAL;return this._addListener(new y.default(u,a,i,!0))},o.prototype._addListener=function(u){var a=this._head.next,i=this._head;if(!a)u.connect(i);else{for(;a;){if(u.priority>a.priority){u.connect(i);break}i=a,a=a.next}u.previous||u.connect(i)}return this._startIfPossible(),this},o.prototype.remove=function(u,a){for(var i=this._head.next;i;)i.match(u,a)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this},o.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},o.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},o.prototype.destroy=function(){this.stop();for(var u=this._head.next;u;)u=u.destroy(!0);this._head.destroy(),this._head=null},o.prototype.update=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:performance.now(),a=void 0;if(u>this.lastTime){a=this.elapsedMS=u-this.lastTime,a>this._maxElapsedMS&&(a=this._maxElapsedMS),this.deltaTime=a*p.default.TARGET_FPMS*this.speed;for(var i=this._head,l=i.next;l;)l=l.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=u},C(o,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(u){var a=Math.min(Math.max(0,u)/1e3,p.default.TARGET_FPMS);this._maxElapsedMS=1/a}}]),o}();E.default=h},2716:(J,E)=>{"use strict";E.__esModule=!0;function L(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}var C=function(){function P(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;L(this,P),this.fn=p,this.context=O,this.priority=T,this.once=y,this.next=null,this.previous=null,this._destroyed=!1}return P.prototype.match=function(O,T){return T=T||null,this.fn===O&&this.context===T},P.prototype.emit=function(O){this.fn&&(this.context?this.fn.call(this.context,O):this.fn(O));var T=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),T},P.prototype.connect=function(O){this.previous=O,O.next&&(O.next.previous=this),this.next=O.next,O.next=this},P.prototype.destroy=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var T=this.next;return this.next=O?null:T,this.previous=null,T},P}();E.default=C},938:(J,E,L)=>{"use strict";E.__esModule=!0,E.Ticker=E.shared=void 0;var C=L(4153),P=p(C);function p(T){return T&&T.__esModule?T:{default:T}}var O=new P.default;O.autoStart=!0,O.destroy=function(){},E.shared=O,E.Ticker=P.default},9681:(J,E)=>{"use strict";E.__esModule=!0,E.default=L;function L(){var C=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!C}},4014:(J,E)=>{"use strict";E.__esModule=!0,E.default=L;function L(C){for(var P=C*6,p=new Uint16Array(P),O=0,T=0;O<P;O+=6,T+=4)p[O+0]=T+0,p[O+1]=T+1,p[O+2]=T+2,p[O+3]=T+0,p[O+4]=T+2,p[O+5]=T+3;return p}},1606:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=T;var C=L(8575),P=p(C);function p(y){return y&&y.__esModule?y:{default:y}}var O=void 0;function T(y){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location;if(y.indexOf("data:")===0)return"";c=c||window.location,O||(O=document.createElement("a")),O.href=y,y=P.default.parse(O.href);var f=!y.port&&c.port===""||y.port===c.port;return y.hostname!==c.hostname||!f||y.protocol!==c.protocol?"anonymous":""}},7768:(J,E,L)=>{"use strict";E.__esModule=!0,E.premultiplyBlendMode=E.BaseTextureCache=E.TextureCache=E.earcut=E.mixins=E.pluginTarget=E.EventEmitter=E.removeItems=E.isMobile=void 0,E.uid=S,E.hex2rgb=w,E.hex2string=D,E.rgb2hex=A,E.getResolutionOfUrl=M,E.decomposeDataUri=N,E.getUrlFileExtension=K,E.getSvgSize=G,E.skipHello=U,E.sayHello=F,E.isWebGLSupported=X,E.sign=B,E.destroyTextureCache=H,E.clearTextureCache=Y,E.correctBlendMode=re,E.premultiplyTint=te,E.premultiplyRgba=se,E.premultiplyTintToRgba=ae;var C=L(4633),P=L(7505),p=m(P),O=L(5323),T=m(O),y=L(3278),c=m(y),f=L(457),h=g(f),o=L(7561),n=g(o),u=L(7069),a=m(u),i=L(6507),l=m(i),_=L(9187),v=m(_);function g(q){if(q&&q.__esModule)return q;var ne={};if(q!=null)for(var ue in q)Object.prototype.hasOwnProperty.call(q,ue)&&(ne[ue]=q[ue]);return ne.default=q,ne}function m(q){return q&&q.__esModule?q:{default:q}}var b=0,I=!1;E.isMobile=n,E.removeItems=a.default,E.EventEmitter=T.default,E.pluginTarget=c.default,E.mixins=h,E.earcut=v.default;function S(){return++b}function w(q,ne){return ne=ne||[],ne[0]=(q>>16&255)/255,ne[1]=(q>>8&255)/255,ne[2]=(q&255)/255,ne}function D(q){return q=q.toString(16),q="000000".substr(0,6-q.length)+q,"#"+q}function A(q){return(q[0]*255<<16)+(q[1]*255<<8)+(q[2]*255|0)}function M(q,ne){var ue=p.default.RETINA_PREFIX.exec(q);return ue?parseFloat(ue[1]):ne!==void 0?ne:1}function N(q){var ne=C.DATA_URI.exec(q);if(ne)return{mediaType:ne[1]?ne[1].toLowerCase():void 0,subType:ne[2]?ne[2].toLowerCase():void 0,charset:ne[3]?ne[3].toLowerCase():void 0,encoding:ne[4]?ne[4].toLowerCase():void 0,data:ne[5]}}function K(q){var ne=C.URL_FILE_EXTENSION.exec(q);if(ne)return ne[1].toLowerCase()}function G(q){var ne=C.SVG_SIZE.exec(q),ue={};return ne&&(ue[ne[1]]=Math.round(parseFloat(ne[3])),ue[ne[5]]=Math.round(parseFloat(ne[7]))),ue}function U(){I=!0}function F(q){if(!I){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ne=[`
 %c %c %c PixiJS `+C.VERSION+" - \u2730 "+q+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,ne)}else window.console&&window.console.log("PixiJS "+C.VERSION+" - "+q+" - http://www.pixijs.com/");I=!0}}function X(){var q={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var ne=document.createElement("canvas"),ue=ne.getContext("webgl",q)||ne.getContext("experimental-webgl",q),Ee=!!(ue&&ue.getContextAttributes().stencil);if(ue){var de=ue.getExtension("WEBGL_lose_context");de&&de.loseContext()}return ue=null,Ee}catch{return!1}}function B(q){return q===0?0:q<0?-1:1}var V=E.TextureCache=Object.create(null),j=E.BaseTextureCache=Object.create(null);function H(){var q=void 0;for(q in V)V[q].destroy();for(q in j)j[q].destroy()}function Y(){var q=void 0;for(q in V)delete V[q];for(q in j)delete j[q]}var $=E.premultiplyBlendMode=(0,l.default)();function re(q,ne){return $[ne?1:0][q]}function te(q,ne){if(ne===1)return(ne*255<<24)+q;if(ne===0)return 0;var ue=q>>16&255,Ee=q>>8&255,de=q&255;return ue=ue*ne+.5|0,Ee=Ee*ne+.5|0,de=de*ne+.5|0,(ne*255<<24)+(ue<<16)+(Ee<<8)+de}function se(q,ne,ue,Ee){return ue=ue||new Float32Array(4),Ee||Ee===void 0?(ue[0]=q[0]*ne,ue[1]=q[1]*ne,ue[2]=q[2]*ne):(ue[0]=q[0],ue[1]=q[1],ue[2]=q[2]),ue[3]=ne,ue}function ae(q,ne,ue,Ee){return ue=ue||new Float32Array(4),ue[0]=(q>>16&255)/255,ue[1]=(q>>8&255)/255,ue[2]=(q&255)/255,(Ee||Ee===void 0)&&(ue[0]*=ne,ue[1]*=ne,ue[2]*=ne),ue[3]=ne,ue}},6507:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=P;var C=L(4633);function P(){for(var p=[],O=[],T=0;T<32;T++)p[T]=T,O[T]=T;p[C.BLEND_MODES.NORMAL_NPM]=C.BLEND_MODES.NORMAL,p[C.BLEND_MODES.ADD_NPM]=C.BLEND_MODES.ADD,p[C.BLEND_MODES.SCREEN_NPM]=C.BLEND_MODES.SCREEN,O[C.BLEND_MODES.NORMAL]=C.BLEND_MODES.NORMAL_NPM,O[C.BLEND_MODES.ADD]=C.BLEND_MODES.ADD_NPM,O[C.BLEND_MODES.SCREEN]=C.BLEND_MODES.SCREEN_NPM;var y=[];return y.push(O),y.push(p),y}},585:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=O;var C=L(7561),P=p(C);function p(T){return T&&T.__esModule?T:{default:T}}function O(T){return P.default.tablet||P.default.phone?4:T}},457:(J,E)=>{"use strict";E.__esModule=!0,E.mixin=L,E.delayMixin=P,E.performMixins=p;function L(O,T){if(!(!O||!T))for(var y=Object.keys(T),c=0;c<y.length;++c){var f=y[c];Object.defineProperty(O,f,Object.getOwnPropertyDescriptor(T,f))}}var C=[];function P(O,T){C.push(O,T)}function p(){for(var O=0;O<C.length;O+=2)L(C[O],C[O+1]);C.length=0}},3278:(J,E)=>{"use strict";E.__esModule=!0;function L(C){C.__plugins={},C.registerPlugin=function(p,O){C.__plugins[p]=O},C.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var p in C.__plugins)this.plugins[p]=new C.__plugins[p](this)},C.prototype.destroyPlugins=function(){for(var p in this.plugins)this.plugins[p].destroy(),this.plugins[p]=null;this.plugins=null}}E.default={mixin:function(P){L(P)}}},625:(J,E)=>{"use strict";E.__esModule=!0,E.default=L;function L(C){var P=C.width,p=C.height,O=C.getContext("2d"),T=O.getImageData(0,0,P,p),y=T.data,c=y.length,f={top:null,left:null,right:null,bottom:null},h=null,o=void 0,n=void 0,u=void 0;for(o=0;o<c;o+=4)y[o+3]!==0&&(n=o/4%P,u=~~(o/4/P),f.top===null&&(f.top=u),(f.left===null||n<f.left)&&(f.left=n),(f.right===null||f.right<n)&&(f.right=n+1),(f.bottom===null||f.bottom<u)&&(f.bottom=u));return f.top!==null&&(P=f.right-f.left,p=f.bottom-f.top+1,h=O.getImageData(f.left,f.top,P,p)),{height:p,width:P,data:h}}},6910:(J,E)=>{"use strict";E.__esModule=!0,E.default=P;var L={};function C(p){if(!L[p]){var O=new Error().stack;typeof O=="undefined"?console.warn("Deprecation Warning: ",p):(O=O.split(`
`).splice(3).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",p),console.warn(O),console.groupEnd()):(console.warn("Deprecation Warning: ",p),console.warn(O))),L[p]=!0}}function P(p){var O=p.mesh,T=p.particles,y=p.extras,c=p.filters,f=p.prepare,h=p.loaders,o=p.interaction;Object.defineProperties(p,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return C("You do not need to use a PIXI Stage any more, you can simply render any container."),p.Container}},DisplayObjectContainer:{get:function(){return C("DisplayObjectContainer has been shortened to Container, please use Container from now on."),p.Container}},Strip:{get:function(){return C("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),O.Mesh}},Rope:{get:function(){return C("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),O.Rope}},ParticleContainer:{get:function(){return C("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),T.ParticleContainer}},MovieClip:{get:function(){return C("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),y.AnimatedSprite}},TilingSprite:{get:function(){return C("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),y.TilingSprite}},BitmapText:{get:function(){return C("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),y.BitmapText}},blendModes:{get:function(){return C("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),p.BLEND_MODES}},scaleModes:{get:function(){return C("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),p.SCALE_MODES}},BaseTextureCache:{get:function(){return C("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),p.utils.BaseTextureCache}},TextureCache:{get:function(){return C("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),p.utils.TextureCache}},math:{get:function(){return C("The math namespace is deprecated, please access members already accessible on PIXI."),p}},AbstractFilter:{get:function(){return C("AstractFilter has been renamed to Filter, please use PIXI.Filter"),p.Filter}},TransformManual:{get:function(){return C("TransformManual has been renamed to TransformBase, please update your pixi-spine"),p.TransformBase}},TARGET_FPMS:{get:function(){return C("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),p.settings.TARGET_FPMS},set:function(g){C("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),p.settings.TARGET_FPMS=g}},FILTER_RESOLUTION:{get:function(){return C("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),p.settings.FILTER_RESOLUTION},set:function(g){C("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),p.settings.FILTER_RESOLUTION=g}},RESOLUTION:{get:function(){return C("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),p.settings.RESOLUTION},set:function(g){C("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),p.settings.RESOLUTION=g}},MIPMAP_TEXTURES:{get:function(){return C("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),p.settings.MIPMAP_TEXTURES},set:function(g){C("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),p.settings.MIPMAP_TEXTURES=g}},SPRITE_BATCH_SIZE:{get:function(){return C("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),p.settings.SPRITE_BATCH_SIZE},set:function(g){C("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),p.settings.SPRITE_BATCH_SIZE=g}},SPRITE_MAX_TEXTURES:{get:function(){return C("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),p.settings.SPRITE_MAX_TEXTURES},set:function(g){C("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),p.settings.SPRITE_MAX_TEXTURES=g}},RETINA_PREFIX:{get:function(){return C("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),p.settings.RETINA_PREFIX},set:function(g){C("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),p.settings.RETINA_PREFIX=g}},DEFAULT_RENDER_OPTIONS:{get:function(){return C("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),p.settings.RENDER_OPTIONS}}});for(var n=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],u=function(g){var m=n[g];Object.defineProperty(p[m.parent],"DEFAULT",{get:function(){return C("PIXI."+m.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+m.target)),p.settings[m.target]},set:function(I){C("PIXI."+m.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+m.target)),p.settings[m.target]=I}})},a=0;a<n.length;a++)u(a);Object.defineProperties(p.settings,{PRECISION:{get:function(){return C("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),p.settings.PRECISION_FRAGMENT},set:function(g){C("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),p.settings.PRECISION_FRAGMENT=g}}}),y.AnimatedSprite&&Object.defineProperties(y,{MovieClip:{get:function(){return C("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),y.AnimatedSprite}}}),y&&Object.defineProperties(y,{TextureTransform:{get:function(){return C("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),p.TextureMatrix}}}),p.DisplayObject.prototype.generateTexture=function(g,m,b){return C("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),g.generateTexture(this,m,b)},p.Graphics.prototype.generateTexture=function(g,m){return C("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(g,m)},p.GroupD8.isSwapWidthHeight=function(g){return C("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),p.GroupD8.isVertical(g)},p.RenderTexture.prototype.render=function(g,m,b,I){this.legacyRenderer.render(g,this,b,m,!I),C("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},p.RenderTexture.prototype.getImage=function(g){return C("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(g)},p.RenderTexture.prototype.getBase64=function(g){return C("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(g)},p.RenderTexture.prototype.getCanvas=function(g){return C("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(g)},p.RenderTexture.prototype.getPixels=function(g){return C("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(g)},p.Sprite.prototype.setTexture=function(g){this.texture=g,C("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},y.BitmapText&&(y.BitmapText.prototype.setText=function(g){this.text=g,C("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),p.Text.prototype.setText=function(g){this.text=g,C("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},p.Text.calculateFontProperties=function(g){return C("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),p.TextMetrics.measureFont(g)},Object.defineProperties(p.Text,{fontPropertiesCache:{get:function(){return C("Text.fontPropertiesCache is deprecated"),p.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return C("Text.fontPropertiesCanvas is deprecated"),p.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return C("Text.fontPropertiesContext is deprecated"),p.TextMetrics._context}}}),p.Text.prototype.setStyle=function(g){this.style=g,C("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},p.Text.prototype.determineFontProperties=function(g){return C("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),p.TextMetrics.measureFont(g)},p.Text.getFontStyle=function(g){return C("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),g=g||{},g instanceof p.TextStyle||(g=new p.TextStyle(g)),g.toFontString()},Object.defineProperties(p.TextStyle.prototype,{font:{get:function(){C("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var g=typeof this._fontSize=="number"?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+g+" "+this._fontFamily},set:function(g){C("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),g.indexOf("italic")>1?this._fontStyle="italic":g.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",g.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var m=g.split(" "),b=-1;this._fontSize=26;for(var I=0;I<m.length;++I)if(m[I].match(/(px|pt|em|%)/)){b=I,this._fontSize=m[I];break}this._fontWeight="normal";for(var S=0;S<b;++S)if(m[S].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=m[S];break}if(b>-1&&b<m.length-1){this._fontFamily="";for(var w=b+1;w<m.length;++w)this._fontFamily+=m[w]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),p.Texture.prototype.setFrame=function(g){this.frame=g,C("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},p.Texture.addTextureToCache=function(g,m){p.Texture.addToCache(g,m),C("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},p.Texture.removeTextureFromCache=function(g){return C("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),p.BaseTexture.removeFromCache(g),p.Texture.removeFromCache(g)},Object.defineProperties(c,{AbstractFilter:{get:function(){return C("AstractFilter has been renamed to Filter, please use PIXI.Filter"),p.AbstractFilter}},SpriteMaskFilter:{get:function(){return C("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),p.SpriteMaskFilter}},VoidFilter:{get:function(){return C("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),c.AlphaFilter}}}),p.utils.uuid=function(){return C("utils.uuid() is deprecated, please use utils.uid() from now on."),p.utils.uid()},p.utils.canUseNewCanvasBlendModes=function(){return C("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),p.CanvasTinter.canUseMultiply};var i=!0;if(Object.defineProperty(p.utils,"_saidHello",{set:function(g){g&&(C("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),i=g},get:function(){return i}}),f.BasePrepare&&(f.BasePrepare.prototype.register=function(g,m){return C("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),g&&this.registerFindHook(g),m&&this.registerUploadHook(m),this}),f.canvas&&Object.defineProperty(f.canvas,"UPLOADS_PER_FRAME",{set:function(){C("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return C("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),f.webgl&&Object.defineProperty(f.webgl,"UPLOADS_PER_FRAME",{set:function(){C("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return C("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),h.Loader){var l=h.Resource,_=h.Loader;Object.defineProperties(l.prototype,{isJson:{get:function(){return C("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===l.TYPE.JSON}},isXml:{get:function(){return C("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===l.TYPE.XML}},isImage:{get:function(){return C("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===l.TYPE.IMAGE}},isAudio:{get:function(){return C("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===l.TYPE.AUDIO}},isVideo:{get:function(){return C("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===l.TYPE.VIDEO}}}),Object.defineProperties(_.prototype,{before:{get:function(){return C("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return C("The after() method is deprecated, please use use()."),this.use}}})}o.interactiveTarget&&Object.defineProperty(o.interactiveTarget,"defaultCursor",{set:function(g){C("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=g},get:function(){return C("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),o.InteractionManager&&(Object.defineProperty(o.InteractionManager,"defaultCursorStyle",{set:function(g){C("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=g},get:function(){return C("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(o.InteractionManager,"currentCursorStyle",{set:function(g){C("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=g},get:function(){return C("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}},7671:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2321),P=p(C);function p(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(f[h]=c[h]);return f.default=c,f}function O(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var T=new P.Rectangle,y=function(){function c(f){O(this,c),this.renderer=f,f.extract=this}return c.prototype.image=function(h){var o=new Image;return o.src=this.base64(h),o},c.prototype.base64=function(h){return this.canvas(h).toDataURL()},c.prototype.canvas=function(h){var o=this.renderer,n=void 0,u=void 0,a=void 0,i=void 0;h&&(h instanceof P.RenderTexture?i=h:i=o.generateTexture(h)),i?(n=i.baseTexture._canvasRenderTarget.context,u=i.baseTexture._canvasRenderTarget.resolution,a=i.frame):(n=o.rootContext,u=o.resolution,a=T,a.width=this.renderer.width,a.height=this.renderer.height);var l=Math.floor(a.width*u+1e-4),_=Math.floor(a.height*u+1e-4),v=new P.CanvasRenderTarget(l,_,1),g=n.getImageData(a.x*u,a.y*u,l,_);return v.context.putImageData(g,0,0),v.canvas},c.prototype.pixels=function(h){var o=this.renderer,n=void 0,u=void 0,a=void 0,i=void 0;return h&&(h instanceof P.RenderTexture?i=h:i=o.generateTexture(h)),i?(n=i.baseTexture._canvasRenderTarget.context,u=i.baseTexture._canvasRenderTarget.resolution,a=i.frame):(n=o.rootContext,a=T,a.width=o.width,a.height=o.height),n.getImageData(0,0,a.width*u,a.height*u).data},c.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},c}();E.default=y,P.CanvasRenderer.registerPlugin("extract",y)},4855:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(4495);Object.defineProperty(E,"webgl",{enumerable:!0,get:function(){return p(C).default}});var P=L(7671);Object.defineProperty(E,"canvas",{enumerable:!0,get:function(){return p(P).default}});function p(O){return O&&O.__esModule?O:{default:O}}},4495:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2321),P=p(C);function p(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var o in f)Object.prototype.hasOwnProperty.call(f,o)&&(h[o]=f[o]);return h.default=f,h}function O(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var T=new P.Rectangle,y=4,c=function(){function f(h){O(this,f),this.renderer=h,h.extract=this}return f.prototype.image=function(o){var n=new Image;return n.src=this.base64(o),n},f.prototype.base64=function(o){return this.canvas(o).toDataURL()},f.prototype.canvas=function(o){var n=this.renderer,u=void 0,a=void 0,i=void 0,l=!1,_=void 0,v=!1;o&&(o instanceof P.RenderTexture?_=o:(_=this.renderer.generateTexture(o),v=!0)),_?(u=_.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=u.resolution,i=_.frame,l=!1):(u=this.renderer.rootRenderTarget,a=u.resolution,l=!0,i=T,i.width=u.size.width,i.height=u.size.height);var g=Math.floor(i.width*a+1e-4),m=Math.floor(i.height*a+1e-4),b=new P.CanvasRenderTarget(g,m,1);if(u){n.bindRenderTarget(u);var I=new Uint8Array(y*g*m),S=n.gl;S.readPixels(i.x*a,i.y*a,g,m,S.RGBA,S.UNSIGNED_BYTE,I);var w=b.context.getImageData(0,0,g,m);w.data.set(I),b.context.putImageData(w,0,0),l&&(b.context.scale(1,-1),b.context.drawImage(b.canvas,0,-m))}return v&&_.destroy(!0),b.canvas},f.prototype.pixels=function(o){var n=this.renderer,u=void 0,a=void 0,i=void 0,l=void 0,_=!1;o&&(o instanceof P.RenderTexture?l=o:(l=this.renderer.generateTexture(o),_=!0)),l?(u=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=u.resolution,i=l.frame):(u=this.renderer.rootRenderTarget,a=u.resolution,i=T,i.width=u.size.width,i.height=u.size.height);var v=i.width*a,g=i.height*a,m=new Uint8Array(y*v*g);if(u){n.bindRenderTarget(u);var b=n.gl;b.readPixels(i.x*a,i.y*a,v,g,b.RGBA,b.UNSIGNED_BYTE,m)}return _&&l.destroy(!0),m},f.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},f}();E.default=c,P.WebGLRenderer.registerPlugin("extract",c)},4888:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function h(o,n){for(var u=0;u<n.length;u++){var a=n[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,n,u){return n&&h(o.prototype,n),u&&h(o,u),o}}(),P=L(2321),p=O(P);function O(h){if(h&&h.__esModule)return h;var o={};if(h!=null)for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&(o[n]=h[n]);return o.default=h,o}function T(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}function y(h,o){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:h}function c(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);h.prototype=Object.create(o&&o.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(h,o):h.__proto__=o)}var f=function(h){c(o,h);function o(n,u){T(this,o);var a=y(this,h.call(this,n[0]instanceof p.Texture?n[0]:n[0].texture));return a._textures=null,a._durations=null,a.textures=n,a._autoUpdate=u!==!1,a.animationSpeed=1,a.loop=!0,a.updateAnchor=!1,a.onComplete=null,a.onFrameChange=null,a.onLoop=null,a._currentTime=0,a.playing=!1,a}return o.prototype.stop=function(){!this.playing||(this.playing=!1,this._autoUpdate&&p.ticker.shared.remove(this.update,this))},o.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&p.ticker.shared.add(this.update,this,p.UPDATE_PRIORITY.HIGH))},o.prototype.gotoAndStop=function(u){this.stop();var a=this.currentFrame;this._currentTime=u,a!==this.currentFrame&&this.updateTexture()},o.prototype.gotoAndPlay=function(u){var a=this.currentFrame;this._currentTime=u,a!==this.currentFrame&&this.updateTexture(),this.play()},o.prototype.update=function(u){var a=this.animationSpeed*u,i=this.currentFrame;if(this._durations!==null){var l=this._currentTime%1*this._durations[this.currentFrame];for(l+=a/60*1e3;l<0;)this._currentTime--,l+=this._durations[this.currentFrame];var _=Math.sign(this.animationSpeed*u);for(this._currentTime=Math.floor(this._currentTime);l>=this._durations[this.currentFrame];)l-=this._durations[this.currentFrame]*_,this._currentTime+=_;this._currentTime+=l/this._durations[this.currentFrame]}else this._currentTime+=a;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())},o.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},o.prototype.destroy=function(u){this.stop(),h.prototype.destroy.call(this,u)},o.fromFrames=function(u){for(var a=[],i=0;i<u.length;++i)a.push(p.Texture.fromFrame(u[i]));return new o(a)},o.fromImages=function(u){for(var a=[],i=0;i<u.length;++i)a.push(p.Texture.fromImage(u[i]));return new o(a)},C(o,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(u){if(u[0]instanceof p.Texture)this._textures=u,this._durations=null;else{this._textures=[],this._durations=[];for(var a=0;a<u.length;a++)this._textures.push(u[a].texture),this._durations.push(u[a].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var u=Math.floor(this._currentTime)%this._textures.length;return u<0&&(u+=this._textures.length),u}}]),o}(p.Sprite);E.default=f},7877:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function l(_,v){for(var g=0;g<v.length;g++){var m=v[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,v,g){return v&&l(_.prototype,v),g&&l(_,g),_}}(),P=L(2321),p=o(P),O=L(4818),T=h(O),y=L(7768),c=L(7505),f=h(c);function h(l){return l&&l.__esModule?l:{default:l}}function o(l){if(l&&l.__esModule)return l;var _={};if(l!=null)for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(_[v]=l[v]);return _.default=l,_}function n(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")}function u(l,_){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:l}function a(l,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);l.prototype=Object.create(_&&_.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(l,_):l.__proto__=_)}var i=function(l){a(_,l);function _(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n(this,_);var m=u(this,l.call(this));return m._textWidth=0,m._textHeight=0,m._glyphs=[],m._font={tint:g.tint!==void 0?g.tint:16777215,align:g.align||"left",name:null,size:0},m.font=g.font,m._text=v,m._maxWidth=0,m._maxLineHeight=0,m._letterSpacing=0,m._anchor=new T.default(function(){m.dirty=!0},m,0,0),m.dirty=!1,m.updateText(),m}return _.prototype.updateText=function(){for(var g=_.fonts[this._font.name],m=this._font.size/g.size,b=new p.Point,I=[],S=[],w=this.text.replace(/(?:\r\n|\r)/g,`
`),D=w.length,A=this._maxWidth*g.size/this._font.size,M=null,N=0,K=0,G=0,U=-1,F=0,X=0,B=0,V=0;V<D;V++){var j=w.charCodeAt(V),H=w.charAt(V);if(/(?:\s)/.test(H)&&(U=V,F=N),H==="\r"||H===`
`){S.push(N),K=Math.max(K,N),++G,++X,b.x=0,b.y+=g.lineHeight,M=null;continue}var Y=g.chars[j];!Y||(M&&Y.kerning[M]&&(b.x+=Y.kerning[M]),I.push({texture:Y.texture,line:G,charCode:j,position:new p.Point(b.x+Y.xOffset+this._letterSpacing/2,b.y+Y.yOffset)}),b.x+=Y.xAdvance+this._letterSpacing,N=b.x,B=Math.max(B,Y.yOffset+Y.texture.height),M=j,U!==-1&&A>0&&b.x>A&&(++X,p.utils.removeItems(I,1+U-X,1+V-U),V=U,U=-1,S.push(F),K=Math.max(K,F),G++,b.x=0,b.y+=g.lineHeight,M=null))}var $=w.charAt(w.length-1);$!=="\r"&&$!==`
`&&(/(?:\s)/.test($)&&(N=F),S.push(N),K=Math.max(K,N));for(var re=[],te=0;te<=G;te++){var se=0;this._font.align==="right"?se=K-S[te]:this._font.align==="center"&&(se=(K-S[te])/2),re.push(se)}for(var ae=I.length,q=this.tint,ne=0;ne<ae;ne++){var ue=this._glyphs[ne];ue?ue.texture=I[ne].texture:(ue=new p.Sprite(I[ne].texture),this._glyphs.push(ue)),ue.position.x=(I[ne].position.x+re[I[ne].line])*m,ue.position.y=I[ne].position.y*m,ue.scale.x=ue.scale.y=m,ue.tint=q,ue.parent||this.addChild(ue)}for(var Ee=ae;Ee<this._glyphs.length;++Ee)this.removeChild(this._glyphs[Ee]);if(this._textWidth=K*m,this._textHeight=(b.y+g.lineHeight)*m,this.anchor.x!==0||this.anchor.y!==0)for(var de=0;de<ae;de++)this._glyphs[de].x-=this._textWidth*this.anchor.x,this._glyphs[de].y-=this._textHeight*this.anchor.y;this._maxLineHeight=B*m},_.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},_.prototype.getLocalBounds=function(){return this.validate(),l.prototype.getLocalBounds.call(this)},_.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},_.registerFont=function(g,m){var b={},I=g.getElementsByTagName("info")[0],S=g.getElementsByTagName("common")[0],w=g.getElementsByTagName("page"),D=(0,y.getResolutionOfUrl)(w[0].getAttribute("file"),f.default.RESOLUTION),A={};b.font=I.getAttribute("face"),b.size=parseInt(I.getAttribute("size"),10),b.lineHeight=parseInt(S.getAttribute("lineHeight"),10)/D,b.chars={},m instanceof p.Texture&&(m=[m]);for(var M=0;M<w.length;M++){var N=w[M].getAttribute("id"),K=w[M].getAttribute("file");A[N]=m instanceof Array?m[M]:m[K]}for(var G=g.getElementsByTagName("char"),U=0;U<G.length;U++){var F=G[U],X=parseInt(F.getAttribute("id"),10),B=F.getAttribute("page")||0,V=new p.Rectangle(parseInt(F.getAttribute("x"),10)/D+A[B].frame.x/D,parseInt(F.getAttribute("y"),10)/D+A[B].frame.y/D,parseInt(F.getAttribute("width"),10)/D,parseInt(F.getAttribute("height"),10)/D);b.chars[X]={xOffset:parseInt(F.getAttribute("xoffset"),10)/D,yOffset:parseInt(F.getAttribute("yoffset"),10)/D,xAdvance:parseInt(F.getAttribute("xadvance"),10)/D,kerning:{},texture:new p.Texture(A[B].baseTexture,V),page:B}}for(var j=g.getElementsByTagName("kerning"),H=0;H<j.length;H++){var Y=j[H],$=parseInt(Y.getAttribute("first"),10)/D,re=parseInt(Y.getAttribute("second"),10)/D,te=parseInt(Y.getAttribute("amount"),10)/D;b.chars[re]&&(b.chars[re].kerning[$]=te)}return _.fonts[b.font]=b,b},C(_,[{key:"tint",get:function(){return this._font.tint},set:function(g){this._font.tint=typeof g=="number"&&g>=0?g:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(g){this._font.align=g||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(g){typeof g=="number"?this._anchor.set(g):this._anchor.copy(g)}},{key:"font",get:function(){return this._font},set:function(g){!g||(typeof g=="string"?(g=g.split(" "),this._font.name=g.length===1?g[0]:g.slice(1).join(" "),this._font.size=g.length>=2?parseInt(g[0],10):_.fonts[this._font.name].size):(this._font.name=g.name,this._font.size=typeof g.size=="number"?g.size:parseInt(g.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(g){g=g.toString()||" ",this._text!==g&&(this._text=g,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(g){this._maxWidth!==g&&(this._maxWidth=g,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(g){this._letterSpacing!==g&&(this._letterSpacing=g,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),_}(p.Container);E.default=i,i.fonts={}},4459:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function a(i,l){for(var _=0;_<l.length;_++){var v=l[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}return function(i,l,_){return l&&a(i.prototype,l),_&&a(i,_),i}}(),P=L(2321),p=c(P),O=L(4099),T=y(O);function y(a){return a&&a.__esModule?a:{default:a}}function c(a){if(a&&a.__esModule)return a;var i={};if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l]);return i.default=a,i}function f(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function h(a,i){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:a}function o(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(a,i):a.__proto__=i)}var n=new p.Point,u=function(a){o(i,a);function i(l){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100;f(this,i);var g=h(this,a.call(this,l));return g.tileTransform=new p.TransformStatic,g._width=_,g._height=v,g._canvasPattern=null,g.uvTransform=l.transform||new p.TextureMatrix(l),g.pluginName="tilingSprite",g.uvRespectAnchor=!1,g}return i.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},i.prototype._renderWebGL=function(_){var v=this._texture;!v||!v.valid||(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),_.setObjectRenderer(_.plugins[this.pluginName]),_.plugins[this.pluginName].render(this))},i.prototype._renderCanvas=function(_){var v=this._texture;if(!!v.baseTexture.hasLoaded){var g=_.context,m=this.worldTransform,b=_.resolution,I=v.rotate===2,S=v.baseTexture,w=S.resolution,D=this.tilePosition.x/this.tileScale.x%v.orig.width*w,A=this.tilePosition.y/this.tileScale.y%v.orig.height*w;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var M=new p.CanvasRenderTarget(v.orig.width,v.orig.height,w);if(this.tint!==16777215)this.tintedTexture=T.default.getTintedTexture(this,this.tint),M.context.drawImage(this.tintedTexture,0,0);else{var N=v._frame.x*w,K=v._frame.y*w,G=v._frame.width*w,U=v._frame.height*w,F=(v.trim?v.trim.width:v.orig.width)*w,X=(v.trim?v.trim.height:v.orig.height)*w,B=(v.trim?v.trim.x:0)*w,V=(v.trim?v.trim.y:0)*w;I?(M.context.rotate(-Math.PI/2),M.context.translate(-X,0),M.context.drawImage(S.source,N,K,G,U,-V,B,X,F)):M.context.drawImage(S.source,N,K,G,U,B,V,F,X)}this.cachedTint=this.tint,this._canvasPattern=M.context.createPattern(M.canvas,"repeat")}g.globalAlpha=this.worldAlpha,g.setTransform(m.a*b,m.b*b,m.c*b,m.d*b,m.tx*b,m.ty*b),_.setBlendMode(this.blendMode),g.fillStyle=this._canvasPattern,g.scale(this.tileScale.x/w,this.tileScale.y/w);var j=this.anchor.x*-this._width*w,H=this.anchor.y*-this._height*w;this.uvRespectAnchor?(g.translate(D,A),g.fillRect(-D+j,-A+H,this._width/this.tileScale.x*w,this._height/this.tileScale.y*w)):(g.translate(D+j,A+H),g.fillRect(-D,-A,this._width/this.tileScale.x*w,this._height/this.tileScale.y*w))}},i.prototype._calculateBounds=function(){var _=this._width*-this._anchor._x,v=this._height*-this._anchor._y,g=this._width*(1-this._anchor._x),m=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,_,v,g,m)},i.prototype.getLocalBounds=function(_){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),_||(this._localBoundsRect||(this._localBoundsRect=new p.Rectangle),_=this._localBoundsRect),this._bounds.getRectangle(_)):a.prototype.getLocalBounds.call(this,_)},i.prototype.containsPoint=function(_){this.worldTransform.applyInverse(_,n);var v=this._width,g=this._height,m=-v*this.anchor._x;if(n.x>=m&&n.x<m+v){var b=-g*this.anchor._y;if(n.y>=b&&n.y<b+g)return!0}return!1},i.prototype.destroy=function(_){a.prototype.destroy.call(this,_),this.tileTransform=null,this.uvTransform=null},i.from=function(_,v,g){return new i(p.Texture.from(_),v,g)},i.fromFrame=function(_,v,g){var m=p.utils.TextureCache[_];if(!m)throw new Error('The frameId "'+_+'" does not exist in the texture cache '+this);return new i(m,v,g)},i.fromImage=function(_,v,g,m,b){return new i(p.Texture.fromImage(_,m,b),v,g)},C(i,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(_){this.uvTransform.clampMargin=_,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(_){this.tileTransform.scale.copy(_)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(_){this.tileTransform.position.copy(_)}},{key:"width",get:function(){return this._width},set:function(_){this._width=_}},{key:"height",get:function(){return this._height},set:function(_){this._height=_}}]),i}(p.Sprite);E.default=u},2881:(J,E,L)=>{"use strict";var C=L(2321),P=h(C),p=L(2631),O=f(p),T=L(9067),y=f(T),c=L(7768);function f(i){return i&&i.__esModule?i:{default:i}}function h(i){if(i&&i.__esModule)return i;var l={};if(i!=null)for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&(l[_]=i[_]);return l.default=i,l}function o(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}var n=P.DisplayObject,u=new P.Matrix;n.prototype._cacheAsBitmap=!1,n.prototype._cacheData=!1;var a=function i(){o(this,i),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(n.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(l){if(this._cacheAsBitmap!==l){this._cacheAsBitmap=l;var _=void 0;l?(this._cacheData||(this._cacheData=new a),_=this._cacheData,_.originalRenderWebGL=this.renderWebGL,_.originalRenderCanvas=this.renderCanvas,_.originalUpdateTransform=this.updateTransform,_.originalCalculateBounds=this.calculateBounds,_.originalGetLocalBounds=this.getLocalBounds,_.originalDestroy=this.destroy,_.originalContainsPoint=this.containsPoint,_.originalMask=this._mask,_.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(_=this._cacheData,_.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=_.originalRenderWebGL,this.renderCanvas=_.originalRenderCanvas,this.calculateBounds=_.originalCalculateBounds,this.getLocalBounds=_.originalGetLocalBounds,this.destroy=_.originalDestroy,this.updateTransform=_.originalUpdateTransform,this.containsPoint=_.originalContainsPoint,this._mask=_.originalMask,this.filterArea=_.originalFilterArea)}}}}),n.prototype._renderCachedWebGL=function(l){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(l),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(l))},n.prototype._initCachedDisplayObject=function(l){if(!(this._cacheData&&this._cacheData.sprite)){var _=this.alpha;this.alpha=1,l.currentRenderer.flush();var v=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var g=this._filters[0].padding;v.pad(g)}v.ceil(P.settings.RESOLUTION);var m=l._activeRenderTarget,b=l.filterManager.filterStack,I=P.RenderTexture.create(v.width,v.height),S="cacheAsBitmap_"+(0,c.uid)();this._cacheData.textureCacheId=S,y.default.addToCache(I.baseTexture,S),O.default.addToCache(I,S);var w=u;w.tx=-v.x,w.ty=-v.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,l.render(this,I,!0,w,!0),l.bindRenderTarget(m),l.filterManager.filterStack=b,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var D=new P.Sprite(I);D.transform.worldTransform=this.transform.worldTransform,D.anchor.x=-(v.x/v.width),D.anchor.y=-(v.y/v.height),D.alpha=_,D._bounds=this._bounds,this._cacheData.sprite=D,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=l._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=D.containsPoint.bind(D)}},n.prototype._renderCachedCanvas=function(l){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(l),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(l))},n.prototype._initCachedDisplayObjectCanvas=function(l){if(!(this._cacheData&&this._cacheData.sprite)){var _=this.getLocalBounds(),v=this.alpha;this.alpha=1;var g=l.context;_.ceil(P.settings.RESOLUTION);var m=P.RenderTexture.create(_.width,_.height),b="cacheAsBitmap_"+(0,c.uid)();this._cacheData.textureCacheId=b,y.default.addToCache(m.baseTexture,b),O.default.addToCache(m,b);var I=u;this.transform.localTransform.copy(I),I.invert(),I.tx-=_.x,I.ty-=_.y,this.renderCanvas=this._cacheData.originalRenderCanvas,l.render(this,m,!0,I,!1),l.context=g,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var S=new P.Sprite(m);S.transform.worldTransform=this.transform.worldTransform,S.anchor.x=-(_.x/_.width),S.anchor.y=-(_.y/_.height),S.alpha=v,S._bounds=this._bounds,this._cacheData.sprite=S,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=l._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=S.containsPoint.bind(S)}},n.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},n.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},n.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,y.default.removeFromCache(this._cacheData.textureCacheId),O.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},n.prototype._cacheAsBitmapDestroy=function(l){this.cacheAsBitmap=!1,this.destroy(l)}},2077:(J,E,L)=>{"use strict";var C=L(2321),P=p(C);function p(O){if(O&&O.__esModule)return O;var T={};if(O!=null)for(var y in O)Object.prototype.hasOwnProperty.call(O,y)&&(T[y]=O[y]);return T.default=O,T}P.DisplayObject.prototype.name=null,P.Container.prototype.getChildByName=function(T){for(var y=0;y<this.children.length;y++)if(this.children[y].name===T)return this.children[y];return null}},3559:(J,E,L)=>{"use strict";var C=L(2321),P=p(C);function p(O){if(O&&O.__esModule)return O;var T={};if(O!=null)for(var y in O)Object.prototype.hasOwnProperty.call(O,y)&&(T[y]=O[y]);return T.default=O,T}P.DisplayObject.prototype.getGlobalPosition=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new P.Point,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.parent?this.parent.toGlobal(this.position,T,y):(T.x=this.position.x,T.y=this.position.y),T}},4601:(J,E,L)=>{"use strict";E.__esModule=!0,E.BitmapText=E.TilingSpriteRenderer=E.TilingSprite=E.AnimatedSprite=void 0;var C=L(4888);Object.defineProperty(E,"AnimatedSprite",{enumerable:!0,get:function(){return T(C).default}});var P=L(4459);Object.defineProperty(E,"TilingSprite",{enumerable:!0,get:function(){return T(P).default}});var p=L(5518);Object.defineProperty(E,"TilingSpriteRenderer",{enumerable:!0,get:function(){return T(p).default}});var O=L(7877);Object.defineProperty(E,"BitmapText",{enumerable:!0,get:function(){return T(O).default}}),L(2881),L(2077),L(3559);function T(y){return y&&y.__esModule?y:{default:y}}},5518:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2321),P=T(C),p=L(4633),O=L(6470);function T(n){if(n&&n.__esModule)return n;var u={};if(n!=null)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(u[a]=n[a]);return u.default=n,u}function y(n,u){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function")}function c(n,u){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:n}function f(n,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);n.prototype=Object.create(u&&u.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(n,u):n.__proto__=u)}var h=new P.Matrix,o=function(n){f(u,n);function u(a){y(this,u);var i=c(this,n.call(this,a));return i.shader=null,i.simpleShader=null,i.quad=null,i}return u.prototype.onContextChange=function(){var i=this.renderer.gl;this.shader=new P.Shader(i,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 sample = texture2D(uSampler, coord);
    gl_FragColor = sample * uColor;
}
`),this.simpleShader=new P.Shader(i,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 sample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = sample * uColor;
}
`),this.renderer.bindVao(null),this.quad=new P.Quad(i,this.renderer.state.attribState),this.quad.initVao(this.shader)},u.prototype.render=function(i){var l=this.renderer,_=this.quad;l.bindVao(_.vao);var v=_.vertices;v[0]=v[6]=i._width*-i.anchor.x,v[1]=v[3]=i._height*-i.anchor.y,v[2]=v[4]=i._width*(1-i.anchor.x),v[5]=v[7]=i._height*(1-i.anchor.y),i.uvRespectAnchor&&(v=_.uvs,v[0]=v[6]=-i.anchor.x,v[1]=v[3]=-i.anchor.y,v[2]=v[4]=1-i.anchor.x,v[5]=v[7]=1-i.anchor.y),_.upload();var g=i._texture,m=g.baseTexture,b=i.tileTransform.localTransform,I=i.uvTransform,S=m.isPowerOfTwo&&g.frame.width===m.width&&g.frame.height===m.height;S&&(m._glTextures[l.CONTEXT_UID]?S=m.wrapMode!==p.WRAP_MODES.CLAMP:m.wrapMode===p.WRAP_MODES.CLAMP&&(m.wrapMode=p.WRAP_MODES.REPEAT));var w=S?this.simpleShader:this.shader;l.bindShader(w);var D=g.width,A=g.height,M=i._width,N=i._height;h.set(b.a*D/M,b.b*D/N,b.c*A/M,b.d*A/N,b.tx/M,b.ty/N),h.invert(),S?h.prepend(I.mapCoord):(w.uniforms.uMapCoord=I.mapCoord.toArray(!0),w.uniforms.uClampFrame=I.uClampFrame,w.uniforms.uClampOffset=I.uClampOffset),w.uniforms.uTransform=h.toArray(!0),w.uniforms.uColor=P.utils.premultiplyTintToRgba(i.tint,i.worldAlpha,w.uniforms.uColor,m.premultipliedAlpha),w.uniforms.translationMatrix=i.transform.worldTransform.toArray(!0),w.uniforms.uSampler=l.bindTexture(g),l.setBlendMode(P.utils.correctBlendMode(i.blendMode,m.premultipliedAlpha)),_.vao.draw(this.renderer.gl.TRIANGLES,6,0)},u}(P.ObjectRenderer);E.default=o,P.WebGLRenderer.registerPlugin("tilingSprite",o)},5541:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function o(n,u){for(var a=0;a<u.length;a++){var i=u[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,u,a){return u&&o(n.prototype,u),a&&o(n,a),n}}(),P=L(2321),p=T(P),O=L(6470);function T(o){if(o&&o.__esModule)return o;var n={};if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u]);return n.default=o,n}function y(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function c(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:o}function f(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}var h=function(o){f(n,o);function n(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;y(this,n);var a=c(this,o.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`));return a.alpha=u,a.glShaderKey="alpha",a}return C(n,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a}}]),n}(p.Filter);E.default=h},9216:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function i(l,_){for(var v=0;v<_.length;v++){var g=_[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(l,g.key,g)}}return function(l,_,v){return _&&i(l.prototype,_),v&&i(l,v),l}}(),P=L(2321),p=h(P),O=L(8966),T=f(O),y=L(7623),c=f(y);function f(i){return i&&i.__esModule?i:{default:i}}function h(i){if(i&&i.__esModule)return i;var l={};if(i!=null)for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&(l[_]=i[_]);return l.default=i,l}function o(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}function n(i,l){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:i}function u(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(i,l):i.__proto__=l)}var a=function(i){u(l,i);function l(_,v,g,m){o(this,l);var b=n(this,i.call(this));return b.blurXFilter=new T.default(_,v,g,m),b.blurYFilter=new c.default(_,v,g,m),b.padding=0,b.resolution=g||p.settings.RESOLUTION,b.quality=v||4,b.blur=_||8,b}return l.prototype.apply=function(v,g,m){var b=v.getRenderTarget(!0);this.blurXFilter.apply(v,g,b,!0),this.blurYFilter.apply(v,b,m,!1),v.returnRenderTarget(b)},C(l,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(v){this.blurXFilter.blur=this.blurYFilter.blur=v,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(v){this.blurXFilter.quality=this.blurYFilter.quality=v}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(v){this.blurXFilter.blur=v,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(v){this.blurYFilter.blur=v,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(v){this.blurYFilter._blendMode=v}}]),l}(p.Filter);E.default=a},8966:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function _(v,g){for(var m=0;m<g.length;m++){var b=g[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,m){return g&&_(v.prototype,g),m&&_(v,m),v}}(),P=L(2321),p=n(P),O=L(7923),T=o(O),y=L(4576),c=o(y),f=L(9449),h=o(f);function o(_){return _&&_.__esModule?_:{default:_}}function n(_){if(_&&_.__esModule)return _;var v={};if(_!=null)for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(v[g]=_[g]);return v.default=_,v}function u(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function a(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function i(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var l=function(_){i(v,_);function v(g,m,b,I){u(this,v),I=I||5;var S=(0,T.default)(I,!0),w=(0,c.default)(I),D=a(this,_.call(this,S,w));return D.resolution=b||p.settings.RESOLUTION,D._quality=0,D.quality=m||4,D.strength=g||8,D.firstRun=!0,D}return v.prototype.apply=function(m,b,I,S){if(this.firstRun){var w=m.renderer.gl,D=(0,h.default)(w);this.vertexSrc=(0,T.default)(D,!0),this.fragmentSrc=(0,c.default)(D),this.firstRun=!1}if(this.uniforms.strength=1/I.size.width*(I.size.width/b.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)m.applyFilter(this,b,I,S);else{for(var A=m.getRenderTarget(!0),M=b,N=A,K=0;K<this.passes-1;K++){m.applyFilter(this,M,N,!0);var G=N;N=M,M=G}m.applyFilter(this,M,I,S),m.returnRenderTarget(A)}},C(v,[{key:"blur",get:function(){return this.strength},set:function(m){this.padding=Math.abs(m)*2,this.strength=m}},{key:"quality",get:function(){return this._quality},set:function(m){this._quality=m,this.passes=m}}]),v}(p.Filter);E.default=l},7623:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function _(v,g){for(var m=0;m<g.length;m++){var b=g[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,m){return g&&_(v.prototype,g),m&&_(v,m),v}}(),P=L(2321),p=n(P),O=L(7923),T=o(O),y=L(4576),c=o(y),f=L(9449),h=o(f);function o(_){return _&&_.__esModule?_:{default:_}}function n(_){if(_&&_.__esModule)return _;var v={};if(_!=null)for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(v[g]=_[g]);return v.default=_,v}function u(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function a(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function i(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var l=function(_){i(v,_);function v(g,m,b,I){u(this,v),I=I||5;var S=(0,T.default)(I,!1),w=(0,c.default)(I),D=a(this,_.call(this,S,w));return D.resolution=b||p.settings.RESOLUTION,D._quality=0,D.quality=m||4,D.strength=g||8,D.firstRun=!0,D}return v.prototype.apply=function(m,b,I,S){if(this.firstRun){var w=m.renderer.gl,D=(0,h.default)(w);this.vertexSrc=(0,T.default)(D,!1),this.fragmentSrc=(0,c.default)(D),this.firstRun=!1}if(this.uniforms.strength=1/I.size.height*(I.size.height/b.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)m.applyFilter(this,b,I,S);else{for(var A=m.getRenderTarget(!0),M=b,N=A,K=0;K<this.passes-1;K++){m.applyFilter(this,M,N,!0);var G=N;N=M,M=G}m.applyFilter(this,M,I,S),m.returnRenderTarget(A)}},C(v,[{key:"blur",get:function(){return this.strength},set:function(m){this.padding=Math.abs(m)*2,this.strength=m}},{key:"quality",get:function(){return this._quality},set:function(m){this._quality=m,this.passes=m}}]),v}(p.Filter);E.default=l},4576:(J,E)=>{"use strict";E.__esModule=!0,E.default=P;var L={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},C=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function P(p){for(var O=L[p],T=O.length,y=C,c="",f="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",h=void 0,o=0;o<p;o++){var n=f.replace("%index%",o);h=o,o>=T&&(h=p-o-1),n=n.replace("%value%",O[h]),c+=n,c+=`
`}return y=y.replace("%blur%",c),y=y.replace("%size%",p),y}},7923:(J,E)=>{"use strict";E.__esModule=!0,E.default=C;var L=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join(`
`);function C(P,p){var O=Math.ceil(P/2),T=L,y="",c=void 0;p?c="vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":c="vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var f=0;f<P;f++){var h=c.replace("%index%",f);h=h.replace("%sampleIndex%",f-(O-1)+".0"),y+=h,y+=`
`}return T=T.replace("%blur%",y),T=T.replace("%size%",P),T}},9449:(J,E)=>{"use strict";E.__esModule=!0,E.default=L;function L(C){for(var P=C.getParameter(C.MAX_VARYING_VECTORS),p=15;p>P;)p-=2;return p}},7750:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function o(n,u){for(var a=0;a<u.length;a++){var i=u[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,u,a){return u&&o(n.prototype,u),a&&o(n,a),n}}(),P=L(2321),p=T(P),O=L(6470);function T(o){if(o&&o.__esModule)return o;var n={};if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u]);return n.default=o,n}function y(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function c(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:o}function f(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}var h=function(o){f(n,o);function n(){y(this,n);var u=c(this,o.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`));return u.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],u.alpha=1,u}return n.prototype._loadMatrix=function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=a;i&&(this._multiply(l,this.uniforms.m,a),l=this._colorMatrix(l)),this.uniforms.m=l},n.prototype._multiply=function(a,i,l){return a[0]=i[0]*l[0]+i[1]*l[5]+i[2]*l[10]+i[3]*l[15],a[1]=i[0]*l[1]+i[1]*l[6]+i[2]*l[11]+i[3]*l[16],a[2]=i[0]*l[2]+i[1]*l[7]+i[2]*l[12]+i[3]*l[17],a[3]=i[0]*l[3]+i[1]*l[8]+i[2]*l[13]+i[3]*l[18],a[4]=i[0]*l[4]+i[1]*l[9]+i[2]*l[14]+i[3]*l[19]+i[4],a[5]=i[5]*l[0]+i[6]*l[5]+i[7]*l[10]+i[8]*l[15],a[6]=i[5]*l[1]+i[6]*l[6]+i[7]*l[11]+i[8]*l[16],a[7]=i[5]*l[2]+i[6]*l[7]+i[7]*l[12]+i[8]*l[17],a[8]=i[5]*l[3]+i[6]*l[8]+i[7]*l[13]+i[8]*l[18],a[9]=i[5]*l[4]+i[6]*l[9]+i[7]*l[14]+i[8]*l[19]+i[9],a[10]=i[10]*l[0]+i[11]*l[5]+i[12]*l[10]+i[13]*l[15],a[11]=i[10]*l[1]+i[11]*l[6]+i[12]*l[11]+i[13]*l[16],a[12]=i[10]*l[2]+i[11]*l[7]+i[12]*l[12]+i[13]*l[17],a[13]=i[10]*l[3]+i[11]*l[8]+i[12]*l[13]+i[13]*l[18],a[14]=i[10]*l[4]+i[11]*l[9]+i[12]*l[14]+i[13]*l[19]+i[14],a[15]=i[15]*l[0]+i[16]*l[5]+i[17]*l[10]+i[18]*l[15],a[16]=i[15]*l[1]+i[16]*l[6]+i[17]*l[11]+i[18]*l[16],a[17]=i[15]*l[2]+i[16]*l[7]+i[17]*l[12]+i[18]*l[17],a[18]=i[15]*l[3]+i[16]*l[8]+i[17]*l[13]+i[18]*l[18],a[19]=i[15]*l[4]+i[16]*l[9]+i[17]*l[14]+i[18]*l[19]+i[19],a},n.prototype._colorMatrix=function(a){var i=new Float32Array(a);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i},n.prototype.brightness=function(a,i){var l=[a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(l,i)},n.prototype.greyscale=function(a,i){var l=[a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0];this._loadMatrix(l,i)},n.prototype.blackAndWhite=function(a){var i=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(i,a)},n.prototype.hue=function(a,i){a=(a||0)/180*Math.PI;var l=Math.cos(a),_=Math.sin(a),v=Math.sqrt,g=1/3,m=v(g),b=l+(1-l)*g,I=g*(1-l)-m*_,S=g*(1-l)+m*_,w=g*(1-l)+m*_,D=l+g*(1-l),A=g*(1-l)-m*_,M=g*(1-l)-m*_,N=g*(1-l)+m*_,K=l+g*(1-l),G=[b,I,S,0,0,w,D,A,0,0,M,N,K,0,0,0,0,0,1,0];this._loadMatrix(G,i)},n.prototype.contrast=function(a,i){var l=(a||0)+1,_=-.5*(l-1),v=[l,0,0,0,_,0,l,0,0,_,0,0,l,0,_,0,0,0,1,0];this._loadMatrix(v,i)},n.prototype.saturate=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments[1],l=a*2/3+1,_=(l-1)*-.5,v=[l,_,_,0,0,_,l,_,0,0,_,_,l,0,0,0,0,0,1,0];this._loadMatrix(v,i)},n.prototype.desaturate=function(){this.saturate(-1)},n.prototype.negative=function(a){var i=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(i,a)},n.prototype.sepia=function(a){var i=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(i,a)},n.prototype.technicolor=function(a){var i=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(i,a)},n.prototype.polaroid=function(a){var i=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(i,a)},n.prototype.toBGR=function(a){var i=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(i,a)},n.prototype.kodachrome=function(a){var i=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(i,a)},n.prototype.browni=function(a){var i=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(i,a)},n.prototype.vintage=function(a){var i=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(i,a)},n.prototype.colorTone=function(a,i,l,_,v){a=a||.2,i=i||.15,l=l||16770432,_=_||3375104;var g=(l>>16&255)/255,m=(l>>8&255)/255,b=(l&255)/255,I=(_>>16&255)/255,S=(_>>8&255)/255,w=(_&255)/255,D=[.3,.59,.11,0,0,g,m,b,a,0,I,S,w,i,0,g-I,m-S,b-w,0,0];this._loadMatrix(D,v)},n.prototype.night=function(a,i){a=a||.1;var l=[a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0];this._loadMatrix(l,i)},n.prototype.predator=function(a,i){var l=[11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0];this._loadMatrix(l,i)},n.prototype.lsd=function(a){var i=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(i,a)},n.prototype.reset=function(){var a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(a,!1)},C(n,[{key:"matrix",get:function(){return this.uniforms.m},set:function(a){this.uniforms.m=a}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a}}]),n}(p.Filter);E.default=h,h.prototype.grayscale=h.prototype.greyscale},3276:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function o(n,u){for(var a=0;a<u.length;a++){var i=u[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,u,a){return u&&o(n.prototype,u),a&&o(n,a),n}}(),P=L(2321),p=T(P),O=L(6470);function T(o){if(o&&o.__esModule)return o;var n={};if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u]);return n.default=o,n}function y(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function c(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:o}function f(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}var h=function(o){f(n,o);function n(u,a){y(this,n);var i=new p.Matrix;u.renderable=!1;var l=c(this,o.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

void main(void)
{
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;
   vTextureCoord = aTextureCoord;
}`,`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;

uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy *= scale / filterArea.xy;

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));
}
`));return l.maskSprite=u,l.maskMatrix=i,l.uniforms.mapSampler=u._texture,l.uniforms.filterMatrix=i,l.uniforms.scale={x:1,y:1},a==null&&(a=20),l.scale=new p.Point(a,a),l}return n.prototype.apply=function(a,i,l){this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,a.applyFilter(this,i,l)},C(n,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(a){this.uniforms.mapSampler=a}}]),n}(p.Filter);E.default=h},2113:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2321),P=O(C),p=L(6470);function O(h){if(h&&h.__esModule)return h;var o={};if(h!=null)for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&(o[n]=h[n]);return o.default=h,o}function T(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}function y(h,o){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:h}function c(h,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);h.prototype=Object.create(o&&o.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(h,o):h.__proto__=o)}var f=function(h){c(o,h);function o(){return T(this,o),y(this,h.call(this,`
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

uniform vec4 filterArea;

varying vec2 vTextureCoord;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

void texcoords(vec2 fragCoord, vec2 resolution,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    vec2 inverseVP = 1.0 / resolution.xy;
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

   vTextureCoord = aTextureCoord;

   vec2 fragCoord = vTextureCoord * filterArea.xy;

   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}`,`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.
 
 --
 
 From:
 https://github.com/mitsuhiko/webgl-meincraft
 
 Copyright (c) 2011 by Armin Ronacher.
 
 Some rights reserved.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:
 
 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.
 
 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.
 
 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.
 
 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));
    
    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));
    
    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);
    
    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;
    
    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);
    
    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec2 fragCoord = vTextureCoord * filterArea.xy;

      vec4 color;

    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`))}return o}(P.Filter);E.default=f},3430:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2113);Object.defineProperty(E,"FXAAFilter",{enumerable:!0,get:function(){return h(C).default}});var P=L(5107);Object.defineProperty(E,"NoiseFilter",{enumerable:!0,get:function(){return h(P).default}});var p=L(3276);Object.defineProperty(E,"DisplacementFilter",{enumerable:!0,get:function(){return h(p).default}});var O=L(9216);Object.defineProperty(E,"BlurFilter",{enumerable:!0,get:function(){return h(O).default}});var T=L(8966);Object.defineProperty(E,"BlurXFilter",{enumerable:!0,get:function(){return h(T).default}});var y=L(7623);Object.defineProperty(E,"BlurYFilter",{enumerable:!0,get:function(){return h(y).default}});var c=L(7750);Object.defineProperty(E,"ColorMatrixFilter",{enumerable:!0,get:function(){return h(c).default}});var f=L(5541);Object.defineProperty(E,"AlphaFilter",{enumerable:!0,get:function(){return h(f).default}});function h(o){return o&&o.__esModule?o:{default:o}}},5107:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function o(n,u){for(var a=0;a<u.length;a++){var i=u[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,u,a){return u&&o(n.prototype,u),a&&o(n,a),n}}(),P=L(2321),p=T(P),O=L(6470);function T(o){if(o&&o.__esModule)return o;var n={};if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u]);return n.default=o,n}function y(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function c(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:o}function f(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}var h=function(o){f(n,o);function n(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.5,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Math.random();y(this,n);var i=c(this,o.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`));return i.noise=u,i.seed=a,i}return C(n,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(a){this.uniforms.uNoise=a}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(a){this.uniforms.uSeed=a}}]),n}(p.Filter);E.default=h},8687:(J,E,L)=>{"use strict";E.__esModule=!0,E.loader=E.prepare=E.particles=E.mesh=E.loaders=E.interaction=E.filters=E.extras=E.extract=E.accessibility=void 0;var C=L(381);Object.keys(C).forEach(function(M){M==="default"||M==="__esModule"||Object.defineProperty(E,M,{enumerable:!0,get:function(){return C[M]}})});var P=L(2321);Object.keys(P).forEach(function(M){M==="default"||M==="__esModule"||Object.defineProperty(E,M,{enumerable:!0,get:function(){return P[M]}})});var p=L(6910),O=D(p),T=L(6807),y=w(T),c=L(4855),f=w(c),h=L(4601),o=w(h),n=L(3430),u=w(n),a=L(5798),i=w(a),l=L(3893),_=w(l),v=L(7601),g=w(v),m=L(4728),b=w(m),I=L(9878),S=w(I);function w(M){if(M&&M.__esModule)return M;var N={};if(M!=null)for(var K in M)Object.prototype.hasOwnProperty.call(M,K)&&(N[K]=M[K]);return N.default=M,N}function D(M){return M&&M.__esModule?M:{default:M}}P.utils.mixins.performMixins();var A=_.shared||null;E.accessibility=y,E.extract=f,E.extras=o,E.filters=u,E.interaction=i,E.loaders=_,E.mesh=g,E.particles=b,E.prepare=S,E.loader=A,typeof O.default=="function"&&(0,O.default)(E),L.g.PIXI=E},1422:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function c(f,h){for(var o=0;o<h.length;o++){var n=h[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(f,n.key,n)}}return function(f,h,o){return h&&c(f.prototype,h),o&&c(f,o),f}}(),P=L(2321),p=O(P);function O(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(f[h]=c[h]);return f.default=c,f}function T(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var y=function(){function c(){T(this,c),this.global=new p.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return c.prototype.getLocalPosition=function(h,o,n){return h.worldTransform.applyInverse(n||this.global,o)},c.prototype.copyEvent=function(h){h.isPrimary&&(this.isPrimary=!0),this.button=h.button,this.buttons=Number.isInteger(h.buttons)?h.buttons:h.which,this.width=h.width,this.height=h.height,this.tiltX=h.tiltX,this.tiltY=h.tiltY,this.pointerType=h.pointerType,this.pressure=h.pressure,this.rotationAngle=h.rotationAngle,this.twist=h.twist||0,this.tangentialPressure=h.tangentialPressure||0},c.prototype.reset=function(){this.isPrimary=!1},C(c,[{key:"pointerId",get:function(){return this.identifier}}]),c}();E.default=y},7308:(J,E)=>{"use strict";E.__esModule=!0;function L(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}var C=function(){function P(){L(this,P),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return P.prototype.stopPropagation=function(){this.stopped=!0},P.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},P}();E.default=C},4515:(J,E,L)=>{"use strict";E.__esModule=!0;var C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},P=L(2321),p=l(P),O=L(1422),T=i(O),y=L(7308),c=i(y),f=L(6793),h=i(f),o=L(5323),n=i(o),u=L(5262),a=i(u);function i(S){return S&&S.__esModule?S:{default:S}}function l(S){if(S&&S.__esModule)return S;var w={};if(S!=null)for(var D in S)Object.prototype.hasOwnProperty.call(S,D)&&(w[D]=S[D]);return w.default=S,w}function _(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function v(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function g(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}p.utils.mixins.delayMixin(p.DisplayObject.prototype,a.default);var m=1,b={target:null,data:{global:null}},I=function(S){g(w,S);function w(D,A){_(this,w);var M=v(this,S.call(this));return A=A||{},M.renderer=D,M.autoPreventDefault=A.autoPreventDefault!==void 0?A.autoPreventDefault:!0,M.interactionFrequency=A.interactionFrequency||10,M.mouse=new T.default,M.mouse.identifier=m,M.mouse.global.set(-999999),M.activeInteractionData={},M.activeInteractionData[m]=M.mouse,M.interactionDataPool=[],M.eventData=new c.default,M.interactionDOMElement=null,M.moveWhenInside=!1,M.eventsAdded=!1,M.mouseOverRenderer=!1,M.supportsTouchEvents="ontouchstart"in window,M.supportsPointerEvents=!!window.PointerEvent,M.onPointerUp=M.onPointerUp.bind(M),M.processPointerUp=M.processPointerUp.bind(M),M.onPointerCancel=M.onPointerCancel.bind(M),M.processPointerCancel=M.processPointerCancel.bind(M),M.onPointerDown=M.onPointerDown.bind(M),M.processPointerDown=M.processPointerDown.bind(M),M.onPointerMove=M.onPointerMove.bind(M),M.processPointerMove=M.processPointerMove.bind(M),M.onPointerOut=M.onPointerOut.bind(M),M.processPointerOverOut=M.processPointerOverOut.bind(M),M.onPointerOver=M.onPointerOver.bind(M),M.cursorStyles={default:"inherit",pointer:"pointer"},M.currentCursorMode=null,M.cursor=null,M._tempPoint=new p.Point,M.resolution=1,M.setTargetElement(M.renderer.view,M.renderer.resolution),M}return w.prototype.hitTest=function(A,M){return b.target=null,b.data.global=A,M||(M=this.renderer._lastObjectRendered),this.processInteractive(b,M,null,!0),b.target},w.prototype.setTargetElement=function(A){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=A,this.resolution=M,this.addEvents()},w.prototype.addEvents=function(){!this.interactionDOMElement||(p.ticker.shared.add(this.update,this,p.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},w.prototype.removeEvents=function(){!this.interactionDOMElement||(p.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},w.prototype.update=function(A){if(this._deltaTime+=A,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove){this.didMove=!1;return}this.cursor=null;for(var M in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(M)){var N=this.activeInteractionData[M];if(N.originalEvent&&N.pointerType!=="touch"){var K=this.configureInteractionEventForDOMEvent(this.eventData,N.originalEvent,N);this.processInteractive(K,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},w.prototype.setCursorMode=function(A){if(A=A||"default",this.currentCursorMode!==A){this.currentCursorMode=A;var M=this.cursorStyles[A];if(M)switch(typeof M=="undefined"?"undefined":C(M)){case"string":this.interactionDOMElement.style.cursor=M;break;case"function":M(A);break;case"object":Object.assign(this.interactionDOMElement.style,M);break}else typeof A=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,A)&&(this.interactionDOMElement.style.cursor=A)}},w.prototype.dispatchEvent=function(A,M,N){N.stopped||(N.currentTarget=A,N.type=M,A.emit(M,N),A[M]&&A[M](N))},w.prototype.mapPositionToPoint=function(A,M,N){var K=void 0;this.interactionDOMElement.parentElement?K=this.interactionDOMElement.getBoundingClientRect():K={x:0,y:0,width:0,height:0};var G=navigator.isCocoonJS?this.resolution:1/this.resolution;A.x=(M-K.left)*(this.interactionDOMElement.width/K.width)*G,A.y=(N-K.top)*(this.interactionDOMElement.height/K.height)*G},w.prototype.processInteractive=function(A,M,N,K,G){if(!M||!M.visible)return!1;var U=A.data.global;G=M.interactive||G;var F=!1,X=G,B=!0;if(M.hitArea?(K&&(M.worldTransform.applyInverse(U,this._tempPoint),M.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?F=!0:(K=!1,B=!1)),X=!1):M._mask&&K&&(M._mask.containsPoint(U)||(K=!1,B=!1)),B&&M.interactiveChildren&&M.children)for(var V=M.children,j=V.length-1;j>=0;j--){var H=V[j],Y=this.processInteractive(A,H,N,K,X);if(Y){if(!H.parent)continue;X=!1,Y&&(A.target&&(K=!1),F=!0)}}return G&&(K&&!A.target&&!M.hitArea&&M.containsPoint&&M.containsPoint(U)&&(F=!0),M.interactive&&(F&&!A.target&&(A.target=M),N&&N(A,M,!!F))),F},w.prototype.onPointerDown=function(A){if(!(this.supportsTouchEvents&&A.pointerType==="touch")){var M=this.normalizeToPointerData(A);this.autoPreventDefault&&M[0].isNormalized&&A.preventDefault();for(var N=M.length,K=0;K<N;K++){var G=M[K],U=this.getInteractionDataForPointerId(G),F=this.configureInteractionEventForDOMEvent(this.eventData,G,U);if(F.data.originalEvent=A,this.processInteractive(F,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",F),G.pointerType==="touch")this.emit("touchstart",F);else if(G.pointerType==="mouse"||G.pointerType==="pen"){var X=G.button===2;this.emit(X?"rightdown":"mousedown",this.eventData)}}}},w.prototype.processPointerDown=function(A,M,N){var K=A.data,G=A.data.identifier;if(N){if(M.trackedPointers[G]||(M.trackedPointers[G]=new h.default(G)),this.dispatchEvent(M,"pointerdown",A),K.pointerType==="touch")this.dispatchEvent(M,"touchstart",A);else if(K.pointerType==="mouse"||K.pointerType==="pen"){var U=K.button===2;U?M.trackedPointers[G].rightDown=!0:M.trackedPointers[G].leftDown=!0,this.dispatchEvent(M,U?"rightdown":"mousedown",A)}}},w.prototype.onPointerComplete=function(A,M,N){for(var K=this.normalizeToPointerData(A),G=K.length,U=A.target!==this.interactionDOMElement?"outside":"",F=0;F<G;F++){var X=K[F],B=this.getInteractionDataForPointerId(X),V=this.configureInteractionEventForDOMEvent(this.eventData,X,B);if(V.data.originalEvent=A,this.processInteractive(V,this.renderer._lastObjectRendered,N,M||!U),this.emit(M?"pointercancel":"pointerup"+U,V),X.pointerType==="mouse"||X.pointerType==="pen"){var j=X.button===2;this.emit(j?"rightup"+U:"mouseup"+U,V)}else X.pointerType==="touch"&&(this.emit(M?"touchcancel":"touchend"+U,V),this.releaseInteractionDataForPointerId(X.pointerId,B))}},w.prototype.onPointerCancel=function(A){this.supportsTouchEvents&&A.pointerType==="touch"||this.onPointerComplete(A,!0,this.processPointerCancel)},w.prototype.processPointerCancel=function(A,M){var N=A.data,K=A.data.identifier;M.trackedPointers[K]!==void 0&&(delete M.trackedPointers[K],this.dispatchEvent(M,"pointercancel",A),N.pointerType==="touch"&&this.dispatchEvent(M,"touchcancel",A))},w.prototype.onPointerUp=function(A){this.supportsTouchEvents&&A.pointerType==="touch"||this.onPointerComplete(A,!1,this.processPointerUp)},w.prototype.processPointerUp=function(A,M,N){var K=A.data,G=A.data.identifier,U=M.trackedPointers[G],F=K.pointerType==="touch",X=K.pointerType==="mouse"||K.pointerType==="pen",B=!1;if(X){var V=K.button===2,j=h.default.FLAGS,H=V?j.RIGHT_DOWN:j.LEFT_DOWN,Y=U!==void 0&&U.flags&H;N?(this.dispatchEvent(M,V?"rightup":"mouseup",A),Y&&(this.dispatchEvent(M,V?"rightclick":"click",A),B=!0)):Y&&this.dispatchEvent(M,V?"rightupoutside":"mouseupoutside",A),U&&(V?U.rightDown=!1:U.leftDown=!1)}N?(this.dispatchEvent(M,"pointerup",A),F&&this.dispatchEvent(M,"touchend",A),U&&((!X||B)&&this.dispatchEvent(M,"pointertap",A),F&&(this.dispatchEvent(M,"tap",A),U.over=!1))):U&&(this.dispatchEvent(M,"pointerupoutside",A),F&&this.dispatchEvent(M,"touchendoutside",A)),U&&U.none&&delete M.trackedPointers[G]},w.prototype.onPointerMove=function(A){if(!(this.supportsTouchEvents&&A.pointerType==="touch")){var M=this.normalizeToPointerData(A);(M[0].pointerType==="mouse"||M[0].pointerType==="pen")&&(this.didMove=!0,this.cursor=null);for(var N=M.length,K=0;K<N;K++){var G=M[K],U=this.getInteractionDataForPointerId(G),F=this.configureInteractionEventForDOMEvent(this.eventData,G,U);F.data.originalEvent=A;var X=G.pointerType==="touch"?this.moveWhenInside:!0;this.processInteractive(F,this.renderer._lastObjectRendered,this.processPointerMove,X),this.emit("pointermove",F),G.pointerType==="touch"&&this.emit("touchmove",F),(G.pointerType==="mouse"||G.pointerType==="pen")&&this.emit("mousemove",F)}M[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},w.prototype.processPointerMove=function(A,M,N){var K=A.data,G=K.pointerType==="touch",U=K.pointerType==="mouse"||K.pointerType==="pen";U&&this.processPointerOverOut(A,M,N),(!this.moveWhenInside||N)&&(this.dispatchEvent(M,"pointermove",A),G&&this.dispatchEvent(M,"touchmove",A),U&&this.dispatchEvent(M,"mousemove",A))},w.prototype.onPointerOut=function(A){if(!(this.supportsTouchEvents&&A.pointerType==="touch")){var M=this.normalizeToPointerData(A),N=M[0];N.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var K=this.getInteractionDataForPointerId(N),G=this.configureInteractionEventForDOMEvent(this.eventData,N,K);G.data.originalEvent=N,this.processInteractive(G,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",G),N.pointerType==="mouse"||N.pointerType==="pen"?this.emit("mouseout",G):this.releaseInteractionDataForPointerId(K.identifier)}},w.prototype.processPointerOverOut=function(A,M,N){var K=A.data,G=A.data.identifier,U=K.pointerType==="mouse"||K.pointerType==="pen",F=M.trackedPointers[G];N&&!F&&(F=M.trackedPointers[G]=new h.default(G)),F!==void 0&&(N&&this.mouseOverRenderer?(F.over||(F.over=!0,this.dispatchEvent(M,"pointerover",A),U&&this.dispatchEvent(M,"mouseover",A)),U&&this.cursor===null&&(this.cursor=M.cursor)):F.over&&(F.over=!1,this.dispatchEvent(M,"pointerout",this.eventData),U&&this.dispatchEvent(M,"mouseout",A),F.none&&delete M.trackedPointers[G]))},w.prototype.onPointerOver=function(A){var M=this.normalizeToPointerData(A),N=M[0],K=this.getInteractionDataForPointerId(N),G=this.configureInteractionEventForDOMEvent(this.eventData,N,K);G.data.originalEvent=N,N.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",G),(N.pointerType==="mouse"||N.pointerType==="pen")&&this.emit("mouseover",G)},w.prototype.getInteractionDataForPointerId=function(A){var M=A.pointerId,N=void 0;return M===m||A.pointerType==="mouse"?N=this.mouse:this.activeInteractionData[M]?N=this.activeInteractionData[M]:(N=this.interactionDataPool.pop()||new T.default,N.identifier=M,this.activeInteractionData[M]=N),N.copyEvent(A),N},w.prototype.releaseInteractionDataForPointerId=function(A){var M=this.activeInteractionData[A];M&&(delete this.activeInteractionData[A],M.reset(),this.interactionDataPool.push(M))},w.prototype.configureInteractionEventForDOMEvent=function(A,M,N){return A.data=N,this.mapPositionToPoint(N.global,M.clientX,M.clientY),navigator.isCocoonJS&&M.pointerType==="touch"&&(N.global.x=N.global.x/this.resolution,N.global.y=N.global.y/this.resolution),M.pointerType==="touch"&&(M.globalX=N.global.x,M.globalY=N.global.y),N.originalEvent=M,A.reset(),A},w.prototype.normalizeToPointerData=function(A){var M=[];if(this.supportsTouchEvents&&A instanceof TouchEvent)for(var N=0,K=A.changedTouches.length;N<K;N++){var G=A.changedTouches[N];typeof G.button=="undefined"&&(G.button=A.touches.length?1:0),typeof G.buttons=="undefined"&&(G.buttons=A.touches.length?1:0),typeof G.isPrimary=="undefined"&&(G.isPrimary=A.touches.length===1&&A.type==="touchstart"),typeof G.width=="undefined"&&(G.width=G.radiusX||1),typeof G.height=="undefined"&&(G.height=G.radiusY||1),typeof G.tiltX=="undefined"&&(G.tiltX=0),typeof G.tiltY=="undefined"&&(G.tiltY=0),typeof G.pointerType=="undefined"&&(G.pointerType="touch"),typeof G.pointerId=="undefined"&&(G.pointerId=G.identifier||0),typeof G.pressure=="undefined"&&(G.pressure=G.force||.5),typeof G.twist=="undefined"&&(G.twist=0),typeof G.tangentialPressure=="undefined"&&(G.tangentialPressure=0),typeof G.layerX=="undefined"&&(G.layerX=G.offsetX=G.clientX),typeof G.layerY=="undefined"&&(G.layerY=G.offsetY=G.clientY),G.isNormalized=!0,M.push(G)}else A instanceof MouseEvent&&(!this.supportsPointerEvents||!(A instanceof window.PointerEvent))&&(typeof A.isPrimary=="undefined"&&(A.isPrimary=!0),typeof A.width=="undefined"&&(A.width=1),typeof A.height=="undefined"&&(A.height=1),typeof A.tiltX=="undefined"&&(A.tiltX=0),typeof A.tiltY=="undefined"&&(A.tiltY=0),typeof A.pointerType=="undefined"&&(A.pointerType="mouse"),typeof A.pointerId=="undefined"&&(A.pointerId=m),typeof A.pressure=="undefined"&&(A.pressure=.5),typeof A.twist=="undefined"&&(A.twist=0),typeof A.tangentialPressure=="undefined"&&(A.tangentialPressure=0),A.isNormalized=!0),M.push(A);return M},w.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},w}(n.default);E.default=I,p.WebGLRenderer.registerPlugin("interaction",I),p.CanvasRenderer.registerPlugin("interaction",I)},6793:(J,E)=>{"use strict";E.__esModule=!0;var L=function(){function p(O,T){for(var y=0;y<T.length;y++){var c=T[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(O,c.key,c)}}return function(O,T,y){return T&&p(O.prototype,T),y&&p(O,y),O}}();function C(p,O){if(!(p instanceof O))throw new TypeError("Cannot call a class as a function")}var P=function(){function p(O){C(this,p),this._pointerId=O,this._flags=p.FLAGS.NONE}return p.prototype._doSet=function(T,y){y?this._flags=this._flags|T:this._flags=this._flags&~T},L(p,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(T){this._flags=T}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return(this._flags&this.constructor.FLAGS.OVER)!=0},set:function(T){this._doSet(this.constructor.FLAGS.OVER,T)}},{key:"rightDown",get:function(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!=0},set:function(T){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,T)}},{key:"leftDown",get:function(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!=0},set:function(T){this._doSet(this.constructor.FLAGS.LEFT_DOWN,T)}}]),p}();E.default=P,P.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2})},5798:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(1422);Object.defineProperty(E,"InteractionData",{enumerable:!0,get:function(){return y(C).default}});var P=L(4515);Object.defineProperty(E,"InteractionManager",{enumerable:!0,get:function(){return y(P).default}});var p=L(5262);Object.defineProperty(E,"interactiveTarget",{enumerable:!0,get:function(){return y(p).default}});var O=L(6793);Object.defineProperty(E,"InteractionTrackingData",{enumerable:!0,get:function(){return y(O).default}});var T=L(7308);Object.defineProperty(E,"InteractionEvent",{enumerable:!0,get:function(){return y(T).default}});function y(c){return c&&c.__esModule?c:{default:c}}},5262:(J,E)=>{"use strict";E.__esModule=!0,E.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(L){L?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},7916:(J,E,L)=>{"use strict";E.__esModule=!0,E.parse=y,E.default=function(){return function(f,h){if(!f.data||f.type!==p.Resource.TYPE.XML){h();return}if(f.data.getElementsByTagName("page").length===0||f.data.getElementsByTagName("info").length===0||f.data.getElementsByTagName("info")[0].getAttribute("face")===null){h();return}var o=f.isDataUrl?"":P.dirname(f.url);f.isDataUrl&&(o==="."&&(o=""),this.baseUrl&&o&&this.baseUrl.charAt(this.baseUrl.length-1)==="/"&&(o+="/")),o=o.replace(this.baseUrl,""),o&&o.charAt(o.length-1)!=="/"&&(o+="/");for(var n=f.data.getElementsByTagName("page"),u={},a=function(S){u[S.metadata.pageFile]=S.texture,Object.keys(u).length===n.length&&(y(f,u),h())},i=0;i<n.length;++i){var l=n[i].getAttribute("file"),_=o+l,v=!1;for(var g in this.resources){var m=this.resources[g];if(m.url===_){m.metadata.pageFile=l,m.texture?a(m):m.onAfterMiddleware.add(a),v=!0;break}}if(!v){var b={crossOrigin:f.crossOrigin,loadType:p.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},f.metadata.imageMetadata),parentResource:f};this.add(_,b,a)}}}};var C=L(6470),P=T(C),p=L(9177),O=L(4601);function T(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(f[h]=c[h]);return f.default=c,f}function y(c,f){c.bitmapFont=O.BitmapText.registerFont(c.data,f)}},3893:(J,E,L)=>{"use strict";E.__esModule=!0,E.shared=E.Resource=E.textureParser=E.getResourcePath=E.spritesheetParser=E.parseBitmapFontData=E.bitmapFontParser=E.Loader=void 0;var C=L(7916);Object.defineProperty(E,"bitmapFontParser",{enumerable:!0,get:function(){return h(C).default}}),Object.defineProperty(E,"parseBitmapFontData",{enumerable:!0,get:function(){return C.parse}});var P=L(4951);Object.defineProperty(E,"spritesheetParser",{enumerable:!0,get:function(){return h(P).default}}),Object.defineProperty(E,"getResourcePath",{enumerable:!0,get:function(){return P.getResourcePath}});var p=L(7681);Object.defineProperty(E,"textureParser",{enumerable:!0,get:function(){return h(p).default}});var O=L(9177);Object.defineProperty(E,"Resource",{enumerable:!0,get:function(){return O.Resource}});var T=L(5328),y=h(T),c=L(8185),f=h(c);function h(u){return u&&u.__esModule?u:{default:u}}E.Loader=f.default;var o=new f.default;o.destroy=function(){},E.shared=o;var n=y.default.prototype;n._loader=null,Object.defineProperty(n,"loader",{get:function(){if(!this._loader){var a=this._options.sharedLoader;this._loader=a?o:new f.default}return this._loader}}),n._parentDestroy=n.destroy,n.destroy=function(a,i){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(a,i)}},8185:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(9177),P=u(C),p=L(4055),O=L(5323),T=u(O),y=L(7681),c=u(y),f=L(4951),h=u(f),o=L(7916),n=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function a(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function i(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function l(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var _=function(m){l(b,m);function b(I,S){a(this,b);var w=i(this,m.call(this,I,S));T.default.call(w);for(var D=0;D<b._pixiMiddleware.length;++D)w.use(b._pixiMiddleware[D]());return w.onStart.add(function(A){return w.emit("start",A)}),w.onProgress.add(function(A,M){return w.emit("progress",A,M)}),w.onError.add(function(A,M,N){return w.emit("error",A,M,N)}),w.onLoad.add(function(A,M){return w.emit("load",A,M)}),w.onComplete.add(function(A,M){return w.emit("complete",A,M)}),w}return b.addPixiMiddleware=function(S){b._pixiMiddleware.push(S)},b.prototype.destroy=function(){this.removeAllListeners(),this.reset()},b}(P.default);E.default=_;for(var v in T.default.prototype)_.prototype[v]=T.default.prototype[v];_._pixiMiddleware=[p.blobMiddlewareFactory,c.default,h.default,n.default];var g=P.default.Resource;g.setExtensionXhrType("fnt",g.XHR_RESPONSE_TYPE.DOCUMENT)},4951:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=function(){return function(f,h){var o=f.name+"_image";if(!f.data||f.type!==C.Resource.TYPE.JSON||!f.data.frames||this.resources[o]){h();return}var n={crossOrigin:f.crossOrigin,metadata:f.metadata.imageMetadata,parentResource:f},u=y(f,this.baseUrl);this.add(o,u,n,function(i){if(i.error){h(i.error);return}var l=new O.Spritesheet(i.texture.baseTexture,f.data,f.url);l.parse(function(){f.spritesheet=l,f.textures=l.textures,h()})})}},E.getResourcePath=y;var C=L(9177),P=L(8575),p=T(P),O=L(2321);function T(c){return c&&c.__esModule?c:{default:c}}function y(c,f){return c.isDataUrl?c.data.meta.image:p.default.resolve(c.url.replace(f,""),c.data.meta.image)}},7681:(J,E,L)=>{"use strict";E.__esModule=!0,E.default=function(){return function(y,c){y.data&&y.type===C.Resource.TYPE.IMAGE&&(y.texture=p.default.fromLoader(y.data,y.url,y.name)),c()}};var C=L(9177),P=L(2631),p=O(P);function O(T){return T&&T.__esModule?T:{default:T}}},863:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function i(l,_){for(var v=0;v<_.length;v++){var g=_[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(l,g.key,g)}}return function(l,_,v){return _&&i(l.prototype,_),v&&i(l,v),l}}(),P=L(2321),p=c(P),O=L(2631),T=y(O);function y(i){return i&&i.__esModule?i:{default:i}}function c(i){if(i&&i.__esModule)return i;var l={};if(i!=null)for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&(l[_]=i[_]);return l.default=i,l}function f(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}function h(i,l){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:i}function o(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(i,l):i.__proto__=l)}var n=new p.Point,u=new p.Polygon,a=function(i){o(l,i);function l(_,v,g,m,b){f(this,l);var I=h(this,i.call(this));return I._texture=_||T.default.EMPTY,I.uvs=g||new Float32Array([0,0,1,0,1,1,0,1]),I.vertices=v||new Float32Array([0,0,100,0,100,100,0,100]),I.indices=m||new Uint16Array([0,1,3,2]),I.dirty=0,I.indexDirty=0,I.vertexDirty=0,I.autoUpdate=!0,I.blendMode=p.BLEND_MODES.NORMAL,I.canvasPadding=p.settings.MESH_CANVAS_PADDING,I.drawMode=b||l.DRAW_MODES.TRIANGLE_MESH,I.shader=null,I.tintRgb=new Float32Array([1,1,1]),I._glDatas={},I._uvTransform=new p.TextureMatrix(I._texture),I.uploadUvTransform=!1,I.pluginName="mesh",I}return l.prototype._renderWebGL=function(v){this.refresh(),v.setObjectRenderer(v.plugins[this.pluginName]),v.plugins[this.pluginName].render(this)},l.prototype._renderCanvas=function(v){this.refresh(),v.plugins[this.pluginName].render(this)},l.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},l.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},l.prototype.refresh=function(v){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(v)&&this._refresh()},l.prototype._refresh=function(){},l.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},l.prototype.containsPoint=function(v){if(!this.getBounds().contains(v.x,v.y))return!1;this.worldTransform.applyInverse(v,n);for(var g=this.vertices,m=u.points,b=this.indices,I=this.indices.length,S=this.drawMode===l.DRAW_MODES.TRIANGLES?3:1,w=0;w+2<I;w+=S){var D=b[w]*2,A=b[w+1]*2,M=b[w+2]*2;if(m[0]=g[D],m[1]=g[D+1],m[2]=g[A],m[3]=g[A+1],m[4]=g[M],m[5]=g[M+1],u.contains(n.x,n.y))return!0}return!1},l.prototype.destroy=function(v){for(var g in this._glDatas){var m=this._glDatas[g];m.destroy?m.destroy():(m.vertexBuffer&&(m.vertexBuffer.destroy(),m.vertexBuffer=null),m.indexBuffer&&(m.indexBuffer.destroy(),m.indexBuffer=null),m.uvBuffer&&(m.uvBuffer.destroy(),m.uvBuffer=null),m.vao&&(m.vao.destroy(),m.vao=null))}this._glDatas=null,i.prototype.destroy.call(this,v)},C(l,[{key:"texture",get:function(){return this._texture},set:function(v){this._texture!==v&&(this._texture=v,v&&(v.baseTexture.hasLoaded?this._onTextureUpdate():v.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return p.utils.rgb2hex(this.tintRgb)},set:function(v){this.tintRgb=p.utils.hex2rgb(v,this.tintRgb)}}]),l}(p.Container);E.default=a,a.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},2715:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function u(a,i){for(var l=0;l<i.length;l++){var _=i[l];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(a,_.key,_)}}return function(a,i,l){return i&&u(a.prototype,i),l&&u(a,l),a}}(),P=L(7660),p=y(P),O=L(4099),T=y(O);function y(u){return u&&u.__esModule?u:{default:u}}function c(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function f(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function h(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var o=10,n=function(u){h(a,u);function a(i,l,_,v,g){c(this,a);var m=f(this,u.call(this,i,4,4));return m._origWidth=i.orig.width,m._origHeight=i.orig.height,m._width=m._origWidth,m._height=m._origHeight,m._leftWidth=typeof l!="undefined"?l:o,m._rightWidth=typeof v!="undefined"?v:o,m._topHeight=typeof _!="undefined"?_:o,m._bottomHeight=typeof g!="undefined"?g:o,m._cachedTint=16777215,m._tintedTexture=null,m._canvasUvs=null,m.refresh(!0),m}return a.prototype.updateHorizontalVertices=function(){var l=this.vertices,_=this._topHeight+this._bottomHeight,v=this._height>_?1:this._height/_;l[9]=l[11]=l[13]=l[15]=this._topHeight*v,l[17]=l[19]=l[21]=l[23]=this._height-this._bottomHeight*v,l[25]=l[27]=l[29]=l[31]=this._height},a.prototype.updateVerticalVertices=function(){var l=this.vertices,_=this._leftWidth+this._rightWidth,v=this._width>_?1:this._width/_;l[2]=l[10]=l[18]=l[26]=this._leftWidth*v,l[4]=l[12]=l[20]=l[28]=this._width-this._rightWidth*v,l[6]=l[14]=l[22]=l[30]=this._width},a.prototype._renderCanvas=function(l){var _=l.context,v=this.worldTransform,g=l.resolution,m=this.tint!==16777215,b=this._texture;m&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=T.default.getTintedTexture(this,this.tint));var I=m?this._tintedTexture:b.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var S=this.vertices,w=this._canvasUvs,D=m?0:b.frame.x,A=m?0:b.frame.y,M=D+b.frame.width,N=A+b.frame.height;w[0]=D,w[1]=D+this._leftWidth,w[2]=M-this._rightWidth,w[3]=M,w[4]=A,w[5]=A+this._topHeight,w[6]=N-this._bottomHeight,w[7]=N;for(var K=0;K<8;K++)w[K]*=b.baseTexture.resolution;_.globalAlpha=this.worldAlpha,l.setBlendMode(this.blendMode),l.roundPixels?_.setTransform(v.a*g,v.b*g,v.c*g,v.d*g,v.tx*g|0,v.ty*g|0):_.setTransform(v.a*g,v.b*g,v.c*g,v.d*g,v.tx*g,v.ty*g);for(var G=0;G<3;G++)for(var U=0;U<3;U++){var F=U*2+G*8,X=Math.max(1,w[U+1]-w[U]),B=Math.max(1,w[G+5]-w[G+4]),V=Math.max(1,S[F+10]-S[F]),j=Math.max(1,S[F+11]-S[F+1]);_.drawImage(I,w[U],w[G+4],X,B,S[F],S[F+1],V,j)}},a.prototype._refresh=function(){u.prototype._refresh.call(this);var l=this.uvs,_=this._texture;this._origWidth=_.orig.width,this._origHeight=_.orig.height;var v=1/this._origWidth,g=1/this._origHeight;l[0]=l[8]=l[16]=l[24]=0,l[1]=l[3]=l[5]=l[7]=0,l[6]=l[14]=l[22]=l[30]=1,l[25]=l[27]=l[29]=l[31]=1,l[2]=l[10]=l[18]=l[26]=v*this._leftWidth,l[4]=l[12]=l[20]=l[28]=1-v*this._rightWidth,l[9]=l[11]=l[13]=l[15]=g*this._topHeight,l[17]=l[19]=l[21]=l[23]=1-g*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},C(a,[{key:"width",get:function(){return this._width},set:function(l){this._width=l,this._refresh()}},{key:"height",get:function(){return this._height},set:function(l){this._height=l,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(l){this._leftWidth=l,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(l){this._rightWidth=l,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(l){this._topHeight=l,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(l){this._bottomHeight=l,this._refresh()}}]),a}(p.default);E.default=n},7660:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(863),P=p(C);function p(f){return f&&f.__esModule?f:{default:f}}function O(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function T(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function y(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){y(h,f);function h(o,n,u){O(this,h);var a=T(this,f.call(this,o));return a._ready=!0,a.verticesX=n||10,a.verticesY=u||10,a.drawMode=P.default.DRAW_MODES.TRIANGLES,a.refresh(),a}return h.prototype._refresh=function(){for(var n=this._texture,u=this.verticesX*this.verticesY,a=[],i=[],l=[],_=[],v=this.verticesX-1,g=this.verticesY-1,m=n.width/v,b=n.height/g,I=0;I<u;I++){var S=I%this.verticesX,w=I/this.verticesX|0;a.push(S*m,w*b),l.push(S/v,w/g)}for(var D=v*g,A=0;A<D;A++){var M=A%v,N=A/v|0,K=N*this.verticesX+M,G=N*this.verticesX+M+1,U=(N+1)*this.verticesX+M,F=(N+1)*this.verticesX+M+1;_.push(K,G,U),_.push(G,F,U)}this.vertices=new Float32Array(a),this.uvs=new Float32Array(l),this.colors=new Float32Array(i),this.indices=new Uint16Array(_),this.dirty++,this.indexDirty++,this.multiplyUvs()},h.prototype._onTextureUpdate=function(){P.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},h}(P.default);E.default=c},5010:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(863),P=p(C);function p(f){return f&&f.__esModule?f:{default:f}}function O(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function T(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function y(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){y(h,f);function h(o,n){O(this,h);var u=T(this,f.call(this,o));return u.points=n,u.vertices=new Float32Array(n.length*4),u.uvs=new Float32Array(n.length*4),u.colors=new Float32Array(n.length*2),u.indices=new Uint16Array(n.length*2),u.autoUpdate=!0,u.refresh(),u}return h.prototype._refresh=function(){var n=this.points;if(!(n.length<1||!this._texture._uvs)){this.vertices.length/4!==n.length&&(this.vertices=new Float32Array(n.length*4),this.uvs=new Float32Array(n.length*4),this.colors=new Float32Array(n.length*2),this.indices=new Uint16Array(n.length*2));var u=this.uvs,a=this.indices,i=this.colors;u[0]=0,u[1]=0,u[2]=0,u[3]=1,i[0]=1,i[1]=1,a[0]=0,a[1]=1;for(var l=n.length,_=1;_<l;_++){var v=_*4,g=_/(l-1);u[v]=g,u[v+1]=0,u[v+2]=g,u[v+3]=1,v=_*2,i[v]=1,i[v+1]=1,v=_*2,a[v]=v,a[v+1]=v+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},h.prototype.refreshVertices=function(){var n=this.points;if(!(n.length<1))for(var u=n[0],a=void 0,i=0,l=0,_=this.vertices,v=n.length,g=0;g<v;g++){var m=n[g],b=g*4;g<n.length-1?a=n[g+1]:a=m,l=-(a.x-u.x),i=a.y-u.y;var I=(1-g/(v-1))*10;I>1&&(I=1);var S=Math.sqrt(i*i+l*l),w=this._texture.height/2;i/=S,l/=S,i*=w,l*=w,_[b]=m.x+i,_[b+1]=m.y+l,_[b+2]=m.x-i,_[b+3]=m.y-l,u=m}},h.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},h}(P.default);E.default=c},266:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2321),P=y(C),p=L(863),O=T(p);function T(h){return h&&h.__esModule?h:{default:h}}function y(h){if(h&&h.__esModule)return h;var o={};if(h!=null)for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&(o[n]=h[n]);return o.default=h,o}function c(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(o){c(this,h),this.renderer=o}return h.prototype.render=function(n){var u=this.renderer,a=u.context,i=n.worldTransform,l=u.resolution;u.roundPixels?a.setTransform(i.a*l,i.b*l,i.c*l,i.d*l,i.tx*l|0,i.ty*l|0):a.setTransform(i.a*l,i.b*l,i.c*l,i.d*l,i.tx*l,i.ty*l),u.context.globalAlpha=n.worldAlpha,u.setBlendMode(n.blendMode),n.drawMode===O.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(n):this._renderTriangles(n)},h.prototype._renderTriangleMesh=function(n){for(var u=n.vertices.length/2,a=0;a<u-2;a++){var i=a*2;this._renderDrawTriangle(n,i,i+2,i+4)}},h.prototype._renderTriangles=function(n){for(var u=n.indices,a=u.length,i=0;i<a;i+=3){var l=u[i]*2,_=u[i+1]*2,v=u[i+2]*2;this._renderDrawTriangle(n,l,_,v)}},h.prototype._renderDrawTriangle=function(n,u,a,i){var l=this.renderer.context,_=n.uvs,v=n.vertices,g=n._texture;if(!!g.valid){var m=g.baseTexture,b=m.source,I=m.width,S=m.height,w=void 0,D=void 0,A=void 0,M=void 0,N=void 0,K=void 0;if(n.uploadUvTransform){var G=n._uvTransform.mapCoord;w=(_[u]*G.a+_[u+1]*G.c+G.tx)*m.width,D=(_[a]*G.a+_[a+1]*G.c+G.tx)*m.width,A=(_[i]*G.a+_[i+1]*G.c+G.tx)*m.width,M=(_[u]*G.b+_[u+1]*G.d+G.ty)*m.height,N=(_[a]*G.b+_[a+1]*G.d+G.ty)*m.height,K=(_[i]*G.b+_[i+1]*G.d+G.ty)*m.height}else w=_[u]*m.width,D=_[a]*m.width,A=_[i]*m.width,M=_[u+1]*m.height,N=_[a+1]*m.height,K=_[i+1]*m.height;var U=v[u],F=v[a],X=v[i],B=v[u+1],V=v[a+1],j=v[i+1],H=n.canvasPadding/this.renderer.resolution;if(H>0){var Y=H/Math.abs(n.worldTransform.a),$=H/Math.abs(n.worldTransform.d),re=(U+F+X)/3,te=(B+V+j)/3,se=U-re,ae=B-te,q=Math.sqrt(se*se+ae*ae);U=re+se/q*(q+Y),B=te+ae/q*(q+$),se=F-re,ae=V-te,q=Math.sqrt(se*se+ae*ae),F=re+se/q*(q+Y),V=te+ae/q*(q+$),se=X-re,ae=j-te,q=Math.sqrt(se*se+ae*ae),X=re+se/q*(q+Y),j=te+ae/q*(q+$)}l.save(),l.beginPath(),l.moveTo(U,B),l.lineTo(F,V),l.lineTo(X,j),l.closePath(),l.clip();var ne=w*N+M*A+D*K-N*A-M*D-w*K,ue=U*N+M*X+F*K-N*X-M*F-U*K,Ee=w*F+U*A+D*X-F*A-U*D-w*X,de=w*N*X+M*F*A+U*D*K-U*N*A-M*D*X-w*F*K,Le=B*N+M*j+V*K-N*j-M*V-B*K,Fe=w*V+B*A+D*j-V*A-B*D-w*j,ge=w*N*j+M*V*A+B*D*K-B*N*A-M*D*j-w*V*K;l.transform(ue/ne,Le/ne,Ee/ne,Fe/ne,de/ne,ge/ne),l.drawImage(b,0,0,I*m.resolution,S*m.resolution,0,0,I,S),l.restore(),this.renderer.invalidateBlendMode()}},h.prototype.renderMeshFlat=function(n){var u=this.renderer.context,a=n.vertices,i=a.length/2;u.beginPath();for(var l=1;l<i-2;++l){var _=l*2,v=a[_],g=a[_+1],m=a[_+2],b=a[_+3],I=a[_+4],S=a[_+5];u.moveTo(v,g),u.lineTo(m,b),u.lineTo(I,S)}u.fillStyle="#FF0000",u.fill(),u.closePath()},h.prototype.destroy=function(){this.renderer=null},h}();E.default=f,P.CanvasRenderer.registerPlugin("mesh",f)},7601:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(863);Object.defineProperty(E,"Mesh",{enumerable:!0,get:function(){return c(C).default}});var P=L(1324);Object.defineProperty(E,"MeshRenderer",{enumerable:!0,get:function(){return c(P).default}});var p=L(266);Object.defineProperty(E,"CanvasMeshRenderer",{enumerable:!0,get:function(){return c(p).default}});var O=L(7660);Object.defineProperty(E,"Plane",{enumerable:!0,get:function(){return c(O).default}});var T=L(2715);Object.defineProperty(E,"NineSlicePlane",{enumerable:!0,get:function(){return c(T).default}});var y=L(5010);Object.defineProperty(E,"Rope",{enumerable:!0,get:function(){return c(y).default}});function c(f){return f&&f.__esModule?f:{default:f}}},1324:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2321),P=h(C),p=L(3070),O=f(p),T=L(863),y=f(T),c=L(6470);function f(l){return l&&l.__esModule?l:{default:l}}function h(l){if(l&&l.__esModule)return l;var _={};if(l!=null)for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(_[v]=l[v]);return _.default=l,_}function o(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")}function n(l,_){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:l}function u(l,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);l.prototype=Object.create(_&&_.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(l,_):l.__proto__=_)}var a=P.Matrix.IDENTITY,i=function(l){u(_,l);function _(v){o(this,_);var g=n(this,l.call(this,v));return g.shader=null,g}return _.prototype.onContextChange=function(){var g=this.renderer.gl;this.shader=new P.Shader(g,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`)},_.prototype.render=function(g){var m=this.renderer,b=m.gl,I=g._texture;if(!!I.valid){var S=g._glDatas[m.CONTEXT_UID];S||(m.bindVao(null),S={shader:this.shader,vertexBuffer:O.default.GLBuffer.createVertexBuffer(b,g.vertices,b.STREAM_DRAW),uvBuffer:O.default.GLBuffer.createVertexBuffer(b,g.uvs,b.STREAM_DRAW),indexBuffer:O.default.GLBuffer.createIndexBuffer(b,g.indices,b.STATIC_DRAW),vao:null,dirty:g.dirty,indexDirty:g.indexDirty,vertexDirty:g.vertexDirty},S.vao=new O.default.VertexArrayObject(b).addIndex(S.indexBuffer).addAttribute(S.vertexBuffer,S.shader.attributes.aVertexPosition,b.FLOAT,!1,2*4,0).addAttribute(S.uvBuffer,S.shader.attributes.aTextureCoord,b.FLOAT,!1,2*4,0),g._glDatas[m.CONTEXT_UID]=S),m.bindVao(S.vao),g.dirty!==S.dirty&&(S.dirty=g.dirty,S.uvBuffer.upload(g.uvs)),g.indexDirty!==S.indexDirty&&(S.indexDirty=g.indexDirty,S.indexBuffer.upload(g.indices)),g.vertexDirty!==S.vertexDirty&&(S.vertexDirty=g.vertexDirty,S.vertexBuffer.upload(g.vertices)),m.bindShader(S.shader),S.shader.uniforms.uSampler=m.bindTexture(I),m.state.setBlendMode(P.utils.correctBlendMode(g.blendMode,I.baseTexture.premultipliedAlpha)),S.shader.uniforms.uTransform&&(g.uploadUvTransform?S.shader.uniforms.uTransform=g._uvTransform.mapCoord.toArray(!0):S.shader.uniforms.uTransform=a.toArray(!0)),S.shader.uniforms.translationMatrix=g.worldTransform.toArray(!0),S.shader.uniforms.uColor=P.utils.premultiplyRgba(g.tintRgb,g.worldAlpha,S.shader.uniforms.uColor,I.baseTexture.premultipliedAlpha);var w=g.drawMode===y.default.DRAW_MODES.TRIANGLE_MESH?b.TRIANGLE_STRIP:b.TRIANGLES;S.vao.draw(w,g.indices.length,0)}},_}(P.ObjectRenderer);E.default=i,P.WebGLRenderer.registerPlugin("mesh",i)},2268:(J,E,L)=>{"use strict";E.__esModule=!0;var C=function(){function o(n,u){for(var a=0;a<u.length;a++){var i=u[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,u,a){return u&&o(n.prototype,u),a&&o(n,a),n}}(),P=L(2321),p=T(P),O=L(7768);function T(o){if(o&&o.__esModule)return o;var n={};if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u]);return n.default=o,n}function y(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function c(o,n){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:o}function f(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n)}var h=function(o){f(n,o);function n(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1500,a=arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:16384,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;y(this,n);var _=c(this,o.call(this)),v=16384;return i>v&&(i=v),i>u&&(i=u),_._properties=[!1,!0,!1,!1,!1],_._maxSize=u,_._batchSize=i,_._glBuffers={},_._bufferUpdateIDs=[],_._updateID=0,_.interactiveChildren=!1,_.blendMode=p.BLEND_MODES.NORMAL,_.autoResize=l,_.roundPixels=!0,_.baseTexture=null,_.setProperties(a),_._tint=0,_.tintRgb=new Float32Array(4),_.tint=16777215,_}return n.prototype.setProperties=function(a){a&&(this._properties[0]="vertices"in a||"scale"in a?!!a.vertices||!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="tint"in a||"alpha"in a?!!a.tint||!!a.alpha:this._properties[4])},n.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},n.prototype.renderWebGL=function(a){var i=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return i.onChildrenChange(0)})),a.setObjectRenderer(a.plugins.particle),a.plugins.particle.render(this))},n.prototype.onChildrenChange=function(a){for(var i=Math.floor(a/this._batchSize);this._bufferUpdateIDs.length<i;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[i]=++this._updateID},n.prototype.renderCanvas=function(a){if(!(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)){var i=a.context,l=this.worldTransform,_=!0,v=0,g=0,m=0,b=0;a.setBlendMode(this.blendMode),i.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var I=0;I<this.children.length;++I){var S=this.children[I];if(!!S.visible){var w=S._texture.frame;if(i.globalAlpha=this.worldAlpha*S.alpha,S.rotation%(Math.PI*2)==0)_&&(i.setTransform(l.a,l.b,l.c,l.d,l.tx*a.resolution,l.ty*a.resolution),_=!1),v=S.anchor.x*(-w.width*S.scale.x)+S.position.x+.5,g=S.anchor.y*(-w.height*S.scale.y)+S.position.y+.5,m=w.width*S.scale.x,b=w.height*S.scale.y;else{_||(_=!0),S.displayObjectUpdateTransform();var D=S.worldTransform;a.roundPixels?i.setTransform(D.a,D.b,D.c,D.d,D.tx*a.resolution|0,D.ty*a.resolution|0):i.setTransform(D.a,D.b,D.c,D.d,D.tx*a.resolution,D.ty*a.resolution),v=S.anchor.x*-w.width+.5,g=S.anchor.y*-w.height+.5,m=w.width,b=w.height}var A=S._texture.baseTexture.resolution;i.drawImage(S._texture.baseTexture.source,w.x*A,w.y*A,w.width*A,w.height*A,v*a.resolution,g*a.resolution,m*a.resolution,b*a.resolution)}}}},n.prototype.destroy=function(a){if(o.prototype.destroy.call(this,a),this._buffers)for(var i=0;i<this._buffers.length;++i)this._buffers[i].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},C(n,[{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a,(0,O.hex2rgb)(a,this.tintRgb)}}]),n}(p.Container);E.default=h},4728:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2268);Object.defineProperty(E,"ParticleContainer",{enumerable:!0,get:function(){return p(C).default}});var P=L(6856);Object.defineProperty(E,"ParticleRenderer",{enumerable:!0,get:function(){return p(P).default}});function p(O){return O&&O.__esModule?O:{default:O}}},809:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(3070),P=T(C),p=L(4014),O=T(p);function T(f){return f&&f.__esModule?f:{default:f}}function y(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var c=function(){function f(h,o,n,u){y(this,f),this.gl=h,this.size=u,this.dynamicProperties=[],this.staticProperties=[];for(var a=0;a<o.length;++a){var i=o[a];i={attribute:i.attribute,size:i.size,uploadFunction:i.uploadFunction,unsignedByte:i.unsignedByte,offset:i.offset},n[a]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return f.prototype.initBuffers=function(){var o=this.gl,n=0;this.indices=(0,O.default)(this.size),this.indexBuffer=P.default.GLBuffer.createIndexBuffer(o,this.indices,o.STATIC_DRAW),this.dynamicStride=0;for(var u=0;u<this.dynamicProperties.length;++u){var a=this.dynamicProperties[u];a.offset=n,n+=a.size,this.dynamicStride+=a.size}var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=P.default.GLBuffer.createVertexBuffer(o,i,o.STREAM_DRAW);var l=0;this.staticStride=0;for(var _=0;_<this.staticProperties.length;++_){var v=this.staticProperties[_];v.offset=l,l+=v.size,this.staticStride+=v.size}var g=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(g),this.staticDataUint32=new Uint32Array(g),this.staticBuffer=P.default.GLBuffer.createVertexBuffer(o,g,o.STATIC_DRAW),this.vao=new P.default.VertexArrayObject(o).addIndex(this.indexBuffer);for(var m=0;m<this.dynamicProperties.length;++m){var b=this.dynamicProperties[m];b.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,b.attribute,o.UNSIGNED_BYTE,!0,this.dynamicStride*4,b.offset*4):this.vao.addAttribute(this.dynamicBuffer,b.attribute,o.FLOAT,!1,this.dynamicStride*4,b.offset*4)}for(var I=0;I<this.staticProperties.length;++I){var S=this.staticProperties[I];S.unsignedByte?this.vao.addAttribute(this.staticBuffer,S.attribute,o.UNSIGNED_BYTE,!0,this.staticStride*4,S.offset*4):this.vao.addAttribute(this.staticBuffer,S.attribute,o.FLOAT,!1,this.staticStride*4,S.offset*4)}},f.prototype.uploadDynamic=function(o,n,u){for(var a=0;a<this.dynamicProperties.length;a++){var i=this.dynamicProperties[a];i.uploadFunction(o,n,u,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},f.prototype.uploadStatic=function(o,n,u){for(var a=0;a<this.staticProperties.length;a++){var i=this.staticProperties[a];i.uploadFunction(o,n,u,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},f.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},f}();E.default=c},6856:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2321),P=h(C),p=L(7326),O=f(p),T=L(809),y=f(T),c=L(7768);function f(i){return i&&i.__esModule?i:{default:i}}function h(i){if(i&&i.__esModule)return i;var l={};if(i!=null)for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&(l[_]=i[_]);return l.default=i,l}function o(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}function n(i,l){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:i}function u(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(i,l):i.__proto__=l)}var a=function(i){u(l,i);function l(_){o(this,l);var v=n(this,i.call(this,_));return v.shader=null,v.indexBuffer=null,v.properties=null,v.tempMatrix=new P.Matrix,v.CONTEXT_UID=0,v}return l.prototype.onContextChange=function(){var v=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new O.default(v),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},l.prototype.start=function(){this.renderer.bindShader(this.shader)},l.prototype.render=function(v){var g=v.children,m=v._maxSize,b=v._batchSize,I=this.renderer,S=g.length;if(S!==0){S>m&&(S=m);var w=v._glBuffers[I.CONTEXT_UID];w||(w=v._glBuffers[I.CONTEXT_UID]=this.generateBuffers(v));var D=g[0]._texture.baseTexture;this.renderer.setBlendMode(P.utils.correctBlendMode(v.blendMode,D.premultipliedAlpha));var A=I.gl,M=v.worldTransform.copy(this.tempMatrix);M.prepend(I._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=M.toArray(!0),this.shader.uniforms.uColor=P.utils.premultiplyRgba(v.tintRgb,v.worldAlpha,this.shader.uniforms.uColor,D.premultipliedAlpha),this.shader.uniforms.uSampler=I.bindTexture(D);for(var N=!1,K=0,G=0;K<S;K+=b,G+=1){var U=S-K;if(U>b&&(U=b),G>=w.length){if(!v.autoResize)break;w.push(this._generateOneMoreBuffer(v))}var F=w[G];F.uploadDynamic(g,K,U);var X=v._bufferUpdateIDs[G]||0;N=N||F._updateID<X,N&&(F._updateID=v._updateID,F.uploadStatic(g,K,U)),I.bindVao(F.vao),F.vao.draw(A.TRIANGLES,U*6)}}},l.prototype.generateBuffers=function(v){for(var g=this.renderer.gl,m=[],b=v._maxSize,I=v._batchSize,S=v._properties,w=0;w<b;w+=I)m.push(new y.default(g,this.properties,S,I));return m},l.prototype._generateOneMoreBuffer=function(v){var g=this.renderer.gl,m=v._batchSize,b=v._properties;return new y.default(g,this.properties,b,m)},l.prototype.uploadVertices=function(v,g,m,b,I,S){for(var w=0,D=0,A=0,M=0,N=0;N<m;++N){var K=v[g+N],G=K._texture,U=K.scale.x,F=K.scale.y,X=G.trim,B=G.orig;X?(D=X.x-K.anchor.x*B.width,w=D+X.width,M=X.y-K.anchor.y*B.height,A=M+X.height):(w=B.width*(1-K.anchor.x),D=B.width*-K.anchor.x,A=B.height*(1-K.anchor.y),M=B.height*-K.anchor.y),b[S]=D*U,b[S+1]=M*F,b[S+I]=w*U,b[S+I+1]=M*F,b[S+I*2]=w*U,b[S+I*2+1]=A*F,b[S+I*3]=D*U,b[S+I*3+1]=A*F,S+=I*4}},l.prototype.uploadPosition=function(v,g,m,b,I,S){for(var w=0;w<m;w++){var D=v[g+w].position;b[S]=D.x,b[S+1]=D.y,b[S+I]=D.x,b[S+I+1]=D.y,b[S+I*2]=D.x,b[S+I*2+1]=D.y,b[S+I*3]=D.x,b[S+I*3+1]=D.y,S+=I*4}},l.prototype.uploadRotation=function(v,g,m,b,I,S){for(var w=0;w<m;w++){var D=v[g+w].rotation;b[S]=D,b[S+I]=D,b[S+I*2]=D,b[S+I*3]=D,S+=I*4}},l.prototype.uploadUvs=function(v,g,m,b,I,S){for(var w=0;w<m;++w){var D=v[g+w]._texture._uvs;D?(b[S]=D.x0,b[S+1]=D.y0,b[S+I]=D.x1,b[S+I+1]=D.y1,b[S+I*2]=D.x2,b[S+I*2+1]=D.y2,b[S+I*3]=D.x3,b[S+I*3+1]=D.y3,S+=I*4):(b[S]=0,b[S+1]=0,b[S+I]=0,b[S+I+1]=0,b[S+I*2]=0,b[S+I*2+1]=0,b[S+I*3]=0,b[S+I*3+1]=0,S+=I*4)}},l.prototype.uploadTint=function(v,g,m,b,I,S){for(var w=0;w<m;++w){var D=v[g+w],A=D._texture.baseTexture.premultipliedAlpha,M=D.alpha,N=M<1&&A?(0,c.premultiplyTint)(D._tintRGB,M):D._tintRGB+(M*255<<24);b[S]=N,b[S+I]=N,b[S+I*2]=N,b[S+I*3]=N,S+=I*4}},l.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),i.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},l}(P.ObjectRenderer);E.default=a,P.WebGLRenderer.registerPlugin("particle",a)},7326:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2916),P=p(C);function p(f){return f&&f.__esModule?f:{default:f}}function O(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function T(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function y(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var c=function(f){y(h,f);function h(o){return O(this,h),T(this,f.call(this,o,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join(`
`),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join(`
`)))}return h}(P.default);E.default=c},3495:()=>{"use strict";Math.sign||(Math.sign=function(E){return E=Number(E),E===0||isNaN(E)?E:E>0?1:-1})},8778:()=>{"use strict";Number.isInteger||(Number.isInteger=function(E){return typeof E=="number"&&isFinite(E)&&Math.floor(E)===E})},8705:(J,E,L)=>{"use strict";var C=L(7418),P=p(C);function p(O){return O&&O.__esModule?O:{default:O}}Object.assign||(Object.assign=P.default)},381:(J,E,L)=>{"use strict";L(8705),L(1430),L(3495),L(8778),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},1430:(J,E,L)=>{"use strict";var C=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(L.g.performance&&L.g.performance.now)){var P=Date.now();L.g.performance||(L.g.performance={}),L.g.performance.now=function(){return Date.now()-P}}for(var p=Date.now(),O=["ms","moz","webkit","o"],T=0;T<O.length&&!L.g.requestAnimationFrame;++T){var y=O[T];L.g.requestAnimationFrame=L.g[y+"RequestAnimationFrame"],L.g.cancelAnimationFrame=L.g[y+"CancelAnimationFrame"]||L.g[y+"CancelRequestAnimationFrame"]}L.g.requestAnimationFrame||(L.g.requestAnimationFrame=function(c){if(typeof c!="function")throw new TypeError(c+"is not a function");var f=Date.now(),h=C+p-f;return h<0&&(h=0),p=f,setTimeout(function(){p=Date.now(),c(performance.now())},h)}),L.g.cancelAnimationFrame||(L.g.cancelAnimationFrame=function(c){return clearTimeout(c)})},9176:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2321),P=y(C),p=L(7311),O=T(p);function T(v){return v&&v.__esModule?v:{default:v}}function y(v){if(v&&v.__esModule)return v;var g={};if(v!=null)for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(g[m]=v[m]);return g.default=v,g}function c(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}var f=P.ticker.shared;P.settings.UPLOADS_PER_FRAME=4;var h=function(){function v(g){var m=this;c(this,v),this.limiter=new O.default(P.settings.UPLOADS_PER_FRAME),this.renderer=g,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!m.queue||m.prepareItems()},this.registerFindHook(l),this.registerFindHook(_),this.registerFindHook(o),this.registerFindHook(n),this.registerFindHook(u),this.registerUploadHook(a),this.registerUploadHook(i)}return v.prototype.upload=function(m,b){typeof m=="function"&&(b=m,m=null),m&&this.add(m),this.queue.length?(b&&this.completes.push(b),this.ticking||(this.ticking=!0,f.addOnce(this.tick,this,P.UPDATE_PRIORITY.UTILITY))):b&&b()},v.prototype.tick=function(){setTimeout(this.delayedTick,0)},v.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var m=this.queue[0],b=!1;if(m&&!m._destroyed){for(var I=0,S=this.uploadHooks.length;I<S;I++)if(this.uploadHooks[I](this.uploadHookHelper,m)){this.queue.shift(),b=!0;break}}b||this.queue.shift()}if(this.queue.length)f.addOnce(this.tick,this,P.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var w=this.completes.slice(0);this.completes.length=0;for(var D=0,A=w.length;D<A;D++)w[D]()}},v.prototype.registerFindHook=function(m){return m&&this.addHooks.push(m),this},v.prototype.registerUploadHook=function(m){return m&&this.uploadHooks.push(m),this},v.prototype.add=function(m){for(var b=0,I=this.addHooks.length;b<I&&!this.addHooks[b](m,this.queue);b++);if(m instanceof P.Container)for(var S=m.children.length-1;S>=0;S--)this.add(m.children[S]);return this},v.prototype.destroy=function(){this.ticking&&f.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},v}();E.default=h;function o(v,g){var m=!1;if(v&&v._textures&&v._textures.length){for(var b=0;b<v._textures.length;b++)if(v._textures[b]instanceof P.Texture){var I=v._textures[b].baseTexture;g.indexOf(I)===-1&&(g.push(I),m=!0)}}return m}function n(v,g){return v instanceof P.BaseTexture?(g.indexOf(v)===-1&&g.push(v),!0):!1}function u(v,g){if(v._texture&&v._texture instanceof P.Texture){var m=v._texture.baseTexture;return g.indexOf(m)===-1&&g.push(m),!0}return!1}function a(v,g){return g instanceof P.Text?(g.updateText(!0),!0):!1}function i(v,g){if(g instanceof P.TextStyle){var m=g.toFontString();return P.TextMetrics.measureFont(m),!0}return!1}function l(v,g){if(v instanceof P.Text){g.indexOf(v.style)===-1&&g.push(v.style),g.indexOf(v)===-1&&g.push(v);var m=v._texture.baseTexture;return g.indexOf(m)===-1&&g.push(m),!0}return!1}function _(v,g){return v instanceof P.TextStyle?(g.indexOf(v)===-1&&g.push(v),!0):!1}},9208:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2321),P=y(C),p=L(9176),O=T(p);function T(a){return a&&a.__esModule?a:{default:a}}function y(a){if(a&&a.__esModule)return a;var i={};if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l]);return i.default=a,i}function c(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function f(a,i){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:a}function h(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(a,i):a.__proto__=i)}var o=16,n=function(a){h(i,a);function i(l){c(this,i);var _=f(this,a.call(this,l));return _.uploadHookHelper=_,_.canvas=document.createElement("canvas"),_.canvas.width=o,_.canvas.height=o,_.ctx=_.canvas.getContext("2d"),_.registerUploadHook(u),_}return i.prototype.destroy=function(){a.prototype.destroy.call(this),this.ctx=null,this.canvas=null},i}(O.default);E.default=n;function u(a,i){if(i instanceof P.BaseTexture){var l=i.source,_=l.width===0?a.canvas.width:Math.min(a.canvas.width,l.width),v=l.height===0?a.canvas.height:Math.min(a.canvas.height,l.height);return a.ctx.drawImage(l,0,0,_,v,0,0,a.canvas.width,a.canvas.height),!0}return!1}P.CanvasRenderer.registerPlugin("prepare",n)},9878:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(973);Object.defineProperty(E,"webgl",{enumerable:!0,get:function(){return y(C).default}});var P=L(9208);Object.defineProperty(E,"canvas",{enumerable:!0,get:function(){return y(P).default}});var p=L(9176);Object.defineProperty(E,"BasePrepare",{enumerable:!0,get:function(){return y(p).default}});var O=L(7311);Object.defineProperty(E,"CountLimiter",{enumerable:!0,get:function(){return y(O).default}});var T=L(686);Object.defineProperty(E,"TimeLimiter",{enumerable:!0,get:function(){return y(T).default}});function y(c){return c&&c.__esModule?c:{default:c}}},7311:(J,E)=>{"use strict";E.__esModule=!0;function L(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}var C=function(){function P(p){L(this,P),this.maxItemsPerFrame=p,this.itemsLeft=0}return P.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},P.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},P}();E.default=C},686:(J,E)=>{"use strict";E.__esModule=!0;function L(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}var C=function(){function P(p){L(this,P),this.maxMilliseconds=p,this.frameStart=0}return P.prototype.beginFrame=function(){this.frameStart=Date.now()},P.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},P}();E.default=C},973:(J,E,L)=>{"use strict";E.__esModule=!0;var C=L(2321),P=y(C),p=L(9176),O=T(p);function T(i){return i&&i.__esModule?i:{default:i}}function y(i){if(i&&i.__esModule)return i;var l={};if(i!=null)for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&(l[_]=i[_]);return l.default=i,l}function c(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}function f(i,l){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:i}function h(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);i.prototype=Object.create(l&&l.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(i,l):i.__proto__=l)}var o=function(i){h(l,i);function l(_){c(this,l);var v=f(this,i.call(this,_));return v.uploadHookHelper=v.renderer,v.registerFindHook(a),v.registerUploadHook(n),v.registerUploadHook(u),v}return l}(O.default);E.default=o;function n(i,l){return l instanceof P.BaseTexture?(l._glTextures[i.CONTEXT_UID]||i.textureManager.updateTexture(l),!0):!1}function u(i,l){return l instanceof P.Graphics?((l.dirty||l.clearDirty||!l._webGL[i.plugins.graphics.CONTEXT_UID])&&i.plugins.graphics.updateGraphics(l),!0):!1}function a(i,l){return i instanceof P.Graphics?(l.push(i),!0):!1}P.WebGLRenderer.registerPlugin("prepare",o)},5323:J=>{"use strict";var E=Object.prototype.hasOwnProperty,L="~";function C(){}Object.create&&(C.prototype=Object.create(null),new C().__proto__||(L=!1));function P(O,T,y){this.fn=O,this.context=T,this.once=y||!1}function p(){this._events=new C,this._eventsCount=0}p.prototype.eventNames=function(){var T=[],y,c;if(this._eventsCount===0)return T;for(c in y=this._events)E.call(y,c)&&T.push(L?c.slice(1):c);return Object.getOwnPropertySymbols?T.concat(Object.getOwnPropertySymbols(y)):T},p.prototype.listeners=function(T,y){var c=L?L+T:T,f=this._events[c];if(y)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var h=0,o=f.length,n=new Array(o);h<o;h++)n[h]=f[h].fn;return n},p.prototype.emit=function(T,y,c,f,h,o){var n=L?L+T:T;if(!this._events[n])return!1;var u=this._events[n],a=arguments.length,i,l;if(u.fn){switch(u.once&&this.removeListener(T,u.fn,void 0,!0),a){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,y),!0;case 3:return u.fn.call(u.context,y,c),!0;case 4:return u.fn.call(u.context,y,c,f),!0;case 5:return u.fn.call(u.context,y,c,f,h),!0;case 6:return u.fn.call(u.context,y,c,f,h,o),!0}for(l=1,i=new Array(a-1);l<a;l++)i[l-1]=arguments[l];u.fn.apply(u.context,i)}else{var _=u.length,v;for(l=0;l<_;l++)switch(u[l].once&&this.removeListener(T,u[l].fn,void 0,!0),a){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,y);break;case 3:u[l].fn.call(u[l].context,y,c);break;case 4:u[l].fn.call(u[l].context,y,c,f);break;default:if(!i)for(v=1,i=new Array(a-1);v<a;v++)i[v-1]=arguments[v];u[l].fn.apply(u[l].context,i)}}return!0},p.prototype.on=function(T,y,c){var f=new P(y,c||this),h=L?L+T:T;return this._events[h]?this._events[h].fn?this._events[h]=[this._events[h],f]:this._events[h].push(f):(this._events[h]=f,this._eventsCount++),this},p.prototype.once=function(T,y,c){var f=new P(y,c||this,!0),h=L?L+T:T;return this._events[h]?this._events[h].fn?this._events[h]=[this._events[h],f]:this._events[h].push(f):(this._events[h]=f,this._eventsCount++),this},p.prototype.removeListener=function(T,y,c,f){var h=L?L+T:T;if(!this._events[h])return this;if(!y)return--this._eventsCount==0?this._events=new C:delete this._events[h],this;var o=this._events[h];if(o.fn)o.fn===y&&(!f||o.once)&&(!c||o.context===c)&&(--this._eventsCount==0?this._events=new C:delete this._events[h]);else{for(var n=0,u=[],a=o.length;n<a;n++)(o[n].fn!==y||f&&!o[n].once||c&&o[n].context!==c)&&u.push(o[n]);u.length?this._events[h]=u.length===1?u[0]:u:--this._eventsCount==0?this._events=new C:delete this._events[h]}return this},p.prototype.removeAllListeners=function(T){var y;return T?(y=L?L+T:T,this._events[y]&&(--this._eventsCount==0?this._events=new C:delete this._events[y])):(this._events=new C,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prototype.setMaxListeners=function(){return this},p.prefixed=L,p.EventEmitter=p,J.exports=p},2925:(J,E,L)=>{"use strict";var C;C=!0,E.a=void 0;var P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},p=function(){function v(g,m){for(var b=0;b<m.length;b++){var I=m[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}return function(g,m,b){return m&&v(g.prototype,m),b&&v(g,b),g}}(),O=L(2940),T=u(O),y=L(9571),c=u(y),f=L(8099),h=n(f),o=L(6364);function n(v){if(v&&v.__esModule)return v;var g={};if(v!=null)for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(g[m]=v[m]);return g.default=v,g}function u(v){return v&&v.__esModule?v:{default:v}}function a(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}var i=100,l=/(#[\w-]+)?$/,_=E.a=function(){function v(){var g=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;a(this,v),this.baseUrl=m,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(w,D){return g._loadResource(w,D)},this._queue=h.queue(this._boundLoadResource,b),this._queue.pause(),this.resources={},this.onProgress=new T.default,this.onError=new T.default,this.onLoad=new T.default,this.onStart=new T.default,this.onComplete=new T.default;for(var I=0;I<v._defaultBeforeMiddleware.length;++I)this.pre(v._defaultBeforeMiddleware[I]);for(var S=0;S<v._defaultAfterMiddleware.length;++S)this.use(v._defaultAfterMiddleware[S])}return v.prototype.add=function(m,b,I,S){if(Array.isArray(m)){for(var w=0;w<m.length;++w)this.add(m[w]);return this}if((typeof m=="undefined"?"undefined":P(m))==="object"&&(S=b||m.callback||m.onComplete,I=m,b=m.url,m=m.name||m.key||m.url),typeof b!="string"&&(S=I,I=b,b=m),typeof b!="string")throw new Error("No url passed to add resource to loader.");if(typeof I=="function"&&(S=I,I=null),this.loading&&(!I||!I.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[m])throw new Error('Resource named "'+m+'" already exists.');if(b=this._prepareUrl(b),this.resources[m]=new o.Resource(m,b,I),typeof S=="function"&&this.resources[m].onAfterMiddleware.once(S),this.loading){for(var D=I.parentResource,A=[],M=0;M<D.children.length;++M)D.children[M].isComplete||A.push(D.children[M]);var N=D.progressChunk*(A.length+1),K=N/(A.length+2);D.children.push(this.resources[m]),D.progressChunk=K;for(var G=0;G<A.length;++G)A[G].progressChunk=K;this.resources[m].progressChunk=K}return this._queue.push(this.resources[m]),this},v.prototype.pre=function(m){return this._beforeMiddleware.push(m),this},v.prototype.use=function(m){return this._afterMiddleware.push(m),this},v.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var m in this.resources){var b=this.resources[m];b._onLoadBinding&&b._onLoadBinding.detach(),b.isLoading&&b.abort()}return this.resources={},this},v.prototype.load=function(m){if(typeof m=="function"&&this.onComplete.once(m),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var b=this._queue._tasks.length,I=i/b,S=0;S<this._queue._tasks.length;++S)this._queue._tasks[S].data.progressChunk=I;this._onStart(),this._queue.resume()}return this},v.prototype._prepareUrl=function(m){var b=(0,c.default)(m,{strictMode:!0}),I=void 0;if(b.protocol||!b.path||m.indexOf("//")===0?I=m:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&m.charAt(0)!=="/"?I=this.baseUrl+"/"+m:I=this.baseUrl+m,this.defaultQueryString){var S=l.exec(I)[0];I=I.substr(0,I.length-S.length),I.indexOf("?")!==-1?I+="&"+this.defaultQueryString:I+="?"+this.defaultQueryString,I+=S}return I},v.prototype._loadResource=function(m,b){var I=this;m._dequeue=b,h.eachSeries(this._beforeMiddleware,function(S,w){S.call(I,m,function(){w(m.isComplete?{}:null)})},function(){m.isComplete?I._onLoad(m):(m._onLoadBinding=m.onComplete.once(I._onLoad,I),m.load())},!0)},v.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},v.prototype._onComplete=function(){this.progress=i,this.loading=!1,this.onComplete.dispatch(this,this.resources)},v.prototype._onLoad=function(m){var b=this;m._onLoadBinding=null,this._resourcesParsing.push(m),m._dequeue(),h.eachSeries(this._afterMiddleware,function(I,S){I.call(b,m,S)},function(){m.onAfterMiddleware.dispatch(m),b.progress=Math.min(i,b.progress+m.progressChunk),b.onProgress.dispatch(b,m),m.error?b.onError.dispatch(m.error,b,m):b.onLoad.dispatch(b,m),b._resourcesParsing.splice(b._resourcesParsing.indexOf(m),1),b._queue.idle()&&b._resourcesParsing.length===0&&b._onComplete()},!0)},p(v,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(m){this._queue.concurrency=m}}]),v}();_._defaultBeforeMiddleware=[],_._defaultAfterMiddleware=[],_.pre=function(g){return _._defaultBeforeMiddleware.push(g),_},_.use=function(g){return _._defaultAfterMiddleware.push(g),_}},6364:(J,E,L)=>{"use strict";E.__esModule=!0,E.Resource=void 0;var C=function(){function m(b,I){for(var S=0;S<I.length;S++){var w=I[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,I,S){return I&&m(b.prototype,I),S&&m(b,S),b}}(),P=L(9571),p=y(P),O=L(2940),T=y(O);function y(m){return m&&m.__esModule?m:{default:m}}function c(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}var f=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),h=null,o=0,n=200,u=204,a=1223,i=2;function l(){}var _=E.Resource=function(){m.setExtensionLoadType=function(I,S){v(m._loadTypeMap,I,S)},m.setExtensionXhrType=function(I,S){v(m._xhrTypeMap,I,S)};function m(b,I,S){if(c(this,m),typeof b!="string"||typeof I!="string")throw new Error("Both name and url are required for constructing a resource.");S=S||{},this._flags=0,this._setFlag(m.STATUS_FLAGS.DATA_URL,I.indexOf("data:")===0),this.name=b,this.url=I,this.extension=this._getExtension(),this.data=null,this.crossOrigin=S.crossOrigin===!0?"anonymous":S.crossOrigin,this.timeout=S.timeout||0,this.loadType=S.loadType||this._determineLoadType(),this.xhrType=S.xhrType,this.metadata=S.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=m.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=l,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new T.default,this.onProgress=new T.default,this.onComplete=new T.default,this.onAfterMiddleware=new T.default}return m.prototype.complete=function(){this._clearEvents(),this._finish()},m.prototype.abort=function(I){if(!this.error){if(this.error=new Error(I),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=m.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},m.prototype.load=function(I){var S=this;if(!this.isLoading){if(this.isComplete){I&&setTimeout(function(){return I(S)},1);return}else I&&this.onComplete.once(I);switch(this._setFlag(m.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case m.LOAD_TYPE.IMAGE:this.type=m.TYPE.IMAGE,this._loadElement("image");break;case m.LOAD_TYPE.AUDIO:this.type=m.TYPE.AUDIO,this._loadSourceElement("audio");break;case m.LOAD_TYPE.VIDEO:this.type=m.TYPE.VIDEO,this._loadSourceElement("video");break;case m.LOAD_TYPE.XHR:default:f&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},m.prototype._hasFlag=function(I){return(this._flags&I)!=0},m.prototype._setFlag=function(I,S){this._flags=S?this._flags|I:this._flags&~I},m.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},m.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(m.STATUS_FLAGS.COMPLETE,!0),this._setFlag(m.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},m.prototype._loadElement=function(I){this.metadata.loadElement?this.data=this.metadata.loadElement:I==="image"&&typeof window.Image!="undefined"?this.data=new Image:this.data=document.createElement(I),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},m.prototype._loadSourceElement=function(I){if(this.metadata.loadElement?this.data=this.metadata.loadElement:I==="audio"&&typeof window.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(I),this.data===null){this.abort("Unsupported element: "+I);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var S=this.metadata.mimeType,w=0;w<this.url.length;++w)this.data.appendChild(this._createSource(I,this.url[w],Array.isArray(S)?S[w]:S));else{var D=this.metadata.mimeType;this.data.appendChild(this._createSource(I,this.url,Array.isArray(D)?D[0]:D))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},m.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var I=this.xhr=new XMLHttpRequest;I.open("GET",this.url,!0),I.timeout=this.timeout,this.xhrType===m.XHR_RESPONSE_TYPE.JSON||this.xhrType===m.XHR_RESPONSE_TYPE.DOCUMENT?I.responseType=m.XHR_RESPONSE_TYPE.TEXT:I.responseType=this.xhrType,I.addEventListener("error",this._boundXhrOnError,!1),I.addEventListener("timeout",this._boundXhrOnTimeout,!1),I.addEventListener("abort",this._boundXhrOnAbort,!1),I.addEventListener("progress",this._boundOnProgress,!1),I.addEventListener("load",this._boundXhrOnLoad,!1),I.send()},m.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var I=this.xhr=new XDomainRequest;I.timeout=this.timeout||5e3,I.onerror=this._boundXhrOnError,I.ontimeout=this._boundXhrOnTimeout,I.onprogress=this._boundOnProgress,I.onload=this._boundXhrOnLoad,I.open("GET",this.url,!0),setTimeout(function(){return I.send()},1)},m.prototype._createSource=function(I,S,w){w||(w=I+"/"+this._getExtension(S));var D=document.createElement("source");return D.src=S,D.type=w,D},m.prototype._onError=function(I){this.abort("Failed to load element using: "+I.target.nodeName)},m.prototype._onProgress=function(I){I&&I.lengthComputable&&this.onProgress.dispatch(this,I.loaded/I.total)},m.prototype._onTimeout=function(){this.abort("Load timed out.")},m.prototype._xhrOnError=function(){var I=this.xhr;this.abort(g(I)+" Request failed. Status: "+I.status+', text: "'+I.statusText+'"')},m.prototype._xhrOnTimeout=function(){var I=this.xhr;this.abort(g(I)+" Request timed out.")},m.prototype._xhrOnAbort=function(){var I=this.xhr;this.abort(g(I)+" Request was aborted by the user.")},m.prototype._xhrOnLoad=function(){var I=this.xhr,S="",w=typeof I.status=="undefined"?n:I.status;(I.responseType===""||I.responseType==="text"||typeof I.responseType=="undefined")&&(S=I.responseText),w===o&&(S.length>0||I.responseType===m.XHR_RESPONSE_TYPE.BUFFER)?w=n:w===a&&(w=u);var D=w/100|0;if(D===i)if(this.xhrType===m.XHR_RESPONSE_TYPE.TEXT)this.data=S,this.type=m.TYPE.TEXT;else if(this.xhrType===m.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(S),this.type=m.TYPE.JSON}catch(N){this.abort("Error trying to parse loaded json: "+N);return}else if(this.xhrType===m.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var A=new DOMParser;this.data=A.parseFromString(S,"text/xml")}else{var M=document.createElement("div");M.innerHTML=S,this.data=M}this.type=m.TYPE.XML}catch(N){this.abort("Error trying to parse loaded xml: "+N);return}else this.data=I.response||S;else{this.abort("["+I.status+"] "+I.statusText+": "+I.responseURL);return}this.complete()},m.prototype._determineCrossOrigin=function(I,S){if(I.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";S=S||window.location,h||(h=document.createElement("a")),h.href=I,I=(0,p.default)(h.href,{strictMode:!0});var w=!I.port&&S.port===""||I.port===S.port,D=I.protocol?I.protocol+":":"";return I.host!==S.hostname||!w||D!==S.protocol?"anonymous":""},m.prototype._determineXhrType=function(){return m._xhrTypeMap[this.extension]||m.XHR_RESPONSE_TYPE.TEXT},m.prototype._determineLoadType=function(){return m._loadTypeMap[this.extension]||m.LOAD_TYPE.XHR},m.prototype._getExtension=function(){var I=this.url,S="";if(this.isDataUrl){var w=I.indexOf("/");S=I.substring(w+1,I.indexOf(";",w))}else{var D=I.indexOf("?"),A=I.indexOf("#"),M=Math.min(D>-1?D:I.length,A>-1?A:I.length);I=I.substring(0,M),S=I.substring(I.lastIndexOf(".")+1)}return S.toLowerCase()},m.prototype._getMimeFromXhrType=function(I){switch(I){case m.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case m.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case m.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case m.XHR_RESPONSE_TYPE.JSON:return"application/json";case m.XHR_RESPONSE_TYPE.DEFAULT:case m.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},C(m,[{key:"isDataUrl",get:function(){return this._hasFlag(m.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(m.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(m.STATUS_FLAGS.LOADING)}}]),m}();_.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2},_.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},_.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},_.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},_._loadTypeMap={gif:_.LOAD_TYPE.IMAGE,png:_.LOAD_TYPE.IMAGE,bmp:_.LOAD_TYPE.IMAGE,jpg:_.LOAD_TYPE.IMAGE,jpeg:_.LOAD_TYPE.IMAGE,tif:_.LOAD_TYPE.IMAGE,tiff:_.LOAD_TYPE.IMAGE,webp:_.LOAD_TYPE.IMAGE,tga:_.LOAD_TYPE.IMAGE,svg:_.LOAD_TYPE.IMAGE,"svg+xml":_.LOAD_TYPE.IMAGE,mp3:_.LOAD_TYPE.AUDIO,ogg:_.LOAD_TYPE.AUDIO,wav:_.LOAD_TYPE.AUDIO,mp4:_.LOAD_TYPE.VIDEO,webm:_.LOAD_TYPE.VIDEO},_._xhrTypeMap={xhtml:_.XHR_RESPONSE_TYPE.DOCUMENT,html:_.XHR_RESPONSE_TYPE.DOCUMENT,htm:_.XHR_RESPONSE_TYPE.DOCUMENT,xml:_.XHR_RESPONSE_TYPE.DOCUMENT,tmx:_.XHR_RESPONSE_TYPE.DOCUMENT,svg:_.XHR_RESPONSE_TYPE.DOCUMENT,tsx:_.XHR_RESPONSE_TYPE.DOCUMENT,gif:_.XHR_RESPONSE_TYPE.BLOB,png:_.XHR_RESPONSE_TYPE.BLOB,bmp:_.XHR_RESPONSE_TYPE.BLOB,jpg:_.XHR_RESPONSE_TYPE.BLOB,jpeg:_.XHR_RESPONSE_TYPE.BLOB,tif:_.XHR_RESPONSE_TYPE.BLOB,tiff:_.XHR_RESPONSE_TYPE.BLOB,webp:_.XHR_RESPONSE_TYPE.BLOB,tga:_.XHR_RESPONSE_TYPE.BLOB,json:_.XHR_RESPONSE_TYPE.JSON,text:_.XHR_RESPONSE_TYPE.TEXT,txt:_.XHR_RESPONSE_TYPE.TEXT,ttf:_.XHR_RESPONSE_TYPE.BUFFER,otf:_.XHR_RESPONSE_TYPE.BUFFER},_.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function v(m,b,I){b&&b.indexOf(".")===0&&(b=b.substring(1)),!!b&&(m[b]=I)}function g(m){return m.toString().replace("object ","")}J.exports.default=_},8099:(J,E)=>{"use strict";E.__esModule=!0,E.eachSeries=C,E.queue=p;function L(){}function C(O,T,y,c){var f=0,h=O.length;(function o(n){if(n||f===h){y&&y(n);return}c?setTimeout(function(){T(O[f++],o)},1):T(O[f++],o)})()}function P(O){return function(){if(O===null)throw new Error("Callback was already called.");var y=O;O=null,y.apply(this,arguments)}}function p(O,T){if(T==null)T=1;else if(T===0)throw new Error("Concurrency must not be zero");var y=0,c={_tasks:[],concurrency:T,saturated:L,unsaturated:L,buffer:T/4,empty:L,drain:L,error:L,started:!1,paused:!1,push:function(n,u){f(n,!1,u)},kill:function(){y=0,c.drain=L,c.started=!1,c._tasks=[]},unshift:function(n,u){f(n,!0,u)},process:function(){for(;!c.paused&&y<c.concurrency&&c._tasks.length;){var n=c._tasks.shift();c._tasks.length===0&&c.empty(),y+=1,y===c.concurrency&&c.saturated(),O(n.data,P(h(n)))}},length:function(){return c._tasks.length},running:function(){return y},idle:function(){return c._tasks.length+y===0},pause:function(){c.paused!==!0&&(c.paused=!0)},resume:function(){if(c.paused!==!1){c.paused=!1;for(var n=1;n<=c.concurrency;n++)c.process()}}};function f(o,n,u){if(u!=null&&typeof u!="function")throw new Error("task callback must be a function");if(c.started=!0,o==null&&c.idle()){setTimeout(function(){return c.drain()},1);return}var a={data:o,callback:typeof u=="function"?u:L};n?c._tasks.unshift(a):c._tasks.push(a),setTimeout(function(){return c.process()},1)}function h(o){return function(){y-=1,o.callback.apply(o,arguments),arguments[0]!=null&&c.error(arguments[0],o.data),y<=c.concurrency-c.buffer&&c.unsaturated(),c.idle()&&c.drain(),c.process()}}return c}},402:(J,E)=>{"use strict";E.__esModule=!0,E.encodeBinary=C;var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function C(P){for(var p="",O=0;O<P.length;){for(var T=[0,0,0],y=[0,0,0,0],c=0;c<T.length;++c)O<P.length?T[c]=P.charCodeAt(O++)&255:T[c]=0;y[0]=T[0]>>2,y[1]=(T[0]&3)<<4|T[1]>>4,y[2]=(T[1]&15)<<2|T[2]>>6,y[3]=T[2]&63;var f=O-(P.length-1);switch(f){case 2:y[3]=64,y[2]=64;break;case 1:y[3]=64;break;default:break}for(var h=0;h<y.length;++h)p+=L.charAt(y[h])}return p}J.exports.default=C},9177:(J,E,L)=>{"use strict";var C=L(2925).a,P=L(6364).Resource,p=L(8099),O=L(402);C.Resource=P,C.async=p,C.encodeBinary=O,C.base64=O,J.exports=C,J.exports.Loader=C,J.exports.default=C},4055:(J,E,L)=>{"use strict";E.__esModule=!0,E.blobMiddlewareFactory=O;var C=L(6364),P=L(402),p=window.URL||window.webkitURL;function O(){return function(y,c){if(!y.data){c();return}if(y.xhr&&y.xhrType===C.Resource.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof y.data=="string"){var f=y.xhr.getResponseHeader("content-type");if(f&&f.indexOf("image")===0){y.data=new Image,y.data.src="data:"+f+";base64,"+(0,P.encodeBinary)(y.xhr.responseText),y.type=C.Resource.TYPE.IMAGE,y.data.onload=function(){y.data.onload=null,c()};return}}else if(y.data.type.indexOf("image")===0){var h=p.createObjectURL(y.data);y.blob=y.data,y.data=new Image,y.data.src=h,y.type=C.Resource.TYPE.IMAGE,y.data.onload=function(){p.revokeObjectURL(h),y.data.onload=null,c()};return}}c()}}},2587:J=>{"use strict";function E(L,C){return Object.prototype.hasOwnProperty.call(L,C)}J.exports=function(L,C,P,p){C=C||"&",P=P||"=";var O={};if(typeof L!="string"||L.length===0)return O;var T=/\+/g;L=L.split(C);var y=1e3;p&&typeof p.maxKeys=="number"&&(y=p.maxKeys);var c=L.length;y>0&&c>y&&(c=y);for(var f=0;f<c;++f){var h=L[f].replace(T,"%20"),o=h.indexOf(P),n,u,a,i;o>=0?(n=h.substr(0,o),u=h.substr(o+1)):(n=h,u=""),a=decodeURIComponent(n),i=decodeURIComponent(u),E(O,a)?Array.isArray(O[a])?O[a].push(i):O[a]=[O[a],i]:O[a]=i}return O}},2361:J=>{"use strict";var E=function(L){switch(typeof L){case"string":return L;case"boolean":return L?"true":"false";case"number":return isFinite(L)?L:"";default:return""}};J.exports=function(L,C,P,p){return C=C||"&",P=P||"=",L===null&&(L=void 0),typeof L=="object"?Object.keys(L).map(function(O){var T=encodeURIComponent(E(O))+P;return Array.isArray(L[O])?L[O].map(function(y){return T+encodeURIComponent(E(y))}).join(C):T+encodeURIComponent(E(L[O]))}).join(C):p?encodeURIComponent(E(p))+P+encodeURIComponent(E(L)):""}},7673:(J,E,L)=>{"use strict";E.decode=E.parse=L(2587),E.encode=E.stringify=L(2361)},7069:J=>{"use strict";J.exports=function(L,C,P){var p,O=L.length;if(!(C>=O||P===0)){P=C+P>O?O-C:P;var T=O-P;for(p=C;p<T;++p)L[p]=L[p+P];L.length=T}}},2511:function(J,E,L){J=L.nmd(J);var C;/*! https://mths.be/punycode v1.3.2 by @mathias */(function(P){var p=E&&!E.nodeType&&E,O=J&&!J.nodeType&&J,T=typeof L.g=="object"&&L.g;(T.global===T||T.window===T||T.self===T)&&(P=T);var y,c=2147483647,f=36,h=1,o=26,n=38,u=700,a=72,i=128,l="-",_=/^xn--/,v=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=f-h,I=Math.floor,S=String.fromCharCode,w;function D(H){throw RangeError(m[H])}function A(H,Y){for(var $=H.length,re=[];$--;)re[$]=Y(H[$]);return re}function M(H,Y){var $=H.split("@"),re="";$.length>1&&(re=$[0]+"@",H=$[1]),H=H.replace(g,".");var te=H.split("."),se=A(te,Y).join(".");return re+se}function N(H){for(var Y=[],$=0,re=H.length,te,se;$<re;)te=H.charCodeAt($++),te>=55296&&te<=56319&&$<re?(se=H.charCodeAt($++),(se&64512)==56320?Y.push(((te&1023)<<10)+(se&1023)+65536):(Y.push(te),$--)):Y.push(te);return Y}function K(H){return A(H,function(Y){var $="";return Y>65535&&(Y-=65536,$+=S(Y>>>10&1023|55296),Y=56320|Y&1023),$+=S(Y),$}).join("")}function G(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:f}function U(H,Y){return H+22+75*(H<26)-((Y!=0)<<5)}function F(H,Y,$){var re=0;for(H=$?I(H/u):H>>1,H+=I(H/Y);H>b*o>>1;re+=f)H=I(H/b);return I(re+(b+1)*H/(H+n))}function X(H){var Y=[],$=H.length,re,te=0,se=i,ae=a,q,ne,ue,Ee,de,Le,Fe,ge,fe;for(q=H.lastIndexOf(l),q<0&&(q=0),ne=0;ne<q;++ne)H.charCodeAt(ne)>=128&&D("not-basic"),Y.push(H.charCodeAt(ne));for(ue=q>0?q+1:0;ue<$;){for(Ee=te,de=1,Le=f;ue>=$&&D("invalid-input"),Fe=G(H.charCodeAt(ue++)),(Fe>=f||Fe>I((c-te)/de))&&D("overflow"),te+=Fe*de,ge=Le<=ae?h:Le>=ae+o?o:Le-ae,!(Fe<ge);Le+=f)fe=f-ge,de>I(c/fe)&&D("overflow"),de*=fe;re=Y.length+1,ae=F(te-Ee,re,Ee==0),I(te/re)>c-se&&D("overflow"),se+=I(te/re),te%=re,Y.splice(te++,0,se)}return K(Y)}function B(H){var Y,$,re,te,se,ae,q,ne,ue,Ee,de,Le=[],Fe,ge,fe,Ge;for(H=N(H),Fe=H.length,Y=i,$=0,se=a,ae=0;ae<Fe;++ae)de=H[ae],de<128&&Le.push(S(de));for(re=te=Le.length,te&&Le.push(l);re<Fe;){for(q=c,ae=0;ae<Fe;++ae)de=H[ae],de>=Y&&de<q&&(q=de);for(ge=re+1,q-Y>I((c-$)/ge)&&D("overflow"),$+=(q-Y)*ge,Y=q,ae=0;ae<Fe;++ae)if(de=H[ae],de<Y&&++$>c&&D("overflow"),de==Y){for(ne=$,ue=f;Ee=ue<=se?h:ue>=se+o?o:ue-se,!(ne<Ee);ue+=f)Ge=ne-Ee,fe=f-Ee,Le.push(S(U(Ee+Ge%fe,0))),ne=I(Ge/fe);Le.push(S(U(ne,0))),se=F($,ge,re==te),$=0,++re}++$,++Y}return Le.join("")}function V(H){return M(H,function(Y){return _.test(Y)?X(Y.slice(4).toLowerCase()):Y})}function j(H){return M(H,function(Y){return v.test(Y)?"xn--"+B(Y):Y})}y={version:"1.3.2",ucs2:{decode:N,encode:K},decode:X,encode:B,toASCII:j,toUnicode:V},C=function(){return y}.call(E,L,E,J),C!==void 0&&(J.exports=C)})(this)},8575:(J,E,L)=>{"use strict";var C=L(2511),P=L(2502);E.parse=m,E.resolve=I,E.resolveObject=S,E.format=b,E.Url=p;function p(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var O=/^([a-z0-9.+-]+:)/i,T=/:[0-9]*$/,y=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["<",">",'"',"`"," ","\r",`
`,"	"],f=["{","}","|","\\","^","`"].concat(c),h=["'"].concat(f),o=["%","/","?",";","#"].concat(h),n=["/","?","#"],u=255,a=/^[+a-z0-9A-Z_-]{0,63}$/,i=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,l={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=L(7673);function m(w,D,A){if(w&&P.isObject(w)&&w instanceof p)return w;var M=new p;return M.parse(w,D,A),M}p.prototype.parse=function(w,D,A){if(!P.isString(w))throw new TypeError("Parameter 'url' must be a string, not "+typeof w);var M=w.indexOf("?"),N=M!==-1&&M<w.indexOf("#")?"?":"#",K=w.split(N),G=/\\/g;K[0]=K[0].replace(G,"/"),w=K.join(N);var U=w;if(U=U.trim(),!A&&w.split("#").length===1){var F=y.exec(U);if(F)return this.path=U,this.href=U,this.pathname=F[1],F[2]?(this.search=F[2],D?this.query=g.parse(this.search.substr(1)):this.query=this.search.substr(1)):D&&(this.search="",this.query={}),this}var X=O.exec(U);if(X){X=X[0];var B=X.toLowerCase();this.protocol=B,U=U.substr(X.length)}if(A||X||U.match(/^\/\/[^@\/]+@[^@\/]+/)){var V=U.substr(0,2)==="//";V&&!(X&&_[X])&&(U=U.substr(2),this.slashes=!0)}if(!_[X]&&(V||X&&!v[X])){for(var j=-1,H=0;H<n.length;H++){var Y=U.indexOf(n[H]);Y!==-1&&(j===-1||Y<j)&&(j=Y)}var $,re;j===-1?re=U.lastIndexOf("@"):re=U.lastIndexOf("@",j),re!==-1&&($=U.slice(0,re),U=U.slice(re+1),this.auth=decodeURIComponent($)),j=-1;for(var H=0;H<o.length;H++){var Y=U.indexOf(o[H]);Y!==-1&&(j===-1||Y<j)&&(j=Y)}j===-1&&(j=U.length),this.host=U.slice(0,j),U=U.slice(j),this.parseHost(),this.hostname=this.hostname||"";var te=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!te)for(var se=this.hostname.split(/\./),H=0,ae=se.length;H<ae;H++){var q=se[H];if(!!q&&!q.match(a)){for(var ne="",ue=0,Ee=q.length;ue<Ee;ue++)q.charCodeAt(ue)>127?ne+="x":ne+=q[ue];if(!ne.match(a)){var de=se.slice(0,H),Le=se.slice(H+1),Fe=q.match(i);Fe&&(de.push(Fe[1]),Le.unshift(Fe[2])),Le.length&&(U="/"+Le.join(".")+U),this.hostname=de.join(".");break}}}this.hostname.length>u?this.hostname="":this.hostname=this.hostname.toLowerCase(),te||(this.hostname=C.toASCII(this.hostname));var ge=this.port?":"+this.port:"",fe=this.hostname||"";this.host=fe+ge,this.href+=this.host,te&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),U[0]!=="/"&&(U="/"+U))}if(!l[B])for(var H=0,ae=h.length;H<ae;H++){var Ge=h[H];if(U.indexOf(Ge)!==-1){var Je=encodeURIComponent(Ge);Je===Ge&&(Je=escape(Ge)),U=U.split(Ge).join(Je)}}var st=U.indexOf("#");st!==-1&&(this.hash=U.substr(st),U=U.slice(0,st));var rt=U.indexOf("?");if(rt!==-1?(this.search=U.substr(rt),this.query=U.substr(rt+1),D&&(this.query=g.parse(this.query)),U=U.slice(0,rt)):D&&(this.search="",this.query={}),U&&(this.pathname=U),v[B]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ge=this.pathname||"",dt=this.search||"";this.path=ge+dt}return this.href=this.format(),this};function b(w){return P.isString(w)&&(w=m(w)),w instanceof p?w.format():p.prototype.format.call(w)}p.prototype.format=function(){var w=this.auth||"";w&&(w=encodeURIComponent(w),w=w.replace(/%3A/i,":"),w+="@");var D=this.protocol||"",A=this.pathname||"",M=this.hash||"",N=!1,K="";this.host?N=w+this.host:this.hostname&&(N=w+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(N+=":"+this.port)),this.query&&P.isObject(this.query)&&Object.keys(this.query).length&&(K=g.stringify(this.query));var G=this.search||K&&"?"+K||"";return D&&D.substr(-1)!==":"&&(D+=":"),this.slashes||(!D||v[D])&&N!==!1?(N="//"+(N||""),A&&A.charAt(0)!=="/"&&(A="/"+A)):N||(N=""),M&&M.charAt(0)!=="#"&&(M="#"+M),G&&G.charAt(0)!=="?"&&(G="?"+G),A=A.replace(/[?#]/g,function(U){return encodeURIComponent(U)}),G=G.replace("#","%23"),D+N+A+G+M};function I(w,D){return m(w,!1,!0).resolve(D)}p.prototype.resolve=function(w){return this.resolveObject(m(w,!1,!0)).format()};function S(w,D){return w?m(w,!1,!0).resolveObject(D):D}p.prototype.resolveObject=function(w){if(P.isString(w)){var D=new p;D.parse(w,!1,!0),w=D}for(var A=new p,M=Object.keys(this),N=0;N<M.length;N++){var K=M[N];A[K]=this[K]}if(A.hash=w.hash,w.href==="")return A.href=A.format(),A;if(w.slashes&&!w.protocol){for(var G=Object.keys(w),U=0;U<G.length;U++){var F=G[U];F!=="protocol"&&(A[F]=w[F])}return v[A.protocol]&&A.hostname&&!A.pathname&&(A.path=A.pathname="/"),A.href=A.format(),A}if(w.protocol&&w.protocol!==A.protocol){if(!v[w.protocol]){for(var X=Object.keys(w),B=0;B<X.length;B++){var V=X[B];A[V]=w[V]}return A.href=A.format(),A}if(A.protocol=w.protocol,!w.host&&!_[w.protocol]){for(var ae=(w.pathname||"").split("/");ae.length&&!(w.host=ae.shift()););w.host||(w.host=""),w.hostname||(w.hostname=""),ae[0]!==""&&ae.unshift(""),ae.length<2&&ae.unshift(""),A.pathname=ae.join("/")}else A.pathname=w.pathname;if(A.search=w.search,A.query=w.query,A.host=w.host||"",A.auth=w.auth,A.hostname=w.hostname||w.host,A.port=w.port,A.pathname||A.search){var j=A.pathname||"",H=A.search||"";A.path=j+H}return A.slashes=A.slashes||w.slashes,A.href=A.format(),A}var Y=A.pathname&&A.pathname.charAt(0)==="/",$=w.host||w.pathname&&w.pathname.charAt(0)==="/",re=$||Y||A.host&&w.pathname,te=re,se=A.pathname&&A.pathname.split("/")||[],ae=w.pathname&&w.pathname.split("/")||[],q=A.protocol&&!v[A.protocol];if(q&&(A.hostname="",A.port=null,A.host&&(se[0]===""?se[0]=A.host:se.unshift(A.host)),A.host="",w.protocol&&(w.hostname=null,w.port=null,w.host&&(ae[0]===""?ae[0]=w.host:ae.unshift(w.host)),w.host=null),re=re&&(ae[0]===""||se[0]==="")),$)A.host=w.host||w.host===""?w.host:A.host,A.hostname=w.hostname||w.hostname===""?w.hostname:A.hostname,A.search=w.search,A.query=w.query,se=ae;else if(ae.length)se||(se=[]),se.pop(),se=se.concat(ae),A.search=w.search,A.query=w.query;else if(!P.isNullOrUndefined(w.search)){if(q){A.hostname=A.host=se.shift();var ne=A.host&&A.host.indexOf("@")>0?A.host.split("@"):!1;ne&&(A.auth=ne.shift(),A.host=A.hostname=ne.shift())}return A.search=w.search,A.query=w.query,(!P.isNull(A.pathname)||!P.isNull(A.search))&&(A.path=(A.pathname?A.pathname:"")+(A.search?A.search:"")),A.href=A.format(),A}if(!se.length)return A.pathname=null,A.search?A.path="/"+A.search:A.path=null,A.href=A.format(),A;for(var ue=se.slice(-1)[0],Ee=(A.host||w.host||se.length>1)&&(ue==="."||ue==="..")||ue==="",de=0,Le=se.length;Le>=0;Le--)ue=se[Le],ue==="."?se.splice(Le,1):ue===".."?(se.splice(Le,1),de++):de&&(se.splice(Le,1),de--);if(!re&&!te)for(;de--;de)se.unshift("..");re&&se[0]!==""&&(!se[0]||se[0].charAt(0)!=="/")&&se.unshift(""),Ee&&se.join("/").substr(-1)!=="/"&&se.push("");var Fe=se[0]===""||se[0]&&se[0].charAt(0)==="/";if(q){A.hostname=A.host=Fe?"":se.length?se.shift():"";var ne=A.host&&A.host.indexOf("@")>0?A.host.split("@"):!1;ne&&(A.auth=ne.shift(),A.host=A.hostname=ne.shift())}return re=re||A.host&&se.length,re&&!Fe&&se.unshift(""),se.length?A.pathname=se.join("/"):(A.pathname=null,A.path=null),(!P.isNull(A.pathname)||!P.isNull(A.search))&&(A.path=(A.pathname?A.pathname:"")+(A.search?A.search:"")),A.auth=w.auth||A.auth,A.slashes=A.slashes||w.slashes,A.href=A.format(),A},p.prototype.parseHost=function(){var w=this.host,D=T.exec(w);D&&(D=D[0],D!==":"&&(this.port=D.substr(1)),w=w.substr(0,w.length-D.length)),w&&(this.hostname=w)}},2502:J=>{"use strict";J.exports={isString:function(E){return typeof E=="string"},isObject:function(E){return typeof E=="object"&&E!==null},isNull:function(E){return E===null},isNullOrUndefined:function(E){return E==null}}}},Ti={};function Et(J){var E=Ti[J];if(E!==void 0)return E.exports;var L=Ti[J]={id:J,loaded:!1,exports:{}};return Ra[J].call(L.exports,L,L.exports,Et),L.loaded=!0,L.exports}(()=>{Et.n=J=>{var E=J&&J.__esModule?()=>J.default:()=>J;return Et.d(E,{a:E}),E}})(),(()=>{Et.d=(J,E)=>{for(var L in E)Et.o(E,L)&&!Et.o(J,L)&&Object.defineProperty(J,L,{enumerable:!0,get:E[L]})}})(),(()=>{Et.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),(()=>{Et.o=(J,E)=>Object.prototype.hasOwnProperty.call(J,E)})(),(()=>{Et.nmd=J=>(J.paths=[],J.children||(J.children=[]),J)})();var xa={};(()=>{"use strict";Et.d(xa,{n6:()=>Ft,V:()=>Mt,H6:()=>At});var J=Et(6729),E=Et.n(J);function L(){this.__data__=[],this.size=0}const C=L;function P(t,e){return t===e||t!==t&&e!==e}const p=P;function O(t,e){for(var r=t.length;r--;)if(p(t[r][0],e))return r;return-1}const T=O;var y=Array.prototype,c=y.splice;function f(t){var e=this.__data__,r=T(e,t);if(r<0)return!1;var d=e.length-1;return r==d?e.pop():c.call(e,r,1),--this.size,!0}const h=f;function o(t){var e=this.__data__,r=T(e,t);return r<0?void 0:e[r][1]}const n=o;function u(t){return T(this.__data__,t)>-1}const a=u;function i(t,e){var r=this.__data__,d=T(r,t);return d<0?(++this.size,r.push([t,e])):r[d][1]=e,this}const l=i;function _(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var d=t[e];this.set(d[0],d[1])}}_.prototype.clear=C,_.prototype.delete=h,_.prototype.get=n,_.prototype.has=a,_.prototype.set=l;const v=_;function g(){this.__data__=new v,this.size=0}const m=g;function b(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}const I=b;function S(t){return this.__data__.get(t)}const w=S;function D(t){return this.__data__.has(t)}const A=D;var M=typeof global=="object"&&global&&global.Object===Object&&global;const N=M;var K=typeof self=="object"&&self&&self.Object===Object&&self,G=N||K||Function("return this")();const U=G;var F=U.Symbol;const X=F;var B=Object.prototype,V=B.hasOwnProperty,j=B.toString,H=X?X.toStringTag:void 0;function Y(t){var e=V.call(t,H),r=t[H];try{t[H]=void 0;var d=!0}catch{}var R=j.call(t);return d&&(e?t[H]=r:delete t[H]),R}const $=Y;var re=Object.prototype,te=re.toString;function se(t){return te.call(t)}const ae=se;var q="[object Null]",ne="[object Undefined]",ue=X?X.toStringTag:void 0;function Ee(t){return t==null?t===void 0?ne:q:ue&&ue in Object(t)?$(t):ae(t)}const de=Ee;function Le(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}const Fe=Le;var ge="[object AsyncFunction]",fe="[object Function]",Ge="[object GeneratorFunction]",Je="[object Proxy]";function st(t){if(!Fe(t))return!1;var e=de(t);return e==fe||e==Ge||e==ge||e==Je}const rt=st;var dt=U["__core-js_shared__"];const Lt=dt;var nt=function(){var t=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Yt(t){return!!nt&&nt in t}const Lr=Yt;var zt=Function.prototype,or=zt.toString;function kr(t){if(t!=null){try{return or.call(t)}catch{}try{return t+""}catch{}}return""}const Rt=kr;var An=/[\\^$.*+?()[\]{}|]/g,Zt=/^\[object .+?Constructor\]$/,Sa=Function.prototype,ba=Object.prototype,Ca=Sa.toString,Ia=ba.hasOwnProperty,Aa=RegExp("^"+Ca.call(Ia).replace(An,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wa(t){if(!Fe(t)||Lr(t))return!1;var e=rt(t)?Aa:Zt;return e.test(Rt(t))}const Pa=wa;function Ma(t,e){return t==null?void 0:t[e]}const Fa=Ma;function Da(t,e){var r=Fa(t,e);return Pa(r)?r:void 0}const ur=Da;var Ba=ur(U,"Map");const Rr=Ba;var Na=ur(Object,"create");const xr=Na;function Wa(){this.__data__=xr?xr(null):{},this.size=0}const ka=Wa;function Ga(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}const Ua=Ga;var Ha="__lodash_hash_undefined__",Xa=Object.prototype,ja=Xa.hasOwnProperty;function Ka(t){var e=this.__data__;if(xr){var r=e[t];return r===Ha?void 0:r}return ja.call(e,t)?e[t]:void 0}const Va=Ka;var Ya=Object.prototype,za=Ya.hasOwnProperty;function Za(t){var e=this.__data__;return xr?e[t]!==void 0:za.call(e,t)}const $a=Za;var Ja="__lodash_hash_undefined__";function Qa(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=xr&&e===void 0?Ja:e,this}const qa=Qa;function lr(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var d=t[e];this.set(d[0],d[1])}}lr.prototype.clear=ka,lr.prototype.delete=Ua,lr.prototype.get=Va,lr.prototype.has=$a,lr.prototype.set=qa;const Oi=lr;function eo(){this.size=0,this.__data__={hash:new Oi,map:new(Rr||v),string:new Oi}}const to=eo;function ro(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}const no=ro;function io(t,e){var r=t.__data__;return no(e)?r[typeof e=="string"?"string":"hash"]:r.map}const Gr=io;function so(t){var e=Gr(this,t).delete(t);return this.size-=e?1:0,e}const ao=so;function oo(t){return Gr(this,t).get(t)}const uo=oo;function lo(t){return Gr(this,t).has(t)}const co=lo;function ho(t,e){var r=Gr(this,t),d=r.size;return r.set(t,e),this.size+=r.size==d?0:1,this}const fo=ho;function cr(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var d=t[e];this.set(d[0],d[1])}}cr.prototype.clear=to,cr.prototype.delete=ao,cr.prototype.get=uo,cr.prototype.has=co,cr.prototype.set=fo;const Ei=cr;var po=200;function _o(t,e){var r=this.__data__;if(r instanceof v){var d=r.__data__;if(!Rr||d.length<po-1)return d.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ei(d)}return r.set(t,e),this.size=r.size,this}const yo=_o;function hr(t){var e=this.__data__=new v(t);this.size=e.size}hr.prototype.clear=m,hr.prototype.delete=I,hr.prototype.get=w,hr.prototype.has=A,hr.prototype.set=yo;const wn=hr;var vo="__lodash_hash_undefined__";function go(t){return this.__data__.set(t,vo),this}const mo=go;function To(t){return this.__data__.has(t)}const Oo=To;function Ur(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Ei;++e<r;)this.add(t[e])}Ur.prototype.add=Ur.prototype.push=mo,Ur.prototype.has=Oo;const Eo=Ur;function Lo(t,e){for(var r=-1,d=t==null?0:t.length;++r<d;)if(e(t[r],r,t))return!0;return!1}const Ro=Lo;function xo(t,e){return t.has(e)}const So=xo;var bo=1,Co=2;function Io(t,e,r,d,R,x){var W=r&bo,z=t.length,ee=e.length;if(z!=ee&&!(W&&ee>z))return!1;var k=x.get(t),ie=x.get(e);if(k&&ie)return k==e&&ie==t;var ce=-1,me=!0,Oe=r&Co?new Eo:void 0;for(x.set(t,e),x.set(e,t);++ce<z;){var be=t[ce],Ae=e[ce];if(d)var ze=W?d(Ae,be,ce,e,t,x):d(be,Ae,ce,t,e,x);if(ze!==void 0){if(ze)continue;me=!1;break}if(Oe){if(!Ro(e,function(Xe,et){if(!So(Oe,et)&&(be===Xe||R(be,Xe,r,d,x)))return Oe.push(et)})){me=!1;break}}else if(!(be===Ae||R(be,Ae,r,d,x))){me=!1;break}}return x.delete(t),x.delete(e),me}const Li=Io;var Ao=U.Uint8Array;const Ri=Ao;function wo(t){var e=-1,r=Array(t.size);return t.forEach(function(d,R){r[++e]=[R,d]}),r}const Po=wo;function Mo(t){var e=-1,r=Array(t.size);return t.forEach(function(d){r[++e]=d}),r}const Fo=Mo;var Do=1,Bo=2,No="[object Boolean]",Wo="[object Date]",ko="[object Error]",Go="[object Map]",Uo="[object Number]",Ho="[object RegExp]",Xo="[object Set]",jo="[object String]",Ko="[object Symbol]",Vo="[object ArrayBuffer]",Yo="[object DataView]",xi=X?X.prototype:void 0,Pn=xi?xi.valueOf:void 0;function zo(t,e,r,d,R,x,W){switch(r){case Yo:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Vo:return!(t.byteLength!=e.byteLength||!x(new Ri(t),new Ri(e)));case No:case Wo:case Uo:return p(+t,+e);case ko:return t.name==e.name&&t.message==e.message;case Ho:case jo:return t==e+"";case Go:var z=Po;case Xo:var ee=d&Do;if(z||(z=Fo),t.size!=e.size&&!ee)return!1;var k=W.get(t);if(k)return k==e;d|=Bo,W.set(t,e);var ie=Li(z(t),z(e),d,R,x,W);return W.delete(t),ie;case Ko:if(Pn)return Pn.call(t)==Pn.call(e)}return!1}const Zo=zo;function $o(t,e){for(var r=-1,d=e.length,R=t.length;++r<d;)t[R+r]=e[r];return t}const Jo=$o;var Qo=Array.isArray;const Hr=Qo;function qo(t,e,r){var d=e(t);return Hr(t)?d:Jo(d,r(t))}const eu=qo;function tu(t,e){for(var r=-1,d=t==null?0:t.length,R=0,x=[];++r<d;){var W=t[r];e(W,r,t)&&(x[R++]=W)}return x}const ru=tu;function nu(){return[]}const iu=nu;var su=Object.prototype,au=su.propertyIsEnumerable,Si=Object.getOwnPropertySymbols,ou=Si?function(t){return t==null?[]:(t=Object(t),ru(Si(t),function(e){return au.call(t,e)}))}:iu;const uu=ou;function lu(t,e){for(var r=-1,d=Array(t);++r<t;)d[r]=e(r);return d}const cu=lu;function hu(t){return t!=null&&typeof t=="object"}const Sr=hu;var fu="[object Arguments]";function pu(t){return Sr(t)&&de(t)==fu}const bi=pu;var Ci=Object.prototype,du=Ci.hasOwnProperty,_u=Ci.propertyIsEnumerable,yu=bi(function(){return arguments}())?bi:function(t){return Sr(t)&&du.call(t,"callee")&&!_u.call(t,"callee")};const vu=yu;function gu(){return!1}const mu=gu;var Ii=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ai=Ii&&typeof module=="object"&&module&&!module.nodeType&&module,Tu=Ai&&Ai.exports===Ii,wi=Tu?U.Buffer:void 0,Ou=wi?wi.isBuffer:void 0,Eu=Ou||mu;const Mn=Eu;var Lu=9007199254740991,Ru=/^(?:0|[1-9]\d*)$/;function xu(t,e){var r=typeof t;return e=e??Lu,!!e&&(r=="number"||r!="symbol"&&Ru.test(t))&&t>-1&&t%1==0&&t<e}const Su=xu;var bu=9007199254740991;function Cu(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bu}const Pi=Cu;var Iu="[object Arguments]",Au="[object Array]",wu="[object Boolean]",Pu="[object Date]",Mu="[object Error]",Fu="[object Function]",Du="[object Map]",Bu="[object Number]",Nu="[object Object]",Wu="[object RegExp]",ku="[object Set]",Gu="[object String]",Uu="[object WeakMap]",Hu="[object ArrayBuffer]",Xu="[object DataView]",ju="[object Float32Array]",Ku="[object Float64Array]",Vu="[object Int8Array]",Yu="[object Int16Array]",zu="[object Int32Array]",Zu="[object Uint8Array]",$u="[object Uint8ClampedArray]",Ju="[object Uint16Array]",Qu="[object Uint32Array]",it={};it[ju]=it[Ku]=it[Vu]=it[Yu]=it[zu]=it[Zu]=it[$u]=it[Ju]=it[Qu]=!0,it[Iu]=it[Au]=it[Hu]=it[wu]=it[Xu]=it[Pu]=it[Mu]=it[Fu]=it[Du]=it[Bu]=it[Nu]=it[Wu]=it[ku]=it[Gu]=it[Uu]=!1;function qu(t){return Sr(t)&&Pi(t.length)&&!!it[de(t)]}const el=qu;function tl(t){return function(e){return t(e)}}const rl=tl;var Mi=typeof exports=="object"&&exports&&!exports.nodeType&&exports,br=Mi&&typeof module=="object"&&module&&!module.nodeType&&module,nl=br&&br.exports===Mi,Fn=nl&&N.process,il=function(){try{var t=br&&br.require&&br.require("util").types;return t||Fn&&Fn.binding&&Fn.binding("util")}catch{}}();const Fi=il;var Di=Fi&&Fi.isTypedArray,sl=Di?rl(Di):el;const Bi=sl;var al=Object.prototype,ol=al.hasOwnProperty;function ul(t,e){var r=Hr(t),d=!r&&vu(t),R=!r&&!d&&Mn(t),x=!r&&!d&&!R&&Bi(t),W=r||d||R||x,z=W?cu(t.length,String):[],ee=z.length;for(var k in t)(e||ol.call(t,k))&&!(W&&(k=="length"||R&&(k=="offset"||k=="parent")||x&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||Su(k,ee)))&&z.push(k);return z}const ll=ul;var cl=Object.prototype;function hl(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||cl;return t===r}const fl=hl;function pl(t,e){return function(r){return t(e(r))}}var dl=pl(Object.keys,Object);const _l=dl;var yl=Object.prototype,vl=yl.hasOwnProperty;function ml(t){if(!fl(t))return _l(t);var e=[];for(var r in Object(t))vl.call(t,r)&&r!="constructor"&&e.push(r);return e}const Tl=ml;function Ol(t){return t!=null&&Pi(t.length)&&!rt(t)}const El=Ol;function Ll(t){return El(t)?ll(t):Tl(t)}const Rl=Ll;function xl(t){return eu(t,Rl,uu)}const Ni=xl;var Sl=1,bl=Object.prototype,Cl=bl.hasOwnProperty;function Il(t,e,r,d,R,x){var W=r&Sl,z=Ni(t),ee=z.length,k=Ni(e),ie=k.length;if(ee!=ie&&!W)return!1;for(var ce=ee;ce--;){var me=z[ce];if(!(W?me in e:Cl.call(e,me)))return!1}var Oe=x.get(t),be=x.get(e);if(Oe&&be)return Oe==e&&be==t;var Ae=!0;x.set(t,e),x.set(e,t);for(var ze=W;++ce<ee;){me=z[ce];var Xe=t[me],et=e[me];if(d)var ht=W?d(et,Xe,me,e,t,x):d(Xe,et,me,t,e,x);if(!(ht===void 0?Xe===et||R(Xe,et,r,d,x):ht)){Ae=!1;break}ze||(ze=me=="constructor")}if(Ae&&!ze){var $e=t.constructor,yt=e.constructor;$e!=yt&&"constructor"in t&&"constructor"in e&&!(typeof $e=="function"&&$e instanceof $e&&typeof yt=="function"&&yt instanceof yt)&&(Ae=!1)}return x.delete(t),x.delete(e),Ae}const Al=Il;var wl=ur(U,"DataView");const Dn=wl;var Pl=ur(U,"Promise");const Bn=Pl;var Ml=ur(U,"Set");const Nn=Ml;var Fl=ur(U,"WeakMap");const Wn=Fl;var Wi="[object Map]",Dl="[object Object]",ki="[object Promise]",Gi="[object Set]",Ui="[object WeakMap]",Hi="[object DataView]",Bl=Rt(Dn),Nl=Rt(Rr),Wl=Rt(Bn),kl=Rt(Nn),Gl=Rt(Wn),$t=de;(Dn&&$t(new Dn(new ArrayBuffer(1)))!=Hi||Rr&&$t(new Rr)!=Wi||Bn&&$t(Bn.resolve())!=ki||Nn&&$t(new Nn)!=Gi||Wn&&$t(new Wn)!=Ui)&&($t=function(t){var e=de(t),r=e==Dl?t.constructor:void 0,d=r?Rt(r):"";if(d)switch(d){case Bl:return Hi;case Nl:return Wi;case Wl:return ki;case kl:return Gi;case Gl:return Ui}return e});const Xi=$t;var Ul=1,ji="[object Arguments]",Ki="[object Array]",Xr="[object Object]",Hl=Object.prototype,Vi=Hl.hasOwnProperty;function Xl(t,e,r,d,R,x){var W=Hr(t),z=Hr(e),ee=W?Ki:Xi(t),k=z?Ki:Xi(e);ee=ee==ji?Xr:ee,k=k==ji?Xr:k;var ie=ee==Xr,ce=k==Xr,me=ee==k;if(me&&Mn(t)){if(!Mn(e))return!1;W=!0,ie=!1}if(me&&!ie)return x||(x=new wn),W||Bi(t)?Li(t,e,r,d,R,x):Zo(t,e,ee,r,d,R,x);if(!(r&Ul)){var Oe=ie&&Vi.call(t,"__wrapped__"),be=ce&&Vi.call(e,"__wrapped__");if(Oe||be){var Ae=Oe?t.value():t,ze=be?e.value():e;return x||(x=new wn),R(Ae,ze,r,d,x)}}return me?(x||(x=new wn),Al(t,e,r,d,R,x)):!1}const jl=Xl;function Yi(t,e,r,d,R){return t===e?!0:t==null||e==null||!Sr(t)&&!Sr(e)?t!==t&&e!==e:jl(t,e,r,d,Yi,R)}const Kl=Yi;function Vl(t,e){return Kl(t,e)}const jr=Vl;function zi(t,e){t.constructor.IDEProps||(t.constructor.IDEProps={}),t.constructor.IDEProps[e]||(t.constructor.IDEProps[e]={});var r=t.constructor.IDEProps[e];return r}function pt(t){return function(e,r){var d=zi(e,r);d.key=r,d.type=t}}function Bt(t){return function(e,r){var d=zi(e,r);d.step=t}}/*!
 * type-signals - v1.1.0
 * https://github.com/englercj/type-signals
 * Compiled Wed, 22 Apr 2020 17:58:58 UTC
 *
 * type-signals is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var Zi=function(){function t(e,r,d){r===void 0&&(r=!1),this.next=null,this.prev=null,this.owner=null,this.fn=e,this.once=r,this.thisArg=d}return t.prototype.detach=function(){return this.owner===null?!1:(this.owner.detach(this),!0)},t.prototype.dispose=function(){this.detach()},t}(),gt=function(){function t(){this._head=null,this._tail=null,this._filter=null}return t.prototype.handlers=function(){for(var e=this._head,r=[];e;)r.push(e),e=e.next;return r},t.prototype.hasAny=function(){return!!this._head},t.prototype.has=function(e){return e.owner===this},t.prototype.dispatch=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var d=this._head;if(!d||this._filter&&!this._filter.apply(this,e))return!1;for(;d;)d.once&&this.detach(d),d.fn.apply(d.thisArg,e),d=d.next;return!0},t.prototype.add=function(e,r){return r===void 0&&(r=null),this._addSignalBinding(new Zi(e,!1,r))},t.prototype.once=function(e,r){return r===void 0&&(r=null),this._addSignalBinding(new Zi(e,!0,r))},t.prototype.detach=function(e){var r=e;return r.owner!==this?this:(r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),r===this._head?(this._head=r.next,r.next===null&&(this._tail=null)):r===this._tail&&(this._tail=r.prev,this._tail&&(this._tail.next=null)),r.owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=null,this._tail=null;e;)e.owner=null,e=e.next;return this},t.prototype.filter=function(e){this._filter=e},t.prototype.proxy=function(){for(var e=this,r=[],d=0;d<arguments.length;d++)r[d]=arguments[d];for(var R=function(){for(var W=[],z=0;z<arguments.length;z++)W[z]=arguments[z];return e.dispatch.apply(e,W)},x=0;x<r.length;++x)r[x].add(R);return this},t.prototype._addSignalBinding=function(e){var r=e;return this._head?(this._tail&&(this._tail.next=r),r.prev=this._tail,this._tail=r):(this._head=r,this._tail=r),r.owner=this,r},t}(),Yl=Et(9571),kn=Et.n(Yl);/*!
 * resource-loader - v4.0.0-rc4
 * https://github.com/englercj/resource-loader
 * Compiled Sun, 08 Mar 2020 16:55:29 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var Kr=function(){function t(e){this.config=e,this.onError=new gt,this.onComplete=new gt,this.onProgress=new gt}return t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Gn=function(t,e){return Gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var R in d)d.hasOwnProperty(R)&&(r[R]=d[R])},Gn(t,e)};function Cr(t,e){Gn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function zl(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var d=Array(t),R=0,e=0;e<r;e++)for(var x=arguments[e],W=0,z=x.length;W<z;W++,R++)d[R]=x[W];return d}function Un(t){var e=t.indexOf("data:")===0,r="";if(e){var d=t.indexOf("/");r=t.substring(d+1,t.indexOf(";",d))}else{var R=t.indexOf("?"),x=t.indexOf("#"),W=Math.min(R>-1?R:t.length,x>-1?x:t.length);t=t.substring(0,W),r=t.substring(t.lastIndexOf(".")+1)}return r.toLowerCase()}function $i(t){throw new Error("Unexpected value. Should have been never.")}var xt;(function(t){t[t.Unknown=0]="Unknown",t[t.Buffer=1]="Buffer",t[t.Blob=2]="Blob",t[t.Json=3]="Json",t[t.Xml=4]="Xml",t[t.Image=5]="Image",t[t.Audio=6]="Audio",t[t.Video=7]="Video",t[t.Text=8]="Text"})(xt||(xt={}));var Gt;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete"})(Gt||(Gt={}));var Hn=function(t){Cr(e,t);function e(r,d){var R=t.call(this,r)||this;return R.elementType=d,R._boundOnLoad=R._onLoad.bind(R),R._boundOnError=R._onError.bind(R),R._boundOnTimeout=R._onTimeout.bind(R),R._element=R._createElement(),R._elementTimer=0,R}return e.prototype.load=function(){var r=this.config;r.crossOrigin&&(this._element.crossOrigin=r.crossOrigin);var d=r.sourceSet||[r.url];if(navigator.isCocoonJS)this._element.src=d[0];else for(var R=0;R<d.length;++R){var x=d[R],W=r.mimeTypes?r.mimeTypes[R]:void 0;W||(W=this.elementType+"/"+Un(x));var z=document.createElement("source");z.src=x,z.type=W,this._element.appendChild(z)}this._element.addEventListener("load",this._boundOnLoad,!1),this._element.addEventListener("canplaythrough",this._boundOnLoad,!1),this._element.addEventListener("error",this._boundOnError,!1),this._element.load(),r.timeout&&(this._elementTimer=window.setTimeout(this._boundOnTimeout,r.timeout))},e.prototype.abort=function(){for(this._clearEvents();this._element.firstChild;)this._element.removeChild(this._element.firstChild);this._error(this.elementType+" load aborted by the user.")},e.prototype._createElement=function(){return this.config.loadElement?this.config.loadElement:document.createElement(this.elementType)},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this._element.removeEventListener("load",this._boundOnLoad,!1),this._element.removeEventListener("canplaythrough",this._boundOnLoad,!1),this._element.removeEventListener("error",this._boundOnError,!1)},e.prototype._error=function(r){this._clearEvents(),this.onError.dispatch(r)},e.prototype._complete=function(){this._clearEvents();var r=xt.Unknown;switch(this.elementType){case"audio":r=xt.Audio;break;case"video":r=xt.Video;break;default:$i(this.elementType)}this.onComplete.dispatch(r,this._element)},e.prototype._onLoad=function(){this._complete()},e.prototype._onError=function(){this._error(this.elementType+" failed to load.")},e.prototype._onTimeout=function(){this._error(this.elementType+" load timed out.")},e}(Kr),Vr=function(t){Cr(e,t);function e(r){return t.call(this,r,"audio")||this}return e}(Hn),Zl="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",Tt=function(t){Cr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._boundOnLoad=r._onLoad.bind(r),r._boundOnError=r._onError.bind(r),r._boundOnTimeout=r._onTimeout.bind(r),r._element=r._createElement(),r._elementTimer=0,r}return e.prototype.load=function(){var r=this.config;r.crossOrigin&&(this._element.crossOrigin=r.crossOrigin),this._element.src=r.url,this._element.addEventListener("load",this._boundOnLoad,!1),this._element.addEventListener("error",this._boundOnError,!1),r.timeout&&(this._elementTimer=window.setTimeout(this._boundOnTimeout,r.timeout))},e.prototype.abort=function(){this._clearEvents(),this._element.src=Zl,this._error("Image load aborted by the user.")},e.prototype._createElement=function(){return this.config.loadElement?this.config.loadElement:document.createElement("img")},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this._element.removeEventListener("load",this._boundOnLoad,!1),this._element.removeEventListener("error",this._boundOnError,!1)},e.prototype._error=function(r){this._clearEvents(),this.onError.dispatch(r)},e.prototype._complete=function(){this._clearEvents(),this.onComplete.dispatch(xt.Image,this._element)},e.prototype._onLoad=function(){this._complete()},e.prototype._onError=function(){this._error("Image failed to load.")},e.prototype._onTimeout=function(){this._error("Image load timed out.")},e}(Kr),Ir=function(t){Cr(e,t);function e(r){return t.call(this,r,"video")||this}return e}(Hn),Yr=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Be;(function(t){t.Default="text",t.Buffer="arraybuffer",t.Blob="blob",t.Document="document",t.Json="json",t.Text="text"})(Be||(Be={}));function Xn(t){return t.toString().replace("object ","")}var bt=function(t){Cr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._boundOnLoad=r._onLoad.bind(r),r._boundOnAbort=r._onAbort.bind(r),r._boundOnError=r._onError.bind(r),r._boundOnTimeout=r._onTimeout.bind(r),r._boundOnProgress=r._onProgress.bind(r),r._xhr=r._createRequest(),r._xhrType=Be.Default,r}return e.prototype.load=function(){var r=this.config,d=Un(r.url);typeof r.xhrType!="string"&&(r.xhrType=this._determineXhrType(d));var R=this._xhr;this._xhrType=r.xhrType||Be.Default,Yr?(R.timeout=r.timeout||5e3,R.onload=this._boundOnLoad,R.onerror=this._boundOnError,R.ontimeout=this._boundOnTimeout,R.onprogress=this._boundOnProgress,R.open("GET",r.url,!0),setTimeout(function(){R.send()},0)):(R.open("GET",r.url,!0),r.timeout&&(R.timeout=r.timeout),r.xhrType===Be.Json||r.xhrType===Be.Document?R.responseType=Be.Text:R.responseType=r.xhrType,R.addEventListener("load",this._boundOnLoad,!1),R.addEventListener("abort",this._boundOnAbort,!1),R.addEventListener("error",this._boundOnError,!1),R.addEventListener("timeout",this._boundOnTimeout,!1),R.addEventListener("progress",this._boundOnProgress,!1),R.send())},e.prototype.abort=function(){Yr?(this._clearEvents(),this._xhr.abort(),this._onAbort()):this._xhr.abort()},e.prototype._createRequest=function(){return Yr?new window.XDomainRequest:new XMLHttpRequest},e.prototype._determineXhrType=function(r){return e._xhrTypeMap[r]||Be.Default},e.prototype._clearEvents=function(){Yr?(this._xhr.onload=null,this._xhr.onerror=null,this._xhr.ontimeout=null,this._xhr.onprogress=null):(this._xhr.removeEventListener("load",this._boundOnLoad,!1),this._xhr.removeEventListener("abort",this._boundOnAbort,!1),this._xhr.removeEventListener("error",this._boundOnError,!1),this._xhr.removeEventListener("timeout",this._boundOnTimeout,!1),this._xhr.removeEventListener("progress",this._boundOnProgress,!1))},e.prototype._error=function(r){this._clearEvents(),this.onError.dispatch(r)},e.prototype._complete=function(r,d){this._clearEvents(),this.onComplete.dispatch(r,d)},e.prototype._onLoad=function(){var r=this._xhr,d="",R=typeof r.status=="undefined"?200:r.status;(typeof r.responseType=="undefined"||r.responseType===""||r.responseType==="text")&&(d=r.responseText),R===0&&(d.length>0||r.responseType===Be.Buffer)?R=200:R===1223&&(R=204);var x=Math.floor(R/100)*100;if(x!==200){this._error("["+r.status+"] "+r.statusText+": "+r.responseURL);return}switch(this._xhrType){case Be.Buffer:this._complete(xt.Buffer,r.response);break;case Be.Blob:this._complete(xt.Blob,r.response);break;case Be.Document:this._parseDocument(d);break;case Be.Json:this._parseJson(d);break;case Be.Default:case Be.Text:this._complete(xt.Text,d);break;default:$i(this._xhrType)}},e.prototype._parseDocument=function(r){try{if(window.DOMParser){var d=new DOMParser,R=d.parseFromString(r,"text/xml");this._complete(xt.Xml,R)}else{var x=document.createElement("div");x.innerHTML=r,this._complete(xt.Xml,x)}}catch(W){this._error("Error trying to parse loaded xml: "+W)}},e.prototype._parseJson=function(r){try{var d=JSON.parse(r);this._complete(xt.Json,d)}catch(R){this._error("Error trying to parse loaded json: "+R)}},e.prototype._onAbort=function(){var r=this._xhr;this._error(Xn(r)+" Request was aborted by the user.")},e.prototype._onError=function(){var r=this._xhr;this._error(Xn(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},e.prototype._onTimeout=function(){var r=this._xhr;this._error(Xn(r)+" Request timed out.")},e.prototype._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(r.loaded/r.total)},e.setExtensionXhrType=function(r,d){r&&r.indexOf(".")===0&&(r=r.substring(1)),!!r&&(e._xhrTypeMap[r]=d)},e.ResponseType=Be,e._xhrTypeMap={xhtml:Be.Document,html:Be.Document,htm:Be.Document,xml:Be.Document,tmx:Be.Document,svg:Be.Document,tsx:Be.Document,gif:Be.Blob,png:Be.Blob,bmp:Be.Blob,jpg:Be.Blob,jpeg:Be.Blob,tif:Be.Blob,tiff:Be.Blob,webp:Be.Blob,tga:Be.Blob,json:Be.Json,text:Be.Text,txt:Be.Text,ttf:Be.Buffer,otf:Be.Buffer},e}(Kr);function $l(t){var e=t;return function(){for(var d=[],R=0;R<arguments.length;R++)d[R]=arguments[R];if(e===null)throw new Error("Callback was already called.");var x=e;return e=null,x.apply(this,d)}}var Jl=function(){function t(e,r){if(r===void 0&&(r=1),this.worker=e,this.concurrency=r,this.workers=0,this.buffer=0,this.paused=!1,this._started=!1,this._tasks=[],this.onSaturated=new gt,this.onUnsaturated=new gt,this.onEmpty=new gt,this.onDrain=new gt,this.onError=new gt,r===0)throw new Error("Concurrency must not be zero");this.buffer=r/4}return Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.onDrain.detachAll(),this.workers=0,this._started=!1,this._tasks=[]},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.process=function(){for(;!this.paused&&this.workers<this.concurrency&&this._tasks.length;){var e=this._tasks.shift();this._tasks.length===0&&this.onEmpty.dispatch(),this.workers+=1,this.workers===this.concurrency&&this.onSaturated.dispatch(),this.worker(e.data,$l(this._next(e)))}},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.prototype.getTask=function(e){return this._tasks[e]},t.prototype._insert=function(e,r,d){var R=this;if(d!=null&&typeof d!="function")throw new Error("task callback must be a function");if(this._started=!0,e==null&&this.idle()){setTimeout(function(){return R.onDrain.dispatch()},1);return}var x={data:e,callback:d};r?this._tasks.unshift(x):this._tasks.push(x),setTimeout(function(){return R.process()},1)},t.prototype._next=function(e){var r=this;return function(d){for(var R=[],x=1;x<arguments.length;x++)R[x-1]=arguments[x];r.workers-=1,e.callback&&e.callback.apply(e,zl([d],R)),d&&r.onError.dispatch(d,e.data),r.workers<=r.concurrency-r.buffer&&r.onUnsaturated.dispatch(),r.idle()&&r.onDrain.dispatch(),r.process()}},t}(),Ji=function(){function t(e,r){if(this.children=[],this.onStart=new gt,this.onProgress=new gt,this.onComplete=new gt,this.onAfterMiddleware=new gt,this.data=null,this.type=xt.Unknown,this.error="",this.progressChunk=0,this._dequeue=function(){},this._onCompleteBinding=null,this._state=Gt.NotStarted,this.name=e,this.metadata=r.metadata,typeof r.crossOrigin!="string"&&(r.crossOrigin=this._determineCrossOrigin(r.url)),r.strategy&&typeof r.strategy!="function")this._strategy=r.strategy,this._strategy.config=r;else{var d=r.strategy;d||(d=t._loadStrategyMap[Un(r.url)]),d||(d=t._defaultLoadStrategy),this._strategy=new d(r)}this._strategy.onError.add(this._error,this),this._strategy.onComplete.add(this._complete,this),this._strategy.onProgress.add(this._progress,this)}return t.setDefaultLoadStrategy=function(e){t._defaultLoadStrategy=e},t.setLoadStrategy=function(e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),!!e&&(t._loadStrategyMap[e]=r)},Object.defineProperty(t.prototype,"strategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._strategy.config.url},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._state===Gt.Loading},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._state===Gt.Complete},enumerable:!0,configurable:!0}),t.prototype.abort=function(){this._strategy.abort()},t.prototype.load=function(){this._state=Gt.Loading,this.onStart.dispatch(this),this._strategy.load()},t.prototype._error=function(e){this._state=Gt.Complete,this.error=e,this.onComplete.dispatch(this)},t.prototype._complete=function(e,r){this._state=Gt.Complete,this.type=e,this.data=r,this.onComplete.dispatch(this)},t.prototype._progress=function(e){this.onProgress.dispatch(this,e)},t.prototype._determineCrossOrigin=function(e,r){if(r===void 0&&(r=window.location),e.indexOf("data:")===0||e.indexOf("javascript:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";t._tempAnchor||(t._tempAnchor=document.createElement("a")),t._tempAnchor.href=e;var d=kn()(t._tempAnchor.href,{strictMode:!0}),R=!d.port&&r.port===""||d.port===r.port,x=d.protocol?d.protocol+":":"";return d.host!==r.hostname||!R||x!==r.protocol?"anonymous":""},t._tempAnchor=null,t._defaultLoadStrategy=bt,t._loadStrategyMap={gif:Tt,png:Tt,bmp:Tt,jpg:Tt,jpeg:Tt,tif:Tt,tiff:Tt,webp:Tt,tga:Tt,svg:Tt,"svg+xml":Tt,mp3:Vr,ogg:Vr,wav:Vr,mp4:Ir,webm:Ir,mov:Ir},t}();function Ql(t,e,r,d){d===void 0&&(d=!1);var R=0,x=t.length;(function W(z){if(z||R===x){r&&r(z);return}d?setTimeout(function(){return e(t[R++],W)},1):e(t[R++],W)})()}var jn=100,ql=/(#[\w-]+)?$/,Qi=function(){function t(e,r){e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this.resources={},this.onError=new gt,this.onLoad=new gt,this.onStart=new gt,this.onComplete=new gt,this.onProgress=new gt,this._baseUrl="",this._urlResolvers=[],this._middleware=[],this._resourcesParsing=[],this._boundLoadResource=this._loadResource.bind(this),this.baseUrl=e,this._queue=new Jl(this._boundLoadResource,r),this._queue.pause(),this._middleware=t._defaultMiddleware.slice()}return Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this._baseUrl},set:function(e){for(;e.length&&e.charAt(e.length-1)==="/";)e=e.slice(0,-1);this._baseUrl=e},enumerable:!0,configurable:!0}),t.prototype.add=function(e,r){if(Array.isArray(e)){for(var d=0;d<e.length;++d)this.add(e[d]);return this}var R="",x="",W=this._baseUrl,z={url:""};if(typeof e=="object"?(R=e.url,x=e.name||e.url,W=e.baseUrl||W,z=e):(x=e,typeof r=="string"?R=r:R=x),!R)throw new Error("You must specify the `url` property.");if(this.loading&&!z.parentResource)throw new Error("Cannot add root resources while the loader is running.");if(this.resources[x])throw new Error('Resource named "'+x+'" already exists.');R=this._prepareUrl(R,W),z.url=R;var ee=new Ji(x,z);if(this.resources[x]=ee,typeof z.onComplete=="function"&&ee.onAfterMiddleware.once(z.onComplete),this.loading){for(var k=z.parentResource,ie=[],d=0;d<k.children.length;++d)k.children[d].isComplete||ie.push(k.children[d]);var ce=k.progressChunk*(ie.length+1),me=ce/(ie.length+2);k.children.push(ee),k.progressChunk=me;for(var d=0;d<ie.length;++d)ie[d].progressChunk=me;ee.progressChunk=me}return this._queue.push(ee),this},t.prototype.use=function(e,r){return r===void 0&&(r=t.DefaultMiddlewarePriority),this._middleware.push({fn:e,priority:r}),this._middleware.sort(function(d,R){return d.priority-R.priority}),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.reset(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];!r||(r._onCompleteBinding&&r._onCompleteBinding.detach(),r.isLoading&&r.abort())}return this.resources={},this},t.prototype.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue.length(),d=jn/r,R=0;R<this._queue.length();++R)this._queue.getTask(R).data.progressChunk=d;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!0,configurable:!0}),t.prototype.addUrlResolver=function(e){return this._urlResolvers.push(e),this},t.prototype._prepareUrl=function(e,r){var d=kn()(e,{strictMode:!0});if(this._urlResolvers.forEach(function(W){e=W(e,d),d=kn()(e,{strictMode:!0})}),!d.protocol&&e.indexOf("//")!==0&&(r.length&&e.charAt(0)!=="/"?e=r+"/"+e:e=r+e),this.defaultQueryString){var R=ql.exec(e);if(R){var x=R[0];e=e.substr(0,e.length-x.length),e.indexOf("?")!==-1?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=x}}return e},t.prototype._loadResource=function(e,r){e._dequeue=r,e._onCompleteBinding=e.onComplete.once(this._onLoad,this),e.load()},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=jn,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onCompleteBinding=null,this._resourcesParsing.push(e),e._dequeue(),Ql(this._middleware,function(d,R){d.fn.call(r,e,R)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(jn,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.use=function(e,r){return r===void 0&&(r=t.DefaultMiddlewarePriority),t._defaultMiddleware.push({fn:e,priority:r}),t._defaultMiddleware.sort(function(d,R){return d.priority-R.priority}),t},t.DefaultMiddlewarePriority=50,t._defaultMiddleware=[],t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Kn=function(t,e){return Kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var R in d)d.hasOwnProperty(R)&&(r[R]=d[R])},Kn(t,e)};function fr(t,e){Kn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Jt(t,e,r,d){var R=arguments.length,x=R<3?e:d===null?d=Object.getOwnPropertyDescriptor(e,r):d,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,e,r,d);else for(var z=t.length-1;z>=0;z--)(W=t[z])&&(x=(R<3?W(x):R>3?W(e,r,x):W(e,r))||x);return R>3&&x&&Object.defineProperty(e,r,x),x}function Qt(t,e,r,d){return new(r||(r=Promise))(function(R,x){function W(k){try{ee(d.next(k))}catch(ie){x(ie)}}function z(k){try{ee(d.throw(k))}catch(ie){x(ie)}}function ee(k){k.done?R(k.value):new r(function(ie){ie(k.value)}).then(W,z)}ee((d=d.apply(t,e||[])).next())})}function qt(t,e){var r={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,R,x,W;return W={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function z(k){return function(ie){return ee([k,ie])}}function ee(k){if(d)throw new TypeError("Generator is already executing.");for(;r;)try{if(d=1,R&&(x=k[0]&2?R.return:k[0]?R.throw||((x=R.return)&&x.call(R),0):R.next)&&!(x=x.call(R,k[1])).done)return x;switch(R=0,x&&(k=[k[0]&2,x.value]),k[0]){case 0:case 1:x=k;break;case 4:return r.label++,{value:k[1],done:!1};case 5:r.label++,R=k[1],k=[0];continue;case 7:k=r.ops.pop(),r.trys.pop();continue;default:if(x=r.trys,!(x=x.length>0&&x[x.length-1])&&(k[0]===6||k[0]===2)){r=0;continue}if(k[0]===3&&(!x||k[1]>x[0]&&k[1]<x[3])){r.label=k[1];break}if(k[0]===6&&r.label<x[1]){r.label=x[1],x=k;break}if(x&&r.label<x[2]){r.label=x[2],r.ops.push(k);break}x[2]&&r.ops.pop(),r.trys.pop();continue}k=e.call(t,r)}catch(ie){k=[6,ie],R=0}finally{d=x=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}function at(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function ec(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var d=r.call(t),R,x=[],W;try{for(;(e===void 0||e-- >0)&&!(R=d.next()).done;)x.push(R.value)}catch(z){W={error:z}}finally{try{R&&!R.done&&(r=d.return)&&r.call(d)}finally{if(W)throw W.error}}return x}function zr(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ec(arguments[e]));return t}function tc(t){if(t instanceof qi)return t.name;if(t instanceof Function)return t.componentName}var qi=function(t){fr(e,t);function e(r){var d=t.call(this)||this;return d.started=!1,d.name=d.constructor.componentName,d.__componentDefaultParams=r,d}return e}(E()),lt=qi,Qe;(function(t){t.ADD="ADD",t.REMOVE="REMOVE",t.CHANGE="CHANGE"})(Qe||(Qe={}));var Zr={},$r={},er={},pr={};function rc(t,e){Zr[t.gameObject.id]||(Zr[t.gameObject.id]={});var r=Zr[t.gameObject.id],d=t.name+"_"+e.join(",");if(r[d])return r[d];for(var R=e.length-1,x=t,W=0;W<R;W++)x=x[e[W]];return r[d]={property:x,key:e[R]},r[d]}function nc(t){t.gameObject&&delete Zr[t.gameObject.id]}function ic(t){var e,r,d=t.systemName,R=t.componentName,x=t.component,W=t.prop,z=t.type;(r=(e=$r[d])===null||e===void 0?void 0:e.componentObserver)===null||r===void 0||r.add({component:x,prop:W,type:z,componentName:R})}function sc(t){var e=t.prop,r=t.component,d=t.componentName;for(var R in er){var x=er[R]||{},W=x[d];if(!!W){var z=W.findIndex(function(ee){return jr(ee,e)});z>-1&&ic({systemName:R,componentName:d,component:r,prop:e,type:Qe.CHANGE})}}}function es(t){var e,r,d=t.obj,R=t.key,x=t.prop,W=t.component,z=t.componentName;if(d!==void 0){if(!(R in d)){console.error("prop "+R+" not in component: "+z+", Can not observer");return}if(Object.defineProperty(d,"_"+R,{enumerable:!1,writable:!0,value:d[R]}),x.deep&&Fe(d[R]))try{for(var ee=at(Object.keys(d[R])),k=ee.next();!k.done;k=ee.next()){var ie=k.value;es({obj:d[R],key:ie,prop:x,component:W,componentName:z})}}catch(ce){e={error:ce}}finally{try{k&&!k.done&&(r=ee.return)&&r.call(ee)}finally{if(e)throw e.error}}Object.defineProperty(d,R,{enumerable:!0,set:function(ce){d["_"+R]!==ce&&(d["_"+R]=ce,sc({prop:x,component:W,componentName:z}))},get:function(){return d["_"+R]}})}}function ac(t){return t&&t.constructor&&"componentName"in t.constructor}function oc(t){var e,r,d,R,x=[];t instanceof Array?x.push.apply(x,zr(t)):x.push(t);try{for(var W=at(x),z=W.next();!z.done;z=W.next()){var ee=z.value;for(var k in ee.observerInfo){pr[k]=pr[k]||[];var ie=pr[k],ce=function(Ae){var ze=ie.findIndex(function(Xe){return jr(Xe,Ae)});ze===-1&&pr[k].push(Ae)};try{for(var me=(d=void 0,at(ee.observerInfo[k])),Oe=me.next();!Oe.done;Oe=me.next()){var be=Oe.value;ce(be)}}catch(Ae){d={error:Ae}}finally{try{Oe&&!Oe.done&&(R=me.return)&&R.call(me)}finally{if(d)throw d.error}}}}}catch(Ae){e={error:Ae}}finally{try{z&&!z.done&&(r=W.return)&&r.call(W)}finally{if(e)throw e.error}}}function uc(t,e){var r,d;if(e===void 0&&(e=t.name),!(!e||!pr[e])){if(!t||!ac(t))throw new Error("component param must be an instance of Component");if(!t.gameObject||!t.gameObject.id)throw new Error("component should be add to a gameObject");try{for(var R=at(pr[e]),x=R.next();!x.done;x=R.next()){var W=x.value,z=rc(t,W.prop),ee=z.property,k=z.key;es({obj:ee,key:k,prop:W,component:t,componentName:e})}}catch(ie){r={error:ie}}finally{try{x&&!x.done&&(d=R.return)&&d.call(R)}finally{if(r)throw r.error}}}}function lc(t,e){var r,d;e===void 0&&(e=t.name);for(var R in er){var x=er[R]||{},W=x[e];W&&((d=(r=$r[R])===null||r===void 0?void 0:r.componentObserver)===null||d===void 0||d.add({component:t,type:Qe.ADD,componentName:e}))}}function cc(t,e){var r,d;e===void 0&&(e=t.name);for(var R in er){var x=er[R]||{},W=x[e];W&&((d=(r=$r[R])===null||r===void 0?void 0:r.componentObserver)===null||d===void 0||d.add({component:t,type:Qe.REMOVE,componentName:e}))}nc(t)}function hc(t,e){er[e.systemName]=e.observerInfo,$r[e.systemName]=t}var fc=function(t){fr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="Transform",r._parent=null,r.inScene=!1,r.children=[],r.position={x:0,y:0},r.size={width:0,height:0},r.origin={x:0,y:0},r.anchor={x:0,y:0},r.scale={x:1,y:1},r.skew={x:0,y:0},r.rotation=0,r}return e.prototype.init=function(r){var d,R;r===void 0&&(r={});var x=["position","size","origin","anchor","scale","skew"];try{for(var W=at(x),z=W.next();!z.done;z=W.next()){var ee=z.value;Object.assign(this[ee],r[ee])}}catch(k){d={error:k}}finally{try{z&&!z.done&&(R=W.return)&&R.call(W)}finally{if(d)throw d.error}}this.rotation=r.rotation||this.rotation},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(r){r?r.addChild(this):this.parent&&this.parent.removeChild(this)},enumerable:!1,configurable:!0}),e.prototype.addChild=function(r){if(r.parent===this){var d=this.children.findIndex(function(R){return R===r});this.children.splice(d,1)}else r.parent&&r.parent.removeChild(r);r._parent=this,this.children.push(r)},e.prototype.removeChild=function(r){var d=this.children.findIndex(function(R){return R===r});d>-1&&(this.children.splice(d,1),r._parent=null)},e.prototype.clearChildren=function(){this.children.length=0},e.componentName="Transform",Jt([pt("vector2"),Bt(1)],e.prototype,"position",void 0),Jt([pt("size"),Bt(1)],e.prototype,"size",void 0),Jt([pt("vector2"),Bt(.1)],e.prototype,"origin",void 0),Jt([pt("vector2"),Bt(.1)],e.prototype,"anchor",void 0),Jt([pt("vector2"),Bt(.1)],e.prototype,"scale",void 0),Jt([pt("vector2"),Bt(.1)],e.prototype,"skew",void 0),Jt([pt("number"),Bt(.1)],e.prototype,"rotation",void 0),e}(lt),ts=fc,pc=0;function dc(){return++pc}var _c=function(){function t(e,r){this._componentCache={},this.components=[],this._name=e,this.id=dc(),this.addComponent(ts,r)}return Object.defineProperty(t.prototype,"transform",{get:function(){return this.getComponent(ts)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.transform&&this.transform.parent&&this.transform.parent.gameObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scene",{get:function(){return this._scene},set:function(e){var r,d;if(this._scene!==e){var R=this._scene;if(this._scene=e,this.transform&&this.transform.children)try{for(var x=at(this.transform.children),W=x.next();!W.done;W=x.next()){var z=W.value;z.gameObject.scene=e}}catch(ee){r={error:ee}}finally{try{W&&!W.done&&(d=x.return)&&d.call(x)}finally{if(r)throw r.error}}e?e.addGameObject(this):R&&R.removeGameObject(this)}},enumerable:!1,configurable:!0}),t.prototype.addChild=function(e){if(!(!e||!e.transform||e===this)){if(!(e instanceof t))throw new Error("addChild only receive GameObject");if(!this.transform)throw new Error("gameObject '"+this.name+"' has been destroy");e.transform.parent=this.transform,e.scene=this.scene}},t.prototype.removeChild=function(e){return!(e instanceof t)||!e.parent||e.parent!==this||(e.transform.parent=null,e.scene=null),e},t.prototype.addComponent=function(e,r){var d=tc(e);if(!this._componentCache[d]){var R;if(e instanceof Function)R=new e(r);else if(e instanceof lt)R=e;else throw new Error("addComponent recieve Component and Component Constructor");if(R.gameObject)throw new Error("component has been added on gameObject "+R.gameObject.name);return R.gameObject=this,R.init&&R.init(R.__componentDefaultParams),lc(R,R.name),uc(R,R.name),this.components.push(R),this._componentCache[d]=R,R.awake&&R.awake(),R}},t.prototype.removeComponent=function(e){var r;if(typeof e=="string"?r=e:e instanceof lt?r=e.name:e.componentName&&(r=e.componentName),r==="Transform")throw new Error("Transform can't be removed");return this._removeComponent(r)},t.prototype._removeComponent=function(e){var r=this.components.findIndex(function(R){var x=R.name;return x===e});if(r!==-1){var d=this.components.splice(r,1)[0];return delete this._componentCache[e],delete d.__componentDefaultParams,d.onDestroy&&d.onDestroy(),cc(d,e),d.gameObject=void 0,d}},t.prototype.getComponent=function(e){var r;if(typeof e=="string"?r=e:e instanceof lt?r=e.name:e.componentName&&(r=e.componentName),typeof this._componentCache[r]!="undefined")return this._componentCache[r]},t.prototype.remove=function(){if(this.parent)return this.parent.removeChild(this)},t.prototype.destroy=function(){if(!this.transform){console.error("Cannot destroy gameObject that have already been destroyed.");return}Array.from(this.transform.children).forEach(function(r){var d=r.gameObject;d.destroy()}),this.remove(),this.transform.clearChildren();for(var e in this._componentCache)this._removeComponent(e);this.components.length=0},t}(),tt=_c,yc=function(){function t(){this.events=[]}return t.prototype.add=function(e){var r=e.component,d=e.prop,R=e.type,x=e.componentName;if(R===Qe.REMOVE){if(this.events.find(function(z){return z.component===r&&z.type===Qe.ADD})){this.events=this.events.filter(function(z){return z.component!==r});return}this.events=this.events.filter(function(z){return z.component!==r})}var W=this.events.findIndex(function(z){return z.component===r&&jr(z.prop,d)&&z.type===R});W>-1&&this.events.splice(W,1),this.events.push({gameObject:r.gameObject,component:r,prop:d,type:R,componentName:x})},t.prototype.getChanged=function(){return this.events},Object.defineProperty(t.prototype,"changed",{get:function(){return this.events},enumerable:!1,configurable:!0}),t.prototype.clear=function(){var e=this.events;return this.events=[],e},t}(),vc=yc,gc=function(){function t(e){this.started=!1,this.componentObserver=new vc,this.__systemDefaultParams=e,this.name=this.constructor.systemName}return t.prototype.destroy=function(){var e;this.componentObserver=null,this.__systemDefaultParams=null,(e=this.onDestroy)===null||e===void 0||e.call(this)},t}(),dr=gc;function mc(){var t=null;return Date.now?t=Date.now:t=function(){return new Date().getTime()},t}var rs=mc(),Tc={originTime:0,playbackRate:1},Oc=function(){function t(e,r){e instanceof t&&(r=e,e={}),e=Object.assign({},Tc,e),r&&(this._parent=r),this._createTime=rs(),this._timeMark=[{globalTime:this.globalTime,localTime:-e.originTime,entropy:-e.originTime,playbackRate:e.playbackRate,globalEntropy:0}],this._parent&&(this._timeMark[0].globalEntropy=this._parent.entropy),this._playbackRate=e.playbackRate}return Object.defineProperty(t.prototype,"globalTime",{get:function(){return this.parent?this.parent.currentTime:rs()-this._createTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastTimeMark",{get:function(){return this._timeMark[this._timeMark.length-1]},enumerable:!1,configurable:!0}),t.prototype.markTime=function(e){var r=e===void 0?{}:e,d=r.time,R=d===void 0?this.currentTime:d,x=r.entropy,W=x===void 0?this.entropy:x,z=r.playbackRate,ee=z===void 0?this.playbackRate:z,k={globalTime:this.globalTime,localTime:R,entropy:W,playbackRate:ee,globalEntropy:this.globalEntropy};this._timeMark.push(k)},Object.defineProperty(t.prototype,"currentTime",{get:function(){var e=this.lastTimeMark,r=e.localTime,d=e.globalTime;return r+(this.globalTime-d)*this.playbackRate},set:function(e){this.markTime({time:e})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"globalEntropy",{get:function(){return this._parent?this._parent.entropy:this.globalTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"entropy",{get:function(){var e=this.lastTimeMark,r=e.entropy,d=e.globalEntropy;return r+Math.abs((this.globalEntropy-d)*this.playbackRate)},set:function(e){if(this.entropy>e){var r=this.seekTimeMark(e);this._timeMark.length=r+1}this.markTime({entropy:e})},enumerable:!1,configurable:!0}),t.prototype.fork=function(e){return new t(e,this)},t.prototype.seekGlobalTime=function(e){var r=this.seekTimeMark(e),d=this._timeMark[r],R=d.entropy,x=d.playbackRate,W=d.globalTime;return W+(e-R)/Math.abs(x)},t.prototype.seekLocalTime=function(e){var r=this.seekTimeMark(e),d=this._timeMark[r],R=d.localTime,x=d.entropy,W=d.playbackRate;return W>0?R+(e-x):R-(e-x)},t.prototype.seekTimeMark=function(e){var r=this._timeMark,d=0,R=r.length-1;if(e<=r[d].entropy)return d;if(e>=r[R].entropy)return R;for(var x=Math.floor((d+R)/2);x>d&&x<R;){if(e===r[x].entropy)return x;e<r[x].entropy?R=x:e>r[x].entropy&&(d=x),x=Math.floor((d+R)/2)}return d},Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(e){e!==this.playbackRate&&(this.markTime({playbackRate:e}),this._playbackRate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){if(this.playbackRate===0)return!0;for(var e=this.parent;e;){if(e.playbackRate===0)return!0;e=e.parent}return!1},enumerable:!1,configurable:!0}),t}(),Ec=Oc,Lc={autoStart:!0,frameRate:60},Rc=function(){function t(e){var r=this;e=Object.assign({},Lc,e),this._frameCount=0,this._frameDuration=1e3/e.frameRate,this.autoStart=e.autoStart,this.frameRate=e.frameRate,this.timeline=new Ec({originTime:0,playbackRate:1}),this._lastFrameTime=this.timeline.currentTime,this._tickers=new Set,this._requestId=null,this._ticker=function(){r._started&&(r._requestId=requestAnimationFrame(r._ticker),r.update())},this.autoStart&&this.start()}return t.prototype.update=function(){var e,r,d=this.timeline.currentTime,R=d-this._lastFrameTime;if(R>=this._frameDuration){var x=d-R%this._frameDuration,W=x-this._lastFrameTime;this._lastFrameTime=x;var z={deltaTime:W,time:x,currentTime:x,frameCount:++this._frameCount,fps:Math.round(1e3/W)};try{for(var ee=at(this._tickers),k=ee.next();!k.done;k=ee.next()){var ie=k.value;typeof ie=="function"&&ie(z)}}catch(ce){e={error:ce}}finally{try{k&&!k.done&&(r=ee.return)&&r.call(ee)}finally{if(e)throw e.error}}}},t.prototype.add=function(e){this._tickers.add(e)},t.prototype.remove=function(e){this._tickers.delete(e)},t.prototype.start=function(){this._started||(this._started=!0,this.timeline.playbackRate=1,this._requestId=requestAnimationFrame(this._ticker))},t.prototype.pause=function(){this._started=!1,this.timeline.playbackRate=0},t.prototype.setPlaybackRate=function(e){this.timeline.playbackRate=e},t}(),xc=Rc,Sc=function(t){fr(e,t);function e(r,d){var R=t.call(this,r,d)||this;return R.gameObjects=[],R.scene=R,R}return e.prototype.addGameObject=function(r){this.gameObjects.push(r),r.transform&&(r.transform.inScene=!0)},e.prototype.removeGameObject=function(r){var d=this.gameObjects.indexOf(r);d!==-1&&(r.transform&&(r.transform.inScene=!1),this.gameObjects.splice(d,1))},e.prototype.destroy=function(){this.scene=null,t.prototype.destroy.call(this),this.gameObjects=null,this.canvas=null},e}(tt),Jr=Sc,tr;(function(t){t.SINGLE="SINGLE",t.MULTI_CANVAS="MULTI_CANVAS"})(tr||(tr={}));var ns=function(t){if(!(!(t instanceof dr)&&!(t instanceof lt))&&!t.started){t.started=!0;try{t.start&&t.start()}catch(e){t instanceof lt?console.error(t.constructor.componentName+" start error",e):console.error(t.constructor.systemName+" start error",e)}}},bc=function(t){var e,r,d,R=((d=t==null?void 0:t.scene)===null||d===void 0?void 0:d.gameObjects)||[],x=t==null?void 0:t.multiScenes.map(function(ie){var ce=ie.gameObjects;return ce}),W=[];try{for(var z=at(x),ee=z.next();!ee.done;ee=z.next()){var k=ee.value;W=zr(W,k)}}catch(ie){e={error:ie}}finally{try{ee&&!ee.done&&(r=z.return)&&r.call(z)}finally{if(e)throw e.error}}return zr(R,W)},Cc=function(t,e){var r,d,R,x,W,z,ee,k;e===void 0&&(e=[]);try{for(var ie=at(e),ce=ie.next();!ce.done;ce=ie.next()){var me=ce.value;try{for(var Oe=(R=void 0,at(me.components)),be=Oe.next();!be.done;be=Oe.next()){var Ae=be.value;try{ns(Ae),Ae.update&&Ae.update(t)}catch($e){console.error("gameObject: "+me.name+" "+Ae.name+" update error",$e)}}}catch($e){R={error:$e}}finally{try{be&&!be.done&&(x=Oe.return)&&x.call(Oe)}finally{if(R)throw R.error}}}}catch($e){r={error:$e}}finally{try{ce&&!ce.done&&(d=ie.return)&&d.call(ie)}finally{if(r)throw r.error}}try{for(var ze=at(e),Xe=ze.next();!Xe.done;Xe=ze.next()){var me=Xe.value;try{for(var et=(ee=void 0,at(me.components)),ht=et.next();!ht.done;ht=et.next()){var Ae=ht.value;try{Ae.lateUpdate&&Ae.lateUpdate(t)}catch(Dt){console.error("gameObject: "+me.name+" "+Ae.name+" lateUpdate error",Dt)}}}catch(yt){ee={error:yt}}finally{try{ht&&!ht.done&&(k=et.return)&&k.call(et)}finally{if(ee)throw ee.error}}}}catch($e){W={error:$e}}finally{try{Xe&&!Xe.done&&(z=ze.return)&&z.call(ze)}finally{if(W)throw W.error}}},Ic=function(t){var e,r,d,R;try{for(var x=at(t),W=x.next();!W.done;W=x.next()){var z=W.value;try{for(var ee=(d=void 0,at(z.components)),k=ee.next();!k.done;k=ee.next()){var ie=k.value;try{ie.onResume&&ie.onResume()}catch(ce){console.error("gameObject: "+z.name+", "+ie.name+", onResume error",ce)}}}catch(ce){d={error:ce}}finally{try{k&&!k.done&&(R=ee.return)&&R.call(ee)}finally{if(d)throw d.error}}}}catch(ce){e={error:ce}}finally{try{W&&!W.done&&(r=x.return)&&r.call(x)}finally{if(e)throw e.error}}},Ac=function(t){var e,r,d,R;try{for(var x=at(t),W=x.next();!W.done;W=x.next()){var z=W.value;try{for(var ee=(d=void 0,at(z.components)),k=ee.next();!k.done;k=ee.next()){var ie=k.value;try{ie.onPause&&ie.onPause()}catch(ce){console.error("gameObject: "+z.name+", "+ie.name+", onResume error",ce)}}}catch(ce){d={error:ce}}finally{try{k&&!k.done&&(R=ee.return)&&R.call(ee)}finally{if(d)throw d.error}}}}catch(ce){e={error:ce}}finally{try{W&&!W.done&&(r=x.return)&&r.call(x)}finally{if(e)throw e.error}}},wc=function(t){fr(e,t);function e(r){var d,R,x=r===void 0?{}:r,W=x.systems,z=x.frameRate,ee=z===void 0?60:z,k=x.autoStart,ie=k===void 0?!0:k,ce=x.needScene,me=ce===void 0?!0:ce,Oe=t.call(this)||this;if(Oe.playing=!1,Oe.started=!1,Oe.multiScenes=[],Oe.systems=[],window.__EVA_INSPECTOR_ENV__&&(window.__EVA_GAME_INSTANCE__=Oe),Oe.ticker=new xc({autoStart:!1,frameRate:ee}),Oe.initTicker(),W&&W.length)try{for(var be=at(W),Ae=be.next();!Ae.done;Ae=be.next()){var ze=Ae.value;Oe.addSystem(ze)}}catch(Xe){d={error:Xe}}finally{try{Ae&&!Ae.done&&(R=be.return)&&R.call(be)}finally{if(d)throw d.error}}return me&&Oe.loadScene(new Jr("scene")),ie&&Oe.start(),Oe}return Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},set:function(r){this._scene=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameObjects",{get:function(){return bc(this)},enumerable:!1,configurable:!0}),e.prototype.addSystem=function(r,d){var R;if(r instanceof Function)R=new r(d);else if(r instanceof dr)R=r;else{console.warn("can only add System");return}var x=this.systems.find(function(W){return W.constructor===R.constructor});if(x){console.warn(R.constructor.systemName+" System has been added");return}R.game=this,R.init&&R.init(R.__systemDefaultParams),hc(R,R.constructor),oc(R.constructor);try{R.awake&&R.awake()}catch(W){console.error(R.constructor.systemName+" awake error",W)}return this.systems.push(R),R},e.prototype.removeSystem=function(r){if(!!r){var d=-1;typeof r=="string"?d=this.systems.findIndex(function(R){return R.name===r}):r instanceof Function?d=this.systems.findIndex(function(R){return R.constructor===r}):r instanceof dr&&(d=this.systems.findIndex(function(R){return R===r})),d>-1&&(this.systems[d].destroy&&this.systems[d].destroy(),this.systems.splice(d,1))}},e.prototype.getSystem=function(r){return this.systems.find(function(d){return typeof r=="string"?d.name===r:d instanceof r})},e.prototype.pause=function(){!this.playing||(this.playing=!1,this.ticker.pause(),this.triggerPause())},e.prototype.start=function(){this.playing||(this.playing=!0,this.started=!0,this.ticker.start())},e.prototype.resume=function(){this.playing||(this.playing=!0,this.ticker.start(),this.triggerResume())},e.prototype.initTicker=function(){var r=this;this.ticker.add(function(d){var R,x,W,z;r.scene&&Cc(d,r.gameObjects);try{for(var ee=at(r.systems),k=ee.next();!k.done;k=ee.next()){var ie=k.value;try{ns(ie),ie.update&&ie.update(d)}catch(Oe){console.error(ie.constructor.systemName+" update error",Oe)}}}catch(Oe){R={error:Oe}}finally{try{k&&!k.done&&(x=ee.return)&&x.call(ee)}finally{if(R)throw R.error}}try{for(var ce=at(r.systems),me=ce.next();!me.done;me=ce.next()){var ie=me.value;try{ie.lateUpdate&&ie.lateUpdate(d)}catch(be){console.error(ie.constructor.systemName+" lateUpdate error",be)}}}catch(Oe){W={error:Oe}}finally{try{me&&!me.done&&(z=ce.return)&&z.call(ce)}finally{if(W)throw W.error}}})},e.prototype.triggerResume=function(){var r,d;Ic(this.gameObjects);try{for(var R=at(this.systems),x=R.next();!x.done;x=R.next()){var W=x.value;try{W.onResume&&W.onResume()}catch(z){console.error(W.constructor.systemName+", onResume error",z)}}}catch(z){r={error:z}}finally{try{x&&!x.done&&(d=R.return)&&d.call(R)}finally{if(r)throw r.error}}},e.prototype.triggerPause=function(){var r,d;Ac(this.gameObjects);try{for(var R=at(this.systems),x=R.next();!x.done;x=R.next()){var W=x.value;try{W.onPause&&W.onPause()}catch(z){console.error(W.constructor.systemName+", onPause error",z)}}}catch(z){r={error:z}}finally{try{x&&!x.done&&(d=R.return)&&d.call(R)}finally{if(r)throw r.error}}},e.prototype.destroySystems=function(){var r,d;try{for(var R=at(zr(this.systems)),x=R.next();!x.done;x=R.next()){var W=x.value;this.removeSystem(W)}}catch(z){r={error:z}}finally{try{x&&!x.done&&(d=R.return)&&d.call(R)}finally{if(r)throw r.error}}this.systems.length=0},e.prototype.destroy=function(){this.removeAllListeners(),this.pause(),this.scene.destroy(),this.destroySystems(),this.ticker=null,this.scene=null,this.canvas=null,this.multiScenes=null},e.prototype.loadScene=function(r){var d=r.scene,R=r.mode,x=R===void 0?tr.SINGLE:R,W=r.params,z=W===void 0?{}:W;if(!!d){switch(x){case tr.SINGLE:this.scene=d;break;case tr.MULTI_CANVAS:this.multiScenes.push(d);break}this.emit("sceneChanged",{scene:d,mode:x,params:z})}},e}(E()),Pc=wc;function Mc(t,e){t.constructor.IDEProps||(t.constructor.IDEProps=[]),t.constructor.IDEProps.push(e)}function Fc(t){return t===void 0&&(t={}),function(e){if(!e.observerInfo){for(var r in t)for(var d in t[r]){typeof t[r][d]=="string"&&(t[r][d]=[t[r][d]]);var R=void 0;Array.isArray(t[r][d])&&(R={prop:t[r][d],deep:!1},t[r][d]=R),R=t[r][d],typeof R.prop=="string"&&(R.prop=[R.prop])}e.observerInfo=t}}}var Dc=function(t){fr(e,t);function e(r){var d=r.resource,R=r.resourceTotal,x=t.call(this)||this;return x.progress=0,x.resourceTotal=0,x.resourceLoadedCount=0,x.resource=d,x.resourceTotal=R,R===0&&x.resource.emit(Nt.COMPLETE,x),x}return e.prototype.onStart=function(){this.resource.emit(Nt.START,this)},e.prototype.onProgress=function(r){this.resourceLoadedCount++,this.progress=Math.floor(this.resourceLoadedCount/this.resourceTotal*100)/100,r.success?this.resource.emit(Nt.LOADED,this,r):this.resource.emit(Nt.ERROR,this,r),this.resource.emit(Nt.PROGRESS,this,r),this.resourceLoadedCount===this.resourceTotal&&this.resource.emit(Nt.COMPLETE,this)},e}(E()),Bc=Dc,is={AbstractLoadStrategy:Kr,AudioLoadStrategy:Vr,ImageLoadStrategy:Tt,XhrResponseType:Be,MediaElementLoadStrategy:Hn,VideoLoadStrategy:Ir,XhrLoadStrategy:bt,Loader:Qi,Resource:Ji,ResourceType:xt,ResourceState:Gt},Nt;(function(t){t.START="start",t.PROGRESS="progress",t.LOADED="loaded",t.COMPLETE="complete",t.ERROR="error"})(Nt||(Nt={}));var pe;(function(t){t.IMAGE="IMAGE",t.SPRITE="SPRITE",t.SPRITE_ANIMATION="SPRITE_ANIMATION",t.AUDIO="AUDIO",t.VIDEO="VIDEO"})(pe||(pe={})),bt.setExtensionXhrType("json",Be.Json),bt.setExtensionXhrType("tex",Be.Json),bt.setExtensionXhrType("ske",Be.Json),bt.setExtensionXhrType("mp3",Be.Buffer),bt.setExtensionXhrType("wav",Be.Buffer),bt.setExtensionXhrType("aac",Be.Buffer),bt.setExtensionXhrType("ogg",Be.Buffer);var ss={png:Tt,jpg:Tt,jpeg:Tt,webp:Tt,json:bt,tex:bt,ske:bt,audio:bt,video:Ir},Nc=function(t){fr(e,t);function e(r){var d=t.call(this)||this;return d.timeout=6e3,d.preProcessResourceHandlers=[],d.resourcesMap={},d.makeInstanceFunctions={},d.destroyInstanceFunctions={},d.promiseMap={},d.loaders=[],r&&typeof r.timeout=="number"&&(d.timeout=r.timeout),d}return e.prototype.loadConfig=function(r){this.addResource(r),this.preload()},e.prototype.loadSingle=function(r){return this.addResource([r]),this.getResource(r.name)},e.prototype.addResource=function(r){var d,R;if(!r||r.length<1){console.warn("no resources");return}try{for(var x=at(r),W=x.next();!W.done;W=x.next()){var z=W.value;if(this.resourcesMap[z.name]){console.warn(z.name+" was already added");continue}this.resourcesMap[z.name]=z,this.resourcesMap[z.name].data={}}}catch(ee){d={error:ee}}finally{try{W&&!W.done&&(R=x.return)&&R.call(x)}finally{if(d)throw d.error}}},e.prototype.addPreProcessResourceHandler=function(r){this.preProcessResourceHandlers.push(r)},e.prototype.removePreProcessResourceHandler=function(r){this.preProcessResourceHandlers.splice(this.preProcessResourceHandlers.indexOf(r),1)},e.prototype.preload=function(){var r=[];for(var d in this.resourcesMap){var R=this.resourcesMap[d];R.preload&&!R.complete&&!this.promiseMap[d]&&r.push(R.name)}this.progress=new Bc({resource:this,resourceTotal:r.length}),this.loadResource({names:r,preload:!0})},e.prototype.getResource=function(r){return Qt(this,void 0,void 0,function(){return qt(this,function(d){return this.loadResource({names:[r]}),[2,this.promiseMap[r]||Promise.resolve({})]})})},e.prototype.instance=function(r){return Qt(this,void 0,void 0,function(){var d,R;return qt(this,function(x){switch(x.label){case 0:return d=this.resourcesMap[r],R=this.makeInstanceFunctions[d.type],R?[4,this.makeInstanceFunctions[d.type](d)]:[3,2];case 1:R=x.sent(),x.label=2;case 2:return[2,R]}})})},e.prototype.destroy=function(r){return Qt(this,void 0,void 0,function(){return qt(this,function(d){switch(d.label){case 0:return[4,this._destroy(r)];case 1:return d.sent(),[2]}})})},e.prototype._destroy=function(r,d){return d===void 0&&(d=!1),Qt(this,void 0,void 0,function(){var R,x;return qt(this,function(W){switch(W.label){case 0:if(R=this.resourcesMap[r],!R)return[2];if(d)return[3,5];W.label=1;case 1:return W.trys.push([1,4,,5]),this.destroyInstanceFunctions[R.type]?[4,this.destroyInstanceFunctions[R.type](R)]:[3,3];case 2:W.sent(),W.label=3;case 3:return[3,5];case 4:return x=W.sent(),console.warn("destroy resource "+R.name+" error with '"+x.message+"'"),[3,5];case 5:return delete this.promiseMap[r],R.data={},R.complete=!1,R.instance=void 0,[2]}})})},e.prototype.registerResourceType=function(r,d){if(d===void 0&&(d=r),pe[r])throw new Error("The type "+r+" already exists in RESOURCE_TYPE");pe[r]=d},e.prototype.registerInstance=function(r,d){this.makeInstanceFunctions[r]=d},e.prototype.registerDestroy=function(r,d){this.destroyInstanceFunctions[r]=d},e.prototype.loadResource=function(r){var d=this,R=r.names,x=R===void 0?[]:R,W=r.preload,z=W===void 0?!1:W,ee=x.filter(function(ce){return!d.promiseMap[ce]&&d.resourcesMap[ce]});if(!!ee.length){var k={},ie=this.getLoader(z);ee.forEach(function(ce){var me,Oe;d.promiseMap[ce]=new Promise(function($e){return k[ce]=$e});var be=d.resourcesMap[ce];try{for(var Ae=at(d.preProcessResourceHandlers),ze=Ae.next();!ze.done;ze=Ae.next()){var Xe=ze.value;Xe(be)}}catch($e){me={error:$e}}finally{try{ze&&!ze.done&&(Oe=Ae.return)&&Oe.call(Ae)}finally{if(me)throw me.error}}for(var et in be.src){var ht=be.src[et].type;ht==="data"?(be.data[et]=be.src[et].data,d.doComplete(ce,k[ce],z)):ie.add({url:be.src[et].url,name:be.name+"_"+et,strategy:ss[ht],metadata:{key:et,name:be.name,resolves:k}})}}),ie.load()}},e.prototype.doComplete=function(r,d,R){return R===void 0&&(R=!1),Qt(this,void 0,void 0,function(){var x,W,z,ee;return qt(this,function(k){switch(k.label){case 0:if(x=this.resourcesMap[r],W={name:r,resource:this.resourcesMap[r],success:!0},!this.checkAllLoaded(r))return[3,4];k.label=1;case 1:return k.trys.push([1,3,,4]),z=x,[4,this.instance(r)];case 2:return z.instance=k.sent(),x.complete=!0,R&&this.progress.onProgress(W),d(x),[3,4];case 3:return ee=k.sent(),console.error(ee),x.complete=!1,R&&(W.errMsg=ee.message,W.success=!1,this.progress.onProgress(W)),d({}),[3,4];case 4:return[2]}})})},e.prototype.checkAllLoaded=function(r){var d=this.resourcesMap[r];return Array.from(Object.keys(d.src)).every(function(R){return d.data[R]})},e.prototype.getLoader=function(r){var d=this;r===void 0&&(r=!1);var R=this.loaders.find(function(x){var W=x.loading;return!W});return R||(R=new Qi,this.loaders.push(R)),r&&R.onStart.once(function(){d.progress.onStart()}),R.onLoad.add(function(x,W){d.onLoad({preload:r,resource:W})}),R.onError.add(function(x,W,z){d.onError({errMsg:x,resource:z,preload:r})}),R.onComplete.once(function(){R.onLoad.detachAll(),R.onError.detachAll(),R.reset()}),R},e.prototype.onLoad=function(r){var d=r.preload,R=d===void 0?!1:d,x=r.resource;return Qt(this,void 0,void 0,function(){var W,z,ee,k,ie,ce;return qt(this,function(me){return W=x.metadata,z=W.key,ee=W.name,k=W.resolves,ie=x.data,ce=this.resourcesMap[ee],ce.data[z]=ie,this.doComplete(ee,k[ee],R),[2]})})},e.prototype.onError=function(r){var d=r.errMsg,R=r.preload,x=R===void 0?!1:R,W=r.resource;return Qt(this,void 0,void 0,function(){var z,ee,k,ie;return qt(this,function(ce){return z=W.metadata,ee=z.name,k=z.resolves,this._destroy(ee,!0),k[ee]({}),x&&(ie={name:ee,resource:this.resourcesMap[ee],success:!1,errMsg:d},this.progress.onProgress(ie)),[2]})})},e}(E()),_t=new Nc,Ut={IDEProp:Mc,componentObserver:Fc},Wc="1.2.4";console.log("Eva.js version: "+Wc);const kc=[{name:"ctrl",type:pe.SPRITE,src:{image:{type:"png",url:"./static/assets/ctrl/ctrl.png"},json:{type:"json",url:"./static/assets/ctrl/ctrl.json"}},preload:!0},{name:"tile",type:pe.SPRITE,src:{image:{type:"png",url:"./static/assets/bg/tile.png"},json:{type:"json",url:"./static/assets/bg/tile.json"}},preload:!0},{name:"player_idle_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/idle_top.png"},json:{type:"json",url:"./static/assets/player/idle_top.json"}},preload:!0},{name:"player_idle_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/idle_bottom.png"},json:{type:"json",url:"./static/assets/player/idle_bottom.json"}},preload:!0},{name:"player_idle_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/idle_left.png"},json:{type:"json",url:"./static/assets/player/idle_left.json"}},preload:!0},{name:"player_idle_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/idle_right.png"},json:{type:"json",url:"./static/assets/player/idle_right.json"}},preload:!0},{name:"player_turn_left_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/turn_left_top.png"},json:{type:"json",url:"./static/assets/player/turn_left_top.json"}},preload:!0},{name:"player_turn_left_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/turn_left_bottom.png"},json:{type:"json",url:"./static/assets/player/turn_left_bottom.json"}},preload:!0},{name:"player_turn_left_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/turn_left_left.png"},json:{type:"json",url:"./static/assets/player/turn_left_left.json"}},preload:!0},{name:"player_turn_left_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/turn_left_right.png"},json:{type:"json",url:"./static/assets/player/turn_left_right.json"}},preload:!0},{name:"player_turn_right_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/turn_right_top.png"},json:{type:"json",url:"./static/assets/player/turn_right_top.json"}},preload:!0},{name:"player_turn_right_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/turn_right_bottom.png"},json:{type:"json",url:"./static/assets/player/turn_right_bottom.json"}},preload:!0},{name:"player_turn_right_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/turn_right_left.png"},json:{type:"json",url:"./static/assets/player/turn_right_left.json"}},preload:!0},{name:"player_turn_right_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/turn_right_right.png"},json:{type:"json",url:"./static/assets/player/turn_right_right.json"}},preload:!0},{name:"player_block_front_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_front_top.png"},json:{type:"json",url:"./static/assets/player/block_front_top.json"}},preload:!0},{name:"player_block_front_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_front_bottom.png"},json:{type:"json",url:"./static/assets/player/block_front_bottom.json"}},preload:!0},{name:"player_block_front_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_front_left.png"},json:{type:"json",url:"./static/assets/player/block_front_left.json"}},preload:!0},{name:"player_block_front_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_front_right.png"},json:{type:"json",url:"./static/assets/player/block_front_right.json"}},preload:!0},{name:"player_block_back_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_back_top.png"},json:{type:"json",url:"./static/assets/player/block_back_top.json"}},preload:!0},{name:"player_block_back_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_back_bottom.png"},json:{type:"json",url:"./static/assets/player/block_back_bottom.json"}},preload:!0},{name:"player_block_back_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_back_left.png"},json:{type:"json",url:"./static/assets/player/block_back_left.json"}},preload:!0},{name:"player_block_back_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_back_right.png"},json:{type:"json",url:"./static/assets/player/block_back_right.json"}},preload:!0},{name:"player_block_left_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_left_top.png"},json:{type:"json",url:"./static/assets/player/block_left_top.json"}},preload:!0},{name:"player_block_left_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_left_bottom.png"},json:{type:"json",url:"./static/assets/player/block_left_bottom.json"}},preload:!0},{name:"player_block_left_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_left_left.png"},json:{type:"json",url:"./static/assets/player/block_left_left.json"}},preload:!0},{name:"player_block_left_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_left_right.png"},json:{type:"json",url:"./static/assets/player/block_left_right.json"}},preload:!0},{name:"player_block_right_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_right_top.png"},json:{type:"json",url:"./static/assets/player/block_right_top.json"}},preload:!0},{name:"player_block_right_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_right_bottom.png"},json:{type:"json",url:"./static/assets/player/block_right_bottom.json"}},preload:!0},{name:"player_block_right_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_right_left.png"},json:{type:"json",url:"./static/assets/player/block_right_left.json"}},preload:!0},{name:"player_block_right_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_right_right.png"},json:{type:"json",url:"./static/assets/player/block_right_right.json"}},preload:!0},{name:"player_block_turn_left_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_turn_left_top.png"},json:{type:"json",url:"./static/assets/player/block_turn_left_top.json"}},preload:!0},{name:"player_block_turn_left_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_turn_left_bottom.png"},json:{type:"json",url:"./static/assets/player/block_turn_left_bottom.json"}},preload:!0},{name:"player_block_turn_left_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_turn_left_left.png"},json:{type:"json",url:"./static/assets/player/block_turn_left_left.json"}},preload:!0},{name:"player_block_turn_left_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_turn_left_right.png"},json:{type:"json",url:"./static/assets/player/block_turn_left_right.json"}},preload:!0},{name:"player_block_turn_right_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_turn_right_top.png"},json:{type:"json",url:"./static/assets/player/block_turn_right_top.json"}},preload:!0},{name:"player_block_turn_right_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_turn_right_bottom.png"},json:{type:"json",url:"./static/assets/player/block_turn_right_bottom.json"}},preload:!0},{name:"player_block_turn_right_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_turn_right_left.png"},json:{type:"json",url:"./static/assets/player/block_turn_right_left.json"}},preload:!0},{name:"player_block_turn_right_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/block_turn_right_right.png"},json:{type:"json",url:"./static/assets/player/block_turn_right_right.json"}},preload:!0},{name:"player_attack_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/attack_top.png"},json:{type:"json",url:"./static/assets/player/attack_top.json"}},preload:!0},{name:"player_attack_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/attack_bottom.png"},json:{type:"json",url:"./static/assets/player/attack_bottom.json"}},preload:!0},{name:"player_attack_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/attack_left.png"},json:{type:"json",url:"./static/assets/player/attack_left.json"}},preload:!0},{name:"player_attack_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/attack_right.png"},json:{type:"json",url:"./static/assets/player/attack_right.json"}},preload:!0},{name:"player_death_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/death_top.png"},json:{type:"json",url:"./static/assets/player/death_top.json"}},preload:!0},{name:"player_death_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/death_bottom.png"},json:{type:"json",url:"./static/assets/player/death_bottom.json"}},preload:!0},{name:"player_death_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/death_left.png"},json:{type:"json",url:"./static/assets/player/death_left.json"}},preload:!0},{name:"player_death_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/death_right.png"},json:{type:"json",url:"./static/assets/player/death_right.json"}},preload:!0},{name:"player_air_death_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/air_death_top.png"},json:{type:"json",url:"./static/assets/player/air_death_top.json"}},preload:!0},{name:"player_air_death_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/air_death_bottom.png"},json:{type:"json",url:"./static/assets/player/air_death_bottom.json"}},preload:!0},{name:"player_air_death_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/air_death_left.png"},json:{type:"json",url:"./static/assets/player/air_death_left.json"}},preload:!0},{name:"player_air_death_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/player/air_death_right.png"},json:{type:"json",url:"./static/assets/player/air_death_right.json"}},preload:!0},{name:"woodenskeleton_idle_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/woodenskeleton/idle_top.png"},json:{type:"json",url:"./static/assets/woodenskeleton/idle_top.json"}},preload:!0},{name:"woodenskeleton_idle_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/woodenskeleton/idle_bottom.png"},json:{type:"json",url:"./static/assets/woodenskeleton/idle_bottom.json"}},preload:!0},{name:"woodenskeleton_idle_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/woodenskeleton/idle_left.png"},json:{type:"json",url:"./static/assets/woodenskeleton/idle_left.json"}},preload:!0},{name:"woodenskeleton_idle_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/woodenskeleton/idle_right.png"},json:{type:"json",url:"./static/assets/woodenskeleton/idle_right.json"}},preload:!0},{name:"woodenskeleton_attack_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/woodenskeleton/attack_top.png"},json:{type:"json",url:"./static/assets/woodenskeleton/attack_top.json"}},preload:!0},{name:"woodenskeleton_attack_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/woodenskeleton/attack_bottom.png"},json:{type:"json",url:"./static/assets/woodenskeleton/attack_bottom.json"}},preload:!0},{name:"woodenskeleton_attack_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/woodenskeleton/attack_left.png"},json:{type:"json",url:"./static/assets/woodenskeleton/attack_left.json"}},preload:!0},{name:"woodenskeleton_attack_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/woodenskeleton/attack_right.png"},json:{type:"json",url:"./static/assets/woodenskeleton/attack_right.json"}},preload:!0},{name:"woodenskeleton_death_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/woodenskeleton/death_top.png"},json:{type:"json",url:"./static/assets/woodenskeleton/death_top.json"}},preload:!0},{name:"woodenskeleton_death_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/woodenskeleton/death_bottom.png"},json:{type:"json",url:"./static/assets/woodenskeleton/death_bottom.json"}},preload:!0},{name:"woodenskeleton_death_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/woodenskeleton/death_left.png"},json:{type:"json",url:"./static/assets/woodenskeleton/death_left.json"}},preload:!0},{name:"woodenskeleton_death_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/woodenskeleton/death_right.png"},json:{type:"json",url:"./static/assets/woodenskeleton/death_right.json"}},preload:!0},{name:"ironskeleton_idle_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/ironskeleton/idle_top.png"},json:{type:"json",url:"./static/assets/ironskeleton/idle_top.json"}},preload:!0},{name:"ironskeleton_idle_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/ironskeleton/idle_bottom.png"},json:{type:"json",url:"./static/assets/ironskeleton/idle_bottom.json"}},preload:!0},{name:"ironskeleton_idle_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/ironskeleton/idle_left.png"},json:{type:"json",url:"./static/assets/ironskeleton/idle_left.json"}},preload:!0},{name:"ironskeleton_idle_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/ironskeleton/idle_right.png"},json:{type:"json",url:"./static/assets/ironskeleton/idle_right.json"}},preload:!0},{name:"ironskeleton_death_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/ironskeleton/death_top.png"},json:{type:"json",url:"./static/assets/ironskeleton/death_top.json"}},preload:!0},{name:"ironskeleton_death_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/ironskeleton/death_bottom.png"},json:{type:"json",url:"./static/assets/ironskeleton/death_bottom.json"}},preload:!0},{name:"ironskeleton_death_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/ironskeleton/death_left.png"},json:{type:"json",url:"./static/assets/ironskeleton/death_left.json"}},preload:!0},{name:"ironskeleton_death_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/ironskeleton/death_right.png"},json:{type:"json",url:"./static/assets/ironskeleton/death_right.json"}},preload:!0},{name:"door_idle_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/door/idle_top.png"},json:{type:"json",url:"./static/assets/door/idle_top.json"}},preload:!0},{name:"door_idle_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/door/idle_left.png"},json:{type:"json",url:"./static/assets/door/idle_left.json"}},preload:!0},{name:"door_death",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/door/death.png"},json:{type:"json",url:"./static/assets/door/death.json"}},preload:!0},{name:"smoke_idle_top",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/smoke/idle_top.png"},json:{type:"json",url:"./static/assets/smoke/idle_top.json"}},preload:!0},{name:"smoke_idle_bottom",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/smoke/idle_bottom.png"},json:{type:"json",url:"./static/assets/smoke/idle_bottom.json"}},preload:!0},{name:"smoke_idle_left",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/smoke/idle_left.png"},json:{type:"json",url:"./static/assets/smoke/idle_left.json"}},preload:!0},{name:"smoke_idle_right",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/smoke/idle_right.png"},json:{type:"json",url:"./static/assets/smoke/idle_right.json"}},preload:!0},{name:"smoke_death",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/door/death.png"},json:{type:"json",url:"./static/assets/door/death.json"}},preload:!0},{name:"burst_idle",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/burst/idle.png"},json:{type:"json",url:"./static/assets/burst/idle.json"}},preload:!0},{name:"burst_attack",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/burst/attack.png"},json:{type:"json",url:"./static/assets/burst/attack.json"}},preload:!0},{name:"burst_death",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/burst/death.png"},json:{type:"json",url:"./static/assets/burst/death.json"}},preload:!0},{name:"spikes_one_zero",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/one_zero.png"},json:{type:"json",url:"./static/assets/spikes/one_zero.json"}},preload:!0},{name:"spikes_one_one",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/one_one.png"},json:{type:"json",url:"./static/assets/spikes/one_one.json"}},preload:!0},{name:"spikes_one_two",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/one_two.png"},json:{type:"json",url:"./static/assets/spikes/one_two.json"}},preload:!0},{name:"spikes_two_zero",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/two_zero.png"},json:{type:"json",url:"./static/assets/spikes/two_zero.json"}},preload:!0},{name:"spikes_two_one",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/two_one.png"},json:{type:"json",url:"./static/assets/spikes/two_one.json"}},preload:!0},{name:"spikes_two_two",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/two_two.png"},json:{type:"json",url:"./static/assets/spikes/two_two.json"}},preload:!0},{name:"spikes_two_three",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/two_three.png"},json:{type:"json",url:"./static/assets/spikes/two_three.json"}},preload:!0},{name:"spikes_three_zero",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/three_zero.png"},json:{type:"json",url:"./static/assets/spikes/three_zero.json"}},preload:!0},{name:"spikes_three_one",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/three_one.png"},json:{type:"json",url:"./static/assets/spikes/three_one.json"}},preload:!0},{name:"spikes_three_two",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/three_two.png"},json:{type:"json",url:"./static/assets/spikes/three_two.json"}},preload:!0},{name:"spikes_three_three",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/three_three.png"},json:{type:"json",url:"./static/assets/spikes/three_three.json"}},preload:!0},{name:"spikes_three_four",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/three_four.png"},json:{type:"json",url:"./static/assets/spikes/three_four.json"}},preload:!0},{name:"spikes_four_zero",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/four_zero.png"},json:{type:"json",url:"./static/assets/spikes/four_zero.json"}},preload:!0},{name:"spikes_four_one",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/four_one.png"},json:{type:"json",url:"./static/assets/spikes/four_one.json"}},preload:!0},{name:"spikes_four_two",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/four_two.png"},json:{type:"json",url:"./static/assets/spikes/four_two.json"}},preload:!0},{name:"spikes_four_three",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/four_three.png"},json:{type:"json",url:"./static/assets/spikes/four_three.json"}},preload:!0},{name:"spikes_four_four",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/four_four.png"},json:{type:"json",url:"./static/assets/spikes/four_four.json"}},preload:!0},{name:"spikes_four_five",type:pe.SPRITE_ANIMATION,src:{image:{type:"png",url:"./static/assets/spikes/four_five.png"},json:{type:"json",url:"./static/assets/spikes/four_five.json"}},preload:!0}];var De=Et(8687);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Vn=function(t,e){return Vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var R in d)d.hasOwnProperty(R)&&(r[R]=d[R])},Vn(t,e)};function Ar(t,e){Vn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Gc=function(t){Ar(e,t);function e(r){var d=this;return r.autoStart=!1,d=t.call(this,r)||this,d}return e}(De.Application),Uc=Gc,Hc=function(t){Ar(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(De.Container),Xc=Hc,Pv=function(t){Ar(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(De.Graphics),Mv=null,Fv=function(t){Ar(e,t);function e(r,d,R,x,W){var z=this,ee;return r==="string"?ee=De.Texture.fromFrame(r):ee=De.Texture.from(r),z=t.call(this,ee,d,R,x,W)||this,z}return e}(De.mesh.NineSlicePlane),Dv=null,jc=function(){function t(e){this._image=null,this._image=e,e?e instanceof HTMLImageElement?this.sprite=De.Sprite.from(e):e instanceof De.Texture&&(this.sprite=new De.Sprite(e)):this.sprite=new De.Sprite}return Object.defineProperty(t.prototype,"image",{get:function(){return this._image},set:function(e){this._image!==e&&(e instanceof HTMLImageElement?(this.sprite.texture&&this.sprite.texture.destroy(!1),this.sprite.texture=De.Texture.from(e)):e instanceof De.Texture&&(this.sprite.texture=e),this._image=e)},enumerable:!1,configurable:!0}),t}(),Kc=jc,Vc=function(){function t(e){var r=e.frames;this.animatedSprite=new De.extras.AnimatedSprite(r)}return t.prototype.play=function(){this.animatedSprite.play()},t.prototype.stop=function(){this.animatedSprite.stop()},t.prototype.gotoAndPlay=function(e){this.animatedSprite.gotoAndPlay(e)},t.prototype.gotoAndStop=function(e){this.animatedSprite.gotoAndStop(e)},Object.defineProperty(t.prototype,"speed",{get:function(){return this.animatedSprite.animationSpeed},set:function(e){this.animatedSprite.animationSpeed=e},enumerable:!1,configurable:!0}),t}(),Yc=Vc,zc=function(t){Ar(e,t);function e(r,d){return t.call(this,r,d)||this}return e}(De.Text),Zc=zc,Yn=De.extras.TilingSprite,Bv=function(){function t(e){this._image=null,this._image=e,e?e instanceof HTMLImageElement?this.tilingSprite=new Yn(De.Texture.from(e)):e instanceof De.Texture&&(this.tilingSprite=new Yn(e)):this.tilingSprite=new Yn(De.Texture.EMPTY)}return Object.defineProperty(t.prototype,"image",{get:function(){return this._image},set:function(e){this._image!==e&&(e instanceof HTMLImageElement?this.tilingSprite.texture=De.Texture.from(e):e instanceof De.Texture&&(this.tilingSprite.texture=e),this._image=e)},enumerable:!1,configurable:!0}),t}(),Nv=null;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var zn=function(t,e){return zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var R in d)d.hasOwnProperty(R)&&(r[R]=d[R])},zn(t,e)};function wr(t,e){zn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Zn=function(){return Zn=Object.assign||function(e){for(var r,d=1,R=arguments.length;d<R;d++){r=arguments[d];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},Zn.apply(this,arguments)};function as(t,e,r,d){var R=arguments.length,x=R<3?e:d===null?d=Object.getOwnPropertyDescriptor(e,r):d,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,e,r,d);else for(var z=t.length-1;z>=0;z--)(W=t[z])&&(x=(R<3?W(x):R>3?W(e,r,x):W(e,r))||x);return R>3&&x&&Object.defineProperty(e,r,x),x}function wt(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function $c(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var d=r.call(t),R,x=[],W;try{for(;(e===void 0||e-- >0)&&!(R=d.next()).done;)x.push(R.value)}catch(z){W={error:z}}finally{try{R&&!R.done&&(r=d.return)&&r.call(d)}finally{if(W)throw W.error}}return x}function Jc(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($c(arguments[e]));return t}var Qc=function(){function t(e){var r=e.game,d=e.rendererSystem;this.renderers=[],this.game=r,this.rendererSystem=d}return t.prototype.register=function(){for(var e,r,d=[],R=0;R<arguments.length;R++)d[R]=arguments[R];try{for(var x=wt(d),W=x.next();!W.done;W=x.next()){var z=W.value;z.game=this.game,z.rendererManager=this.rendererSystem.rendererManager,z.containerManager=this.rendererSystem.containerManager,this.renderers.push(z)}}catch(ee){e={error:ee}}finally{try{W&&!W.done&&(r=x.return)&&r.call(x)}finally{if(e)throw e.error}}},t.prototype.componentChanged=function(e){var r,d,R=function(k){var ie,ce;try{for(var me=(ie=void 0,wt(x.renderers)),Oe=me.next();!Oe.done;Oe=me.next()){var be=Oe.value,Ae=be.observerInfo[k.componentName];if(Ae){if([Qe.ADD,Qe.REMOVE].indexOf(k.type)>-1){try{be.componentChanged&&be.componentChanged(k)}catch(Xe){console.error("gameObject: "+k.gameObject.name+", "+k.componentName+" is error.",k,Xe)}continue}var ze=Ae.findIndex(function(Xe){return jr(Xe,k.prop)});if(ze>-1)try{be.componentChanged&&be.componentChanged(k)}catch(Xe){console.error("gameObject: "+(k.gameObject&&k.gameObject.name)+", "+k.componentName+" is componentChanged error.",k,Xe)}}}}catch(Xe){ie={error:Xe}}finally{try{Oe&&!Oe.done&&(ce=me.return)&&ce.call(me)}finally{if(ie)throw ie.error}}},x=this;try{for(var W=wt(e),z=W.next();!z.done;z=W.next()){var ee=z.value;R(ee)}}catch(k){r={error:k}}finally{try{z&&!z.done&&(d=W.return)&&d.call(W)}finally{if(r)throw r.error}}},t.prototype.update=function(e){var r,d,R,x;try{for(var W=wt(e.components),z=W.next();!z.done;z=W.next()){var ee=z.value;try{for(var k=(R=void 0,wt(this.renderers)),ie=k.next();!ie.done;ie=k.next()){var ce=ie.value,me=[],Oe=ce.observerInfo[ee.name];if(Oe&&me.indexOf(e)===-1){me.push(e);try{ce.rendererUpdate&&ce.rendererUpdate(e)}catch(be){console.info("gameObject: "+e.name+", "+ee.name+" is update error",be)}}}}catch(be){R={error:be}}finally{try{ie&&!ie.done&&(x=k.return)&&x.call(k)}finally{if(R)throw R.error}}}}catch(be){r={error:be}}finally{try{z&&!z.done&&(d=W.return)&&d.call(W)}finally{if(r)throw r.error}}},t}(),qc=Qc,eh=function(){function t(){this.containerMap={}}return t.prototype.addContainer=function(e){var r=e.name,d=e.container;this.containerMap[r]=d},t.prototype.getContainer=function(e){return this.containerMap[e]},t.prototype.removeContainer=function(e){var r;(r=this.containerMap[e])===null||r===void 0||r.destroy({children:!0}),delete this.containerMap[e]},t.prototype.updateTransform=function(e){var r=e.name,d=e.transform,R=this.containerMap[r];if(!(!R||!d)){var x=d.anchor,W=d.origin,z=d.position,ee=d.rotation,k=d.scale,ie=d.size,ce=d.skew;R.rotation=ee,R.scale=k,R.pivot.x=ie.width*W.x,R.pivot.y=ie.height*W.y,R.skew=ce;var me=z.x,Oe=z.y;if(d.parent){var be=d.parent;me=me+be.size.width*x.x,Oe=Oe+be.size.height*x.y}R.position={x:me,y:Oe}}},t}(),th=eh,rh=function(t){wr(e,t);function e(r){var d=r.system,R=r.containerManager,x=t.call(this)||this;return x.name="Transform",x.waitRemoveIds=[],x.waitChangeScenes=[],x.containerManager=R,x.init(d),x}return e.prototype.init=function(r){var d=this;this.system=r,this.on("changeScene",function(R){var x=R.scene,W=R.mode,z=R.application;d.waitChangeScenes.push({scene:x,mode:W,application:z})})},e.prototype.update=function(){var r,d,R,x;try{for(var W=wt(this.waitRemoveIds),z=W.next();!z.done;z=W.next()){var ee=z.value;this.containerManager.removeContainer(ee)}}catch(Oe){r={error:Oe}}finally{try{z&&!z.done&&(d=W.return)&&d.call(W)}finally{if(r)throw r.error}}this.waitRemoveIds=[];try{for(var k=wt(this.waitChangeScenes),ie=k.next();!ie.done;ie=k.next()){var ce=ie.value,me=this.containerManager.getContainer(ce.scene.id);me&&(ce.application.stage.removeChildren(),ce.application.stage.addChild(me))}}catch(Oe){R={error:Oe}}finally{try{ie&&!ie.done&&(x=k.return)&&x.call(k)}finally{if(R)throw R.error}}this.waitChangeScenes=[]},e.prototype.componentChanged=function(r){r.type===Qe.ADD?this.addContainer(r):r.type===Qe.CHANGE?this.change(r):r.type===Qe.REMOVE&&this.waitRemoveIds.push(r.gameObject.id)},e.prototype.addContainer=function(r){var d=new Xc;d.name=r.gameObject.name,this.containerManager.addContainer({name:r.gameObject.id,container:d});var R=r.component;R.worldTransform=d.transform.worldTransform},e.prototype.change=function(r){var d=r.component;if(d.parent){var R=this.containerManager.getContainer(d.parent.gameObject.id);R.addChild(this.containerManager.getContainer(r.gameObject.id));var x=r.gameObject.transform.parent&&r.gameObject.transform.parent.gameObject.getComponent("Render");x&&(x.sortDirty=!0)}else{var W=this.containerManager.getContainer(r.gameObject.id);delete d.worldTransform,W.parent&&W.parent.removeChild(W)}},e.prototype.destroy=function(){this.removeAllListeners(),this.waitRemoveIds=null,this.waitChangeScenes=null,this.system=null,this.containerManager=null},e=as([Ut.componentObserver({Transform:["_parent"]})],e),e}(E()),nh=rh,_r=void 0;function os(t){if(_r)return _r;if(!t)return console.warn("WebGL not available for compressed textures. Silently failing."),{s3tc:!1,etc:!1,etc1:!1,pvrtc:!1,atc:!1,astc:!1};_r={s3tc:!!t.getExtension("WEBGL_compressed_texture_s3tc"),etc:!!t.getExtension("WEBGL_compressed_texture_etc"),etc1:!!t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:!!t.getExtension("WEBGL_compressed_texture_pvrtc")||!!t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:!!t.getExtension("WEBGL_compressed_texture_atc"),astc:!!t.getExtension("WEBGL_compressed_texture_astc")};try{console.log("Eva.js Supported Compressed Texture Format List: "+Object.keys(_r).filter(function(e){return _r[e]}).join(", "))}catch{}return _r}var ih=is.XhrLoadStrategy,sh=ih,ke,Ye,Re;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",t[t.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",t[t.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",t[t.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",t[t.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",t[t.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=3781]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR"})(Re||(Re={}));var us=(ke={},ke[Re.COMPRESSED_RGB_S3TC_DXT1_EXT]=[4,4],ke[Re.COMPRESSED_RGBA_S3TC_DXT1_EXT]=[4,4],ke[Re.COMPRESSED_RGBA_S3TC_DXT3_EXT]=[4,4],ke[Re.COMPRESSED_RGBA_S3TC_DXT5_EXT]=[4,4],ke[Re.COMPRESSED_SRGB_S3TC_DXT1_EXT]=[4,4],ke[Re.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=[4,4],ke[Re.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=[4,4],ke[Re.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=[4,4],ke[Re.COMPRESSED_R11_EAC]=[4,4],ke[Re.COMPRESSED_SIGNED_R11_EAC]=[4,4],ke[Re.COMPRESSED_RG11_EAC]=[4,4],ke[Re.COMPRESSED_SIGNED_RG11_EAC]=[4,4],ke[Re.COMPRESSED_RGB8_ETC2]=[4,4],ke[Re.COMPRESSED_RGBA8_ETC2_EAC]=[4,4],ke[Re.COMPRESSED_SRGB8_ETC2]=[4,4],ke[Re.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=[4,4],ke[Re.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=[4,4],ke[Re.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=[4,4],ke[Re.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=[4,4],ke[Re.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=[4,4],ke[Re.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=[8,4],ke[Re.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=[8,4],ke[Re.COMPRESSED_RGB_ETC1_WEBGL]=[4,4],ke[Re.COMPRESSED_RGB_ATC_WEBGL]=[4,4],ke[Re.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=[4,4],ke[Re.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=[4,4],ke[Re.COMPRESSED_RGBA_ASTC_4x4_KHR]=[4,4],ke[Re.COMPRESSED_RGBA_ASTC_5x5_KHR]=[5,5],ke[Re.COMPRESSED_RGBA_ASTC_6x6_KHR]=[6,6],ke[Re.COMPRESSED_RGBA_ASTC_8x8_KHR]=[8,8],ke[Re.COMPRESSED_RGBA_ASTC_10x10_KHR]=[10,10],ke[Re.COMPRESSED_RGBA_ASTC_12x12_KHR]=[12,12],ke[Re.COMPRESSED_RGBA_ASTC_10x5_KHR]=[10,5],ke[Re.COMPRESSED_RGBA_ASTC_10x6_KHR]=[10,6],ke[Re.COMPRESSED_RGBA_ASTC_10x8_KHR]=[10,8],ke[Re.COMPRESSED_RGBA_ASTC_12x10_KHR]=[12,10],ke[Re.COMPRESSED_RGBA_ASTC_5x4_KHR]=[5,4],ke[Re.COMPRESSED_RGBA_ASTC_6x5_KHR]=[6,5],ke[Re.COMPRESSED_RGBA_ASTC_8x5_KHR]=[8,5],ke[Re.COMPRESSED_RGBA_ASTC_8x6_KHR]=[8,6],ke),ah=(Ye={},Ye[Re.COMPRESSED_RGB_S3TC_DXT1_EXT]="WEBGL_compressed_texture_s3tc",Ye[Re.COMPRESSED_RGBA_S3TC_DXT1_EXT]="WEBGL_compressed_texture_s3tc",Ye[Re.COMPRESSED_RGBA_S3TC_DXT3_EXT]="WEBGL_compressed_texture_s3tc",Ye[Re.COMPRESSED_RGBA_S3TC_DXT5_EXT]="WEBGL_compressed_texture_s3tc",Ye[Re.COMPRESSED_SRGB_S3TC_DXT1_EXT]="WEBGL_compressed_texture_s3tc_srgb",Ye[Re.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]="WEBGL_compressed_texture_s3tc_srgb",Ye[Re.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]="WEBGL_compressed_texture_s3tc_srgb",Ye[Re.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]="WEBGL_compressed_texture_s3tc_srgb",Ye[Re.COMPRESSED_R11_EAC]="WEBGL_compressed_texture_etc",Ye[Re.COMPRESSED_SIGNED_R11_EAC]="WEBGL_compressed_texture_etc",Ye[Re.COMPRESSED_RG11_EAC]="WEBGL_compressed_texture_etc",Ye[Re.COMPRESSED_SIGNED_RG11_EAC]="WEBGL_compressed_texture_etc",Ye[Re.COMPRESSED_RGB8_ETC2]="WEBGL_compressed_texture_etc",Ye[Re.COMPRESSED_RGBA8_ETC2_EAC]="WEBGL_compressed_texture_etc",Ye[Re.COMPRESSED_SRGB8_ETC2]="WEBGL_compressed_texture_etc",Ye[Re.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]="WEBGL_compressed_texture_etc",Ye[Re.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]="WEBGL_compressed_texture_etc",Ye[Re.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]="WEBGL_compressed_texture_etc",Ye[Re.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]="WEBGL_compressed_texture_pvrtc",Ye[Re.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]="WEBGL_compressed_texture_pvrtc",Ye[Re.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]="WEBGL_compressed_texture_pvrtc",Ye[Re.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]="WEBGL_compressed_texture_pvrtc",Ye[Re.COMPRESSED_RGB_ETC1_WEBGL]="WEBGL_compressed_texture_etc1",Ye[Re.COMPRESSED_RGB_ATC_WEBGL]="WEBGL_compressed_texture_atc",Ye[Re.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]="WEBGL_compressed_texture_atc",Ye[Re.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]="WEBGL_compressed_texture_atc",Ye[Re.COMPRESSED_RGBA_ASTC_4x4_KHR]="WEBGL_compressed_texture_astc",Ye[Re.COMPRESSED_RGBA_ASTC_5x5_KHR]="WEBGL_compressed_texture_astc",Ye[Re.COMPRESSED_RGBA_ASTC_6x6_KHR]="WEBGL_compressed_texture_astc",Ye[Re.COMPRESSED_RGBA_ASTC_8x8_KHR]="WEBGL_compressed_texture_astc",Ye[Re.COMPRESSED_RGBA_ASTC_10x10_KHR]="WEBGL_compressed_texture_astc",Ye[Re.COMPRESSED_RGBA_ASTC_12x12_KHR]="WEBGL_compressed_texture_astc",Ye),Qr=function(){function t(){this.levelBuffers=[]}return t.prototype.upload=function(e){var r=this.levels,d=ah[this.internalFormat];e[d]||(e[d]=!0,d==="WEBGL_compressed_texture_pvrtc"?e.getExtension(d)||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"):e.getExtension(d));for(var R=0;R<this.levels;++R){var x=this.levelBuffers[R],W=x.levelWidth,z=x.levelHeight,ee=x.levelBuffer;e.compressedTexImage2D(e.TEXTURE_2D,R,this.internalFormat,W,z,0,ee)}r>1?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR))},t}(),oh=64,Ht={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},ls=[171,75,84,88,32,49,49,187,13,10,26,10],uh=67305985,lh=function(t){wr(e,t);function e(r,d){var R,x=t.call(this)||this;x.complete=!0,x.src=d.url;var W=new DataView(r);if(!ch(W))throw new Error("Not a valid KTX Texture");var z=W.getUint32(Ht.ENDIANNESS,!0)===uh;x.internalFormat=W.getUint32(Ht.GL_INTERNAL_FORMAT,z);var ee=x.formerWidth=W.getUint32(Ht.PIXEL_WIDTH,z),k=x.formerHeight=W.getUint32(Ht.PIXEL_HEIGHT,z)||1,ie=us[x.internalFormat];x.width=ee%ie[0]==0?ee:ee+ie[0]-ee%ie[0],x.height=k%ie[1]==0?k:k+ie[1]-k%ie[1];var ce=_t.resourcesMap[d.metadata.name].src[d.metadata.key],me=(R=ce==null?void 0:ce.size)!==null&&R!==void 0?R:{},Oe=me.width,be=me.height;Oe&&be&&(x.naturalWidth=Oe,x.naturalHeight=be);var Ae=W.getUint32(Ht.PIXEL_DEPTH,z)||1,ze=W.getUint32(Ht.NUMBER_OF_ARRAY_ELEMENTS,z)||1,Xe=W.getUint32(Ht.NUMBER_OF_FACES,z),et=x.levels=W.getUint32(Ht.NUMBER_OF_MIPMAP_LEVELS,z),ht=W.getUint32(Ht.BYTES_OF_KEY_VALUE_DATA,z);if(k===0||Ae!==1)throw new Error("Only 2D textures are supported!");if(Xe!==1)throw new Error("CubeTextures are not supported!");if(ze!==1)throw new Error("It does not support array textures!");for(var $e=ee,yt=k,Dt=oh+ht,Er=0;Er<et;Er++){var Wr=W.getUint32(Dt,z);Dt+=4;var jt=us[x.internalFormat],xn=$e%jt[0]==0?$e:$e+jt[0]-$e%jt[0],Sn=yt%jt[1]==0?yt:yt+jt[1]-yt%jt[1],bn={levelID:Er,levelWidth:xn,levelHeight:Sn,levelBuffer:new Uint8Array(r,Dt,Wr)};x.levelBuffers.push(bn),Dt+=Wr,Dt+=3-(Dt+3)%4,$e=$e>>1||1,yt=yt>>1||1}return x}return e}(Qr);function ch(t){for(var e=0;e<ls.length;e++)if(t.getUint8(e)!==ls[e])return!1;return!0}var hh=function(t){wr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._complete=function(r,d){t.prototype._complete.call(this,r,new lh(d,this.config))},e}(sh),yr=hh,fh=is.XhrResponseType;function ph(t,e){t.addPreProcessResourceHandler(function(d){var R,x,W,z=(x=(R=d.src)===null||R===void 0?void 0:R.image)===null||x===void 0?void 0:x.texture;if(!!z){Array.isArray(z)||(z=[z]);var ee=(W=os(e))!==null&&W!==void 0?W:{},k=z.find(function(ie){return ee[ie.type]});k&&Object.assign(d.src.image,k)}})}function dh(){Object.assign(ss,{astc:yr,etc:yr,pvrtc:yr,s3tc:yr,atc:yr}),yr.setExtensionXhrType("ktx",fh.Buffer)}var _h=De.glCore.GLTexture,yh={isCompressed:!1,uploadNotCompressed:_h.prototype.upload,upload:function(t){if(!(t instanceof Qr))return this.uploadNotCompressed(t);this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST_MIPMAP_NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),this.isCompressed=!0,t.upload(e)},enableMipmap:function(){if(!this.isCompressed){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)}}},vh={oldFrom:De.Texture.from,from:function(t){return t instanceof Qr?new De.Texture(De.BaseTexture.from(t)):this.oldFrom(t)}},gh={oldFrom:De.BaseTexture.from,from:function(t,e,r){if(!(t instanceof Qr))return this.oldFrom(t,e,r);var d=t.src,R=De.utils.BaseTextureCache[d];return R||(R=new De.BaseTexture(t,e),R.imageUrl=d,r&&(R.sourceScale=r),De.BaseTexture.addToCache(R,d)),R}};function mh(t){ph(_t,t),dh(),Object.assign(De.glCore.GLTexture.prototype,yh),Object.assign(De.Texture,vh),Object.assign(De.BaseTexture,gh)}var $n;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})($n||($n={}));var cs=function(t){t.plugins.interaction.autoPreventDefault=!0,t.view.style.touchAction="none"},Jn=function(t){t.plugins.interaction.autoPreventDefault=!1,t.view.style.touchAction="auto"},Th=function(t){wr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.multiApps=[],r}return e.prototype.init=function(r){var d=this;this.params=r,this.application=this.createApplication(r),this.containerManager=new th,this.rendererManager=new qc({game:this.game,rendererSystem:this}),this.game.canvas=this.application.view,this.transform=new nh({system:this,containerManager:this.containerManager}),this.game.on("sceneChanged",function(x){var W=x.scene,z=x.mode,ee=x.params,k;switch(z){case tr.SINGLE:k=d.application;break;case tr.MULTI_CANVAS:k=d.createMultiApplication({params:ee});break}W.canvas=k.view,d.transform.emit("changeScene",{scene:W,mode:z,application:k})});var R=this.application.renderer.gl;R&&(this.suportedCompressedTextureFormats=os(R),mh(R))},e.prototype.registerObserver=function(r){var d,R=this.constructor.observerInfo;for(var x in r)R[x]||(R[x]=[]),(d=R[x]).push.apply(d,Jc(r[x]))},e.prototype.createMultiApplication=function(r){var d=r.params,R=this.createApplication(d);return this.multiApps.push(R),R},e.prototype.createApplication=function(r){r.view=r.canvas,r.renderType===$n.CANVAS&&(r.forceCanvas=!0);var d=new Uc(Zn({sharedTicker:!0},r));return De.ticker.shared.stop(),De.ticker.shared.autoStart=!1,r.preventScroll!==void 0&&(console.warn("PreventScroll property will deprecate at next major version, please use enableEnable instead. https://eva.js.org/#/tutorials/game"),r.preventScroll?Jn(d.renderer):cs(d.renderer)),r.enableScroll!==void 0&&(r.enableScroll?Jn(d.renderer):cs(d.renderer)),r.preventScroll===void 0&&r.enableScroll===void 0&&Jn(d.renderer),d},e.prototype.update=function(){var r,d,R,x,W=this.componentObserver.clear();try{for(var z=wt(W),ee=z.next();!ee.done;ee=z.next()){var k=ee.value;this.transform.componentChanged(k)}}catch(Oe){r={error:Oe}}finally{try{ee&&!ee.done&&(d=z.return)&&d.call(z)}finally{if(r)throw r.error}}try{for(var ie=wt(this.game.gameObjects),ce=ie.next();!ce.done;ce=ie.next()){var me=ce.value;this.containerManager.updateTransform({name:me.id,transform:me.transform}),this.rendererManager.update(me)}}catch(Oe){R={error:Oe}}finally{try{ce&&!ce.done&&(x=ie.return)&&x.call(ie)}finally{if(R)throw R.error}}},e.prototype.lateUpdate=function(r){this.transform.update(),this.application.ticker.update(r.time)},e.prototype.onDestroy=function(){var r,d;this.application.destroy();try{for(var R=wt(this.multiApps),x=R.next();!x.done;x=R.next()){var W=x.value;W&&W.destroy()}}catch(z){r={error:z}}finally{try{x&&!x.done&&(d=R.return)&&d.call(R)}finally{if(r)throw r.error}}this.transform.destroy(),this.transform=null,this.params=null,this.rendererManager=null,this.containerManager=null,this.application=null,this.game=null,this.multiApps=null},e.prototype.resize=function(r,d){this.params.width=r,this.params.height=d,this.application.renderer.resize(r,d)},e.systemName="Renderer",e=as([Ut.componentObserver({Transform:["_parent"]})],e),e}(dr),Kt=Th,Oh=function(t){wr(e,t);function e(r){var d=t.call(this,r)||this;return d.observerInfo=d.constructor.observerInfo,d}return e.prototype.componentChanged=function(r){},e.prototype.rendererUpdate=function(r){},e.prototype.update=function(r){var d,R,x=this.componentObserver.clear();try{for(var W=wt(x),z=W.next();!z.done;z=W.next()){var ee=z.value;this.componentChanged(ee)}}catch(k){d={error:k}}finally{try{z&&!z.done&&(R=W.return)&&R.call(W)}finally{if(d)throw d.error}}},e}(dr),rr=Oh,Eh=function(){De.BaseTexture.prototype.destroy=function(){this.imageUrl&&(delete De.utils.TextureCache[this.imageUrl],this.imageUrl=null),this.source=null,this.dispose(),De.BaseTexture.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0}};Eh();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Qn=function(t,e){return Qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var R in d)d.hasOwnProperty(R)&&(r[R]=d[R])},Qn(t,e)};function hs(t,e){Qn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function fs(t,e,r,d){var R=arguments.length,x=R<3?e:d===null?d=Object.getOwnPropertyDescriptor(e,r):d,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,e,r,d);else for(var z=t.length-1;z>=0;z--)(W=t[z])&&(x=(R<3?W(x):R>3?W(e,r,x):W(e,r))||x);return R>3&&x&&Object.defineProperty(e,r,x),x}function Lh(t,e,r,d){return new(r||(r=Promise))(function(R,x){function W(k){try{ee(d.next(k))}catch(ie){x(ie)}}function z(k){try{ee(d.throw(k))}catch(ie){x(ie)}}function ee(k){k.done?R(k.value):new r(function(ie){ie(k.value)}).then(W,z)}ee((d=d.apply(t,e||[])).next())})}function Rh(t,e){var r={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,R,x,W;return W={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function z(k){return function(ie){return ee([k,ie])}}function ee(k){if(d)throw new TypeError("Generator is already executing.");for(;r;)try{if(d=1,R&&(x=k[0]&2?R.return:k[0]?R.throw||((x=R.return)&&x.call(R),0):R.next)&&!(x=x.call(R,k[1])).done)return x;switch(R=0,x&&(k=[k[0]&2,x.value]),k[0]){case 0:case 1:x=k;break;case 4:return r.label++,{value:k[1],done:!1};case 5:r.label++,R=k[1],k=[0];continue;case 7:k=r.ops.pop(),r.trys.pop();continue;default:if(x=r.trys,!(x=x.length>0&&x[x.length-1])&&(k[0]===6||k[0]===2)){r=0;continue}if(k[0]===3&&(!x||k[1]>x[0]&&k[1]<x[3])){r.label=k[1];break}if(k[0]===6&&r.label<x[1]){r.label=x[1],x=k;break}if(x&&r.label<x[2]){r.label=x[2],r.ops.push(k);break}x[2]&&r.ops.pop(),r.trys.pop();continue}k=e.call(t,r)}catch(ie){k=[6,ie],R=0}finally{d=x=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}var Wv=function(t){hs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.resource="",r}return e.prototype.init=function(r){r&&r.resource&&(this.resource=r.resource)},e.componentName="Img",fs([pt("string")],e.prototype,"resource",void 0),e}(lt),kv=null;_t.registerInstance(pe.IMAGE,function(t){var e=t.data,r=e===void 0?{}:e,d=r.image;if(d){var R=De.Texture.from(d);return R}}),_t.registerDestroy(pe.IMAGE,function(t){var e=t.instance;e&&e.destroy(!0)});var xh=function(t){hs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="Img",r.imgs={},r}return e.prototype.init=function(){this.renderSystem=this.game.getSystem(Kt),this.renderSystem.rendererManager.register(this)},e.prototype.rendererUpdate=function(r){var d=r.transform.size,R=d.width,x=d.height;this.imgs[r.id]&&(this.imgs[r.id].sprite.width=R,this.imgs[r.id].sprite.height=x)},e.prototype.componentChanged=function(r){var d,R;return Lh(this,void 0,void 0,function(){var x,W,z,ee;return Rh(this,function(k){switch(k.label){case 0:return r.componentName!=="Img"?[3,4]:(x=r.component,r.type!==Qe.ADD?[3,1]:(W=new Kc(null),_t.getResource(x.resource).then(function(ie){var ce=ie.instance;ce||console.error("GameObject:"+r.gameObject.name+"'s Img resource load error"),W.image=ce}),this.imgs[r.gameObject.id]=W,this.containerManager.getContainer(r.gameObject.id).addChildAt(W.sprite,0),[3,4]));case 1:return r.type!==Qe.CHANGE?[3,3]:[4,_t.getResource(x.resource)];case 2:return z=k.sent().instance,z||console.error("GameObject:"+r.gameObject.name+"'s Img resource load error"),this.imgs[r.gameObject.id].image=z,[3,4];case 3:if(r.type===Qe.REMOVE){if(ee=this.imgs[r.gameObject.id],!ee)return[2];(R=(d=this.containerManager)===null||d===void 0?void 0:d.getContainer(r.gameObject.id))===null||R===void 0||R.removeChild(ee.sprite),ee.sprite.destroy({children:!0}),delete this.imgs[r.gameObject.id]}k.label=4;case 4:return[2]}})})},e.systemName="Img",e=fs([Ut.componentObserver({Img:[{prop:["resource"],deep:!1}]})],e),e}(rr),Sh=xh;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qn=function(t,e){return qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var R in d)d.hasOwnProperty(R)&&(r[R]=d[R])},qn(t,e)};function ps(t,e){qn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function bh(t,e,r,d){var R=arguments.length,x=R<3?e:d===null?d=Object.getOwnPropertyDescriptor(e,r):d,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,e,r,d);else for(var z=t.length-1;z>=0;z--)(W=t[z])&&(x=(R<3?W(x):R>3?W(e,r,x):W(e,r))||x);return R>3&&x&&Object.defineProperty(e,r,x),x}function Ch(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function Ih(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var d=r.call(t),R,x=[],W;try{for(;(e===void 0||e-- >0)&&!(R=d.next()).done;)x.push(R.value)}catch(z){W={error:z}}finally{try{R&&!R.done&&(r=d.return)&&r.call(d)}finally{if(W)throw W.error}}return x}function ds(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ih(arguments[e]));return t}var _s={Circle:De.Circle,Ellipse:De.Ellipse,Polygon:De.Polygon,Rect:De.Rectangle,RoundedRect:De.RoundedRectangle},Ah={Circle:["x","y","radius"],Ellipse:["x","y","width","height"],Rect:["x","y","width","height"],RoundedRect:["x","y","width","height","radius"],Polygon:["paths"]},wh=function(t){ps(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="Event",r}return e.prototype.init=function(r){var d=(r===void 0?{}:r).moveWhenInside,R=d===void 0?!1:d;this.renderSystem=this.game.getSystem(Kt),this.renderSystem.rendererManager.register(this);try{this.renderSystem.application.renderer.plugins.interaction.moveWhenInside=R}catch(x){console.error("Setting moveWhenInside error.",x)}},e.prototype.componentChanged=function(r){switch(r.type){case Qe.ADD:this.add(r);break;case Qe.REMOVE:this.remove(r);break;case Qe.CHANGE:this.change(r);break}},e.prototype.add=function(r){var d=this.containerManager.getContainer(r.gameObject.id);d.interactive=!0,d.interactiveChildren=!0;var R=r.component;R.hitArea&&this.addHitArea(r,d,R.hitArea),d.on("pointertap",function(x){R.emit("tap",{stopPropagation:function(){return x.stopPropagation()},data:{pointerId:x.data.pointerId,position:{x:x.data.global.x,y:x.data.global.y},localPosition:d.worldTransform.applyInverse(x.data.global)},gameObject:R.gameObject})}),d.on("pointerdown",function(x){R.emit("touchstart",{stopPropagation:function(){return x.stopPropagation()},data:{pointerId:x.data.pointerId,position:{x:x.data.global.x,y:x.data.global.y},localPosition:d.worldTransform.applyInverse(x.data.global)},gameObject:R.gameObject})}),d.on("pointermove",function(x){R.emit("touchmove",{stopPropagation:function(){return x.stopPropagation()},data:{pointerId:x.data.pointerId,position:{x:x.data.global.x,y:x.data.global.y},localPosition:d.worldTransform.applyInverse(x.data.global)},gameObject:R.gameObject})}),d.on("pointerup",function(x){R.emit("touchend",{stopPropagation:function(){return x.stopPropagation()},data:{pointerId:x.data.pointerId,position:{x:x.data.global.x,y:x.data.global.y},localPosition:d.worldTransform.applyInverse(x.data.global)},gameObject:R.gameObject})}),d.on("pointerupoutside",function(x){R.emit("touchendoutside",{stopPropagation:function(){return x.stopPropagation()},data:{pointerId:x.data.pointerId,position:{x:x.data.global.x,y:x.data.global.y},localPosition:d.worldTransform.applyInverse(x.data.global)},gameObject:R.gameObject})}),d.on("pointercancel",function(x){R.emit("touchcancel",{stopPropagation:function(){return x.stopPropagation()},data:{pointerId:x.data.pointerId,position:{x:x.data.global.x,y:x.data.global.y},localPosition:d.worldTransform.applyInverse(x.data.global)},gameObject:R.gameObject})})},e.prototype.remove=function(r){var d=this.containerManager.getContainer(r.gameObject.id);d.interactive=!1,d.off("tap"),d.off("pointerdown"),d.off("pointermove"),d.off("pointerup"),d.off("pointerupoutside"),d.off("pointercancel"),r.component.removeAllListeners()},e.prototype.change=function(r){var d=this.containerManager.getContainer(r.gameObject.id);d.interactive=!0;var R=r.component;R.hitArea?this.addHitArea(r,d,R.hitArea):R.hitArea=null},e.prototype.addHitArea=function(r,d,R){var x,W,z,ee=R.type,k=R.style;if(!_s[ee]){console.error(r.gameObject.name+"'s hitArea type is not defined");return}var ie=[];try{for(var ce=Ch(Ah[ee]),me=ce.next();!me.done;me=ce.next()){var Oe=me.value;ie.push(k[Oe])}}catch(Ae){x={error:Ae}}finally{try{me&&!me.done&&(W=ce.return)&&W.call(ce)}finally{if(x)throw x.error}}var be=new((z=_s[ee]).bind.apply(z,ds([void 0],ie)));d.hitArea=be},e.systemName="Event",e=bh([Ut.componentObserver({Event:[{prop:["hitArea"],deep:!0}]})],e),e}(rr),Ph=wh,ys;(function(t){t.Circle="Circle",t.Ellipse="Ellipse",t.Polygon="Polygon",t.Rect="Rect",t.RoundedRect="RoundedRect"})(ys||(ys={}));var Mh=function(t){ps(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hitArea=void 0,r}return e.prototype.init=function(r){r&&Object.assign(this,r)},e.prototype.emit=function(r){for(var d=[],R=1;R<arguments.length;R++)d[R-1]=arguments[R];return t.prototype.emit.apply(this,ds([r],d))},e.prototype.once=function(r,d,R){return t.prototype.once.call(this,r,d,R)},e.prototype.on=function(r,d,R){return t.prototype.on.call(this,r,d,R)},e.componentName="Event",e}(lt),Pr=Mh;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ei=function(t,e){return ei=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var R in d)d.hasOwnProperty(R)&&(r[R]=d[R])},ei(t,e)};function vs(t,e){ei(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Mr(t,e,r,d){var R=arguments.length,x=R<3?e:d===null?d=Object.getOwnPropertyDescriptor(e,r):d,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,e,r,d);else for(var z=t.length-1;z>=0;z--)(W=t[z])&&(x=(R<3?W(x):R>3?W(e,r,x):W(e,r))||x);return R>3&&x&&Object.defineProperty(e,r,x),x}function Fh(t,e,r,d){return new(r||(r=Promise))(function(R,x){function W(k){try{ee(d.next(k))}catch(ie){x(ie)}}function z(k){try{ee(d.throw(k))}catch(ie){x(ie)}}function ee(k){k.done?R(k.value):new r(function(ie){ie(k.value)}).then(W,z)}ee((d=d.apply(t,e||[])).next())})}function Dh(t,e){var r={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,R,x,W;return W={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function z(k){return function(ie){return ee([k,ie])}}function ee(k){if(d)throw new TypeError("Generator is already executing.");for(;r;)try{if(d=1,R&&(x=k[0]&2?R.return:k[0]?R.throw||((x=R.return)&&x.call(R),0):R.next)&&!(x=x.call(R,k[1])).done)return x;switch(R=0,x&&(k=[k[0]&2,x.value]),k[0]){case 0:case 1:x=k;break;case 4:return r.label++,{value:k[1],done:!1};case 5:r.label++,R=k[1],k=[0];continue;case 7:k=r.ops.pop(),r.trys.pop();continue;default:if(x=r.trys,!(x=x.length>0&&x[x.length-1])&&(k[0]===6||k[0]===2)){r=0;continue}if(k[0]===3&&(!x||k[1]>x[0]&&k[1]<x[3])){r.label=k[1];break}if(k[0]===6&&r.label<x[1]){r.label=x[1],x=k;break}if(x&&r.label<x[2]){r.label=x[2],r.ops.push(k);break}x[2]&&r.ops.pop(),r.trys.pop();continue}k=e.call(t,r)}catch(ie){k=[6,ie],R=0}finally{d=x=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}function gs(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}var Bh=function(t){vs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.resource="",r.autoPlay=!0,r.speed=100,r.forwards=!1,r.waitPlay=!1,r.waitStop=!1,r.times=1/0,r.count=0,r.complete=!1,r}return e.prototype.init=function(r){var d=this;r&&Object.assign(this,r),this.on("loop",function(){++d.count>=d.times&&(d.forwards?d.gotoAndStop(d.totalFrames-1):d.animate.stop(),d.complete=!0,d.emit("complete"))})},e.prototype.play=function(r){r===void 0&&(r=1/0),r!==0&&(this.times=r,this.animate?(this.complete&&this.gotoAndStop(0),this.animate.play(),this.count=0,this.complete=!1):this.waitPlay=!0)},e.prototype.stop=function(){this.animate?this.animate.stop():this.waitStop=!0},Object.defineProperty(e.prototype,"animate",{get:function(){return this._animate},set:function(r){this._animate=r,this.waitPlay&&(this.waitPlay=!1,this.play(this.times)),this.waitStop&&(this.waitStop=!1,this.stop())},enumerable:!1,configurable:!0}),e.prototype.gotoAndPlay=function(r){this.animate.gotoAndPlay(r)},e.prototype.gotoAndStop=function(r){this.animate.gotoAndStop(r)},Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r,d;return(d=(r=this.animate)===null||r===void 0?void 0:r.animatedSprite)===null||d===void 0?void 0:d.currentFrame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalFrames",{get:function(){var r,d;return(d=(r=this.animate)===null||r===void 0?void 0:r.animatedSprite)===null||d===void 0?void 0:d.totalFrames},enumerable:!1,configurable:!0}),e.componentName="SpriteAnimation",Mr([pt("string")],e.prototype,"resource",void 0),Mr([pt("boolean")],e.prototype,"autoPlay",void 0),Mr([pt("number"),Bt(10)],e.prototype,"speed",void 0),Mr([pt("boolean")],e.prototype,"forwards",void 0),e}(lt),St=Bh,ms="_s|r|c_";_t.registerInstance(pe.SPRITE_ANIMATION,function(t){var e=t.name,r=t.data;return new Promise(function(d){var R,x,W=r.json,z=De.BaseTexture.from(r.image),ee=W.frames||{},k=W.animations||{},ie={};for(var ce in ee){var me=e+ms+ce;ie[me]=ee[ce]}for(var ce in k){var Oe=[];if(k[ce]&&k[ce].length>=0)try{for(var be=(R=void 0,gs(k[ce])),Ae=be.next();!Ae.done;Ae=be.next()){var ze=Ae.value,Xe=e+ms+ze;Oe.push(Xe)}}catch($e){R={error:$e}}finally{try{Ae&&!Ae.done&&(x=be.return)&&x.call(be)}finally{if(R)throw R.error}}k[ce]=Oe}W.frames=ie;var et=new De.Spritesheet(z,W);et.parse(function(){var ht=et.textures,$e=[];for(var yt in ht)$e.push(ht[yt]);d($e)})})}),_t.registerDestroy(pe.SPRITE_ANIMATION,function(t){var e,r,d=t.instance;if(!!d)try{for(var R=gs(d),x=R.next();!x.done;x=R.next()){var W=x.value;W.destroy(!0)}}catch(z){e={error:z}}finally{try{x&&!x.done&&(r=R.return)&&r.call(R)}finally{if(e)throw e.error}}});var Nh=function(t){vs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="SpriteAnimation",r.animates={},r.autoPlay={},r}return e.prototype.init=function(){this.renderSystem=this.game.getSystem(Kt),this.renderSystem.rendererManager.register(this)},e.prototype.rendererUpdate=function(r){var d=r.transform.size,R=d.width,x=d.height;this.animates[r.id]&&(this.animates[r.id].animatedSprite.width=R,this.animates[r.id].animatedSprite.height=x)},e.prototype.componentChanged=function(r){return Fh(this,void 0,void 0,function(){var d,R,x;return Dh(this,function(W){switch(W.label){case 0:return r.componentName!=="SpriteAnimation"?[3,7]:(d=r.component,this.autoPlay[r.gameObject.id]=d.autoPlay,r.type!==Qe.ADD?[3,2]:[4,_t.getResource(d.resource)]);case 1:return R=W.sent().instance,R||console.error("GameObject:"+r.gameObject.name+"'s Img resource load error"),this.add({frames:R,id:r.gameObject.id,component:d}),[3,7];case 2:return r.type!==Qe.CHANGE?[3,6]:r.prop&&r.prop.prop[0]==="speed"?(this.animates[r.gameObject.id].speed=1e3/60/d.speed,[3,5]):[3,3];case 3:return[4,_t.getResource(d.resource)];case 4:x=W.sent().instance,x||console.error("GameObject:"+r.gameObject.name+"'s Img resource load error"),this.change({frames:x,id:r.gameObject.id,component:d}),W.label=5;case 5:return[3,7];case 6:r.type===Qe.REMOVE&&this.remove(r.gameObject.id),W.label=7;case 7:return[2]}})})},e.prototype.add=function(r){var d=r.frames,R=r.id,x=r.component,W=new Yc({frames:d});this.animates[R]=W,this.containerManager.getContainer(R).addChildAt(W.animatedSprite,0),W.animatedSprite.onComplete=function(){x.emit("complete")},W.animatedSprite.onFrameChange=function(){x.emit("frameChange")},W.animatedSprite.onLoop=function(){x.emit("loop")},x.animate=this.animates[R],this.animates[R].speed=1e3/60/x.speed,this.autoPlay[R]&&W.animatedSprite.play()},e.prototype.change=function(r){var d=r.frames,R=r.id,x=r.component;this.remove(R,!0),this.add({frames:d,id:R,component:x})},e.prototype.remove=function(r,d){var R=this.animates[r];this.autoPlay[r]=R.animatedSprite.playing,this.containerManager.getContainer(r).removeChild(R.animatedSprite),R.animatedSprite.destroy({children:!0}),delete this.animates[r],d||delete this.autoPlay[r]},e.systemName="SpriteAnimation",e=Mr([Ut.componentObserver({SpriteAnimation:["speed","resource"]})],e),e}(rr),Wh=Nh;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ti=function(t,e){return ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var R in d)d.hasOwnProperty(R)&&(r[R]=d[R])},ti(t,e)};function Ts(t,e){ti(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Fr(t,e,r,d){var R=arguments.length,x=R<3?e:d===null?d=Object.getOwnPropertyDescriptor(e,r):d,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,e,r,d);else for(var z=t.length-1;z>=0;z--)(W=t[z])&&(x=(R<3?W(x):R>3?W(e,r,x):W(e,r))||x);return R>3&&x&&Object.defineProperty(e,r,x),x}function kh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var d=r.call(t),R,x=[],W;try{for(;(e===void 0||e-- >0)&&!(R=d.next()).done;)x.push(R.value)}catch(z){W={error:z}}finally{try{R&&!R.done&&(r=d.return)&&r.call(d)}finally{if(W)throw W.error}}return x}function Gh(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kh(arguments[e]));return t}var Uh=function(t){Ts(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=!1,r.visible=!0,r.alpha=1,r.zIndex=0,r.sortableChildren=!1,r}return e.prototype.init=function(r){r&&Object.assign(this,r)},e.componentName="Render",Fr([pt("boolean")],e.prototype,"visible",void 0),Fr([pt("number"),Bt(.1)],e.prototype,"alpha",void 0),Fr([pt("number"),Bt(1)],e.prototype,"zIndex",void 0),Fr([pt("boolean")],e.prototype,"sortableChildren",void 0),e}(lt),ft=Uh,Hh=function(t){Ts(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="Render",r}return e.prototype.init=function(){this.renderSystem=this.game.getSystem(Kt),this.renderSystem.rendererManager.register(this)},e.prototype.rendererUpdate=function(r){var d=this,R=r.getComponent("Render"),x=this.containerManager.getContainer(r.id);if(x.alpha=R.alpha,x.visible=R.visible,R.sortDirty&&R.sortableChildren){var W=r.transform.children.map(function(ie){var ce=ie.gameObject;return ce}),z=W.sort(function(ie,ce){var me=ie.getComponent("Render"),Oe=ce.getComponent("Render");return me?Oe?me.zIndex-Oe.zIndex:1:-1}).map(function(ie){return d.containerManager.getContainer(ie.id)}),ee=this.containerManager.getContainer(R.gameObject.id).children,k=ee.filter(function(ie){return z.indexOf(ie)===-1});ee.length=0,ee.push.apply(ee,Gh(k,z)),R.sortDirty=!1}},e.prototype.componentChanged=function(r){(r.type===Qe.ADD||r.type===Qe.REMOVE)&&this.add(r),r.type===Qe.CHANGE&&this.change(r),r.type===Qe.REMOVE&&this.remove(r)},e.prototype.add=function(r){r.component.name==="Render"&&this.setDirty(r)},e.prototype.change=function(r){r.component.name==="Render"&&r.prop.prop[0]==="zIndex"&&this.setDirty(r)},e.prototype.remove=function(r){if(r.component.name==="Render"){var d=this.containerManager.getContainer(r.gameObject.id);d.alpha=1}},e.prototype.setDirty=function(r){var d=r.gameObject.parent&&r.gameObject.parent.getComponent("Render");d&&(d.sortDirty=!0)},e.systemName="Render",e=Fr([Ut.componentObserver({Render:["zIndex"]})],e),e}(rr),Xh=Hh,Ct={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=1.70158*1.525;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-Ct.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?Ct.Bounce.In(t*2)*.5:Ct.Bounce.Out(t*2-1)*.5+.5}}},Dr;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?Dr=function(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?Dr=self.performance.now.bind(self.performance):Date.now!==void 0?Dr=Date.now:Dr=function(){return new Date().getTime()};var nr=Dr,ri=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,r){e===void 0&&(e=nr()),r===void 0&&(r=!1);var d=Object.keys(this._tweens);if(d.length===0)return!1;for(;d.length>0;){this._tweensAddedDuringUpdate={};for(var R=0;R<d.length;R++){var x=this._tweens[d[R]],W=!r;x&&x.update(e,W)===!1&&!r&&delete this._tweens[d[R]]}d=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),vr={Linear:function(t,e){var r=t.length-1,d=r*e,R=Math.floor(d),x=vr.Utils.Linear;return e<0?x(t[0],t[1],d):e>1?x(t[r],t[r-1],r-d):x(t[R],t[R+1>r?r:R+1],d-R)},Bezier:function(t,e){for(var r=0,d=t.length-1,R=Math.pow,x=vr.Utils.Bernstein,W=0;W<=d;W++)r+=R(1-e,d-W)*R(e,W)*t[W]*x(d,W);return r},CatmullRom:function(t,e){var r=t.length-1,d=r*e,R=Math.floor(d),x=vr.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(R=Math.floor(d=r*(1+e))),x(t[(R-1+r)%r],t[R],t[(R+1)%r],t[(R+2)%r],d-R)):e<0?t[0]-(x(t[0],t[0],t[1],t[1],-d)-t[0]):e>1?t[r]-(x(t[r],t[r],t[r-1],t[r-1],d-r)-t[r]):x(t[R?R-1:0],t[R],t[r<R+1?r:R+1],t[r<R+2?r:R+2],d-R)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=vr.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:function(){var t=[1];return function(e){var r=1;if(t[e])return t[e];for(var d=e;d>1;d--)r*=d;return t[e]=r,r}}(),CatmullRom:function(t,e,r,d,R){var x=(r-t)*.5,W=(d-e)*.5,z=R*R,ee=R*z;return(2*e-2*r+x+W)*ee+(-3*e+3*r-2*x-W)*z+x*R+e}}},ni=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),Os=new ri,Es=function(){function t(e,r){r===void 0&&(r=Os),this._object=e,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ct.Linear.None,this._interpolationFunction=vr.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=ni.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,r){return this._valuesEnd=Object.create(e),r!==void 0&&(this._duration=r),this},t.prototype.duration=function(e){return this._duration=e,this},t.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?nr()+parseFloat(e):e:nr(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(e,r,d,R){for(var x in d){var W=e[x],z=Array.isArray(W),ee=z?"array":typeof W,k=!z&&Array.isArray(d[x]);if(!(ee==="undefined"||ee==="function")){if(k){var ie=d[x];if(ie.length===0)continue;ie=ie.map(this._handleRelativeValue.bind(this,W)),d[x]=[W].concat(ie)}if((ee==="object"||z)&&W&&!k){r[x]=z?[]:{};for(var ce in W)r[x][ce]=W[ce];R[x]=z?[]:{},this._setupProperties(W,r[x],d[x],R[x])}else typeof r[x]=="undefined"&&(r[x]=W),z||(r[x]*=1),k?R[x]=d[x].slice().reverse():R[x]=r[x]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=nr()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=nr()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return this._group=e,this},t.prototype.delay=function(e){return this._delayTime=e,this},t.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return this._yoyo=e,this},t.prototype.easing=function(e){return this._easingFunction=e,this},t.prototype.interpolation=function(e){return this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,r){if(e===void 0&&(e=nr()),r===void 0&&(r=!0),this._isPaused)return!0;var d,R,x=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>x)return!1;r&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),R=(e-this._startTime)/this._duration,R=this._duration===0||R>1?1:R;var W=this._easingFunction(R);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,W),this._onUpdateCallback&&this._onUpdateCallback(this._object,R),R===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(d in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[d]=="string"&&(this._valuesStartRepeat[d]=this._valuesStartRepeat[d]+parseFloat(this._valuesEnd[d])),this._yoyo&&this._swapEndStartRepeatValues(d),this._valuesStart[d]=this._valuesStartRepeat[d];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var z=0,ee=this._chainedTweens.length;z<ee;z++)this._chainedTweens[z].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,r,d,R){for(var x in d)if(r[x]!==void 0){var W=r[x]||0,z=d[x],ee=Array.isArray(e[x]),k=Array.isArray(z),ie=!ee&&k;ie?e[x]=this._interpolationFunction(z,R):typeof z=="object"&&z?this._updateProperties(e[x],W,z,R):(z=this._handleRelativeValue(W,z),typeof z=="number"&&(e[x]=W+(z-W)*R))}},t.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},t.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],d=this._valuesEnd[e];typeof d=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(d):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},t}(),jh="18.6.4",Kh=ni.nextId,Wt=Os,Vh=Wt.getAll.bind(Wt),Yh=Wt.removeAll.bind(Wt),zh=Wt.add.bind(Wt),Zh=Wt.remove.bind(Wt),$h=Wt.update.bind(Wt),Gv={Easing:Ct,Group:ri,Interpolation:vr,now:nr,Sequence:ni,nextId:Kh,Tween:Es,VERSION:jh,getAll:Vh,removeAll:Yh,add:zh,remove:Zh,update:$h};const Uv=null;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ii=function(t,e){return ii=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var R in d)d.hasOwnProperty(R)&&(r[R]=d[R])},ii(t,e)};function Ls(t,e){ii(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Jh(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}var Qh={linear:Ct.Linear.None,"ease-in":Ct.Quadratic.In,"ease-out":Ct.Quadratic.Out,"ease-in-out":Ct.Quadratic.InOut,"bounce-in":Ct.Bounce.In,"bounce-out":Ct.Bounce.Out,"bounce-in-out":Ct.Bounce.InOut,none:function(t){return~~t}},qh=function(){function t(e,r){this.tweens=[],this.timelines=[],this.finishCount=0,this.callbacks=new Map,this.objectCache={},this.currIteration=0,this.timelines=e,this.tweenGroup=r}return t.prototype.on=function(e,r){this.callbacks[e]||this.callbacks.set(e,[]),this.callbacks.get(e).push(r)},t.prototype.emit=function(e){var r=this.callbacks.get(e);!r||!r.length||r.forEach(function(d){return d()})},t.prototype.checkFinish=function(){if(++this.finishCount==this.tweens.length)if(++this.currIteration==this.iteration)this.emit("finish");else{if(this.stoped)return;this.start()}},t.prototype.getObjectCache=function(e,r){var d=""+e.gameObject.id+e.name;if(this.objectCache[d]||(this.objectCache[d]={}),this.objectCache[d][r])return this.objectCache[d][r];for(var R=r.split("."),x=R.length-1,W=e,z=0;z<x;z++)W=W[R[z]];return this.objectCache[d][r]={property:W,key:R[x]},this.objectCache[d][r]},t.prototype.doAnim=function(e){var r=e.component,d=e.name,R=e.value,x=this.getObjectCache(r,d),W=x.property,z=x.key;W[z]=R},t.prototype.init=function(){var e=this;this.checkFinishFunc=this.checkFinish.bind(this);var r;this.timelines.forEach(function(d,R){for(var x=0;x<d.values.length-1;x++){var W=d.values[x],z=d.values[x+1],ee=new Es({value:W.value},e.tweenGroup).to({value:z.value}).duration(z.time-W.time).easing(Qh[W.tween]).onUpdate(function(k){e.doAnim({component:d.component,name:d.name,value:k.value})});x===0?e.tweens[R]=ee:r.chain(ee),r=ee}r&&r.onComplete(function(){return e.checkFinishFunc()})})},t.prototype.play=function(e,r){e===void 0&&(e=1),this.currentTime=r,this.stoped=!1,this.start(),this.currIteration=0,this.iteration=e},t.prototype.start=function(){var e=this;this.finishCount=0,this.tweens.length=0,this.init(),this.tweens.forEach(function(r){return r.start(e.currentTime)})},t.prototype.pause=function(){var e=this;this.tweens.forEach(function(r){return r.pause(e.currentTime)})},t.prototype.resume=function(){var e=this;this.tweens.forEach(function(r){return r.resume(e.currentTime)})},t.prototype.stop=function(){this.stoped=!0,this.tweens.forEach(function(e){return e.stop()})},t.prototype.destroy=function(){this.stop(),this.tweens=null,this.timelines=null,this.objectCache=null,this.callbacks.clear(),this.callbacks=null},t}(),ef=qh,tf=function(t){Ls(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.animations={},r.group={},r.currentTime=0,r.needPlay=[],r}return e.prototype.init=function(r){var d=(r===void 0?{group:{}}:r).group;this.group=d,this.tweenGroup=new ri},e.prototype.awake=function(){for(var r in this.group)this.newAnimation(r)},e.prototype.play=function(r,d){r||(r=Object.keys(this.group)[0]),r&&!this.animations[r]&&this.group[r]&&this.newAnimation(r),r&&this.animations[r]&&this.needPlay.push({name:r,iteration:d})},e.prototype.stop=function(r){var d,R;if(r)(R=this.animations[r])===null||R===void 0||R.stop();else for(var x in this.animations)(d=this.animations[x])===null||d===void 0||d.stop()},e.prototype.onPause=function(){var r;for(var d in this.animations)(r=this.animations[d])===null||r===void 0||r.pause()},e.prototype.onResume=function(){var r;for(var d in this.animations)(r=this.animations[d])===null||r===void 0||r.resume()},e.prototype.onDestroy=function(){var r;for(var d in this.animations)(r=this.animations[d])===null||r===void 0||r.destroy();this.tweenGroup.removeAll(),this.tweenGroup=null,this.group=null,this.animations=null,this.removeAllListeners()},e.prototype.update=function(r){var d,R,x;this.currentTime=r.time;for(var W in this.animations)this.animations[W].currentTime=r.time;this.tweenGroup.update(r.time);try{for(var z=Jh(this.needPlay),ee=z.next();!ee.done;ee=z.next()){var k=ee.value;(x=this.animations[k.name])===null||x===void 0||x.play(k.iteration,this.currentTime)}}catch(ie){d={error:ie}}finally{try{ee&&!ee.done&&(R=z.return)&&R.call(z)}finally{if(d)throw d.error}}this.needPlay.length=0},e.prototype.newAnimation=function(r){var d=this,R=new ef(this.group[r],this.tweenGroup);R.on("finish",function(){return d.emit("finish",r)}),this.animations[r]=R},e.componentName="Transition",e}(lt),rf=tf,nf=function(t){Ls(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="transition",r}return e.systemName="transition",e}(dr),sf=nf;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var si=function(t,e){return si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var R in d)d.hasOwnProperty(R)&&(r[R]=d[R])},si(t,e)};function ai(t,e){si(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function af(t,e,r,d){var R=arguments.length,x=R<3?e:d===null?d=Object.getOwnPropertyDescriptor(e,r):d,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,e,r,d);else for(var z=t.length-1;z>=0;z--)(W=t[z])&&(x=(R<3?W(x):R>3?W(e,r,x):W(e,r))||x);return R>3&&x&&Object.defineProperty(e,r,x),x}function of(t,e,r,d){return new(r||(r=Promise))(function(R,x){function W(k){try{ee(d.next(k))}catch(ie){x(ie)}}function z(k){try{ee(d.throw(k))}catch(ie){x(ie)}}function ee(k){k.done?R(k.value):new r(function(ie){ie(k.value)}).then(W,z)}ee((d=d.apply(t,e||[])).next())})}function uf(t,e){var r={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,R,x,W;return W={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function z(k){return function(ie){return ee([k,ie])}}function ee(k){if(d)throw new TypeError("Generator is already executing.");for(;r;)try{if(d=1,R&&(x=k[0]&2?R.return:k[0]?R.throw||((x=R.return)&&x.call(R),0):R.next)&&!(x=x.call(R,k[1])).done)return x;switch(R=0,x&&(k=[k[0]&2,x.value]),k[0]){case 0:case 1:x=k;break;case 4:return r.label++,{value:k[1],done:!1};case 5:r.label++,R=k[1],k=[0];continue;case 7:k=r.ops.pop(),r.trys.pop();continue;default:if(x=r.trys,!(x=x.length>0&&x[x.length-1])&&(k[0]===6||k[0]===2)){r=0;continue}if(k[0]===3&&(!x||k[1]>x[0]&&k[1]<x[3])){r.label=k[1];break}if(k[0]===6&&r.label<x[1]){r.label=x[1],x=k;break}if(x&&r.label<x[2]){r.label=x[2],r.ops.push(k);break}x[2]&&r.ops.pop(),r.trys.pop();continue}k=e.call(t,r)}catch(ie){k=[6,ie],R=0}finally{d=x=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}var lf=function(t){ai(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(De.Graphics),cf=lf,hf=function(t){ai(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.graphics=null,r}return e.prototype.init=function(){this.graphics=new cf},e.componentName="Graphics",e}(lt),Br=hf,ff=function(t){ai(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="Graphics",r}return e.prototype.init=function(){this.renderSystem=this.game.getSystem(Kt),this.renderSystem.rendererManager.register(this)},e.prototype.componentChanged=function(r){return of(this,void 0,void 0,function(){return uf(this,function(d){return r.type===Qe.ADD?this.containerManager.getContainer(r.gameObject.id).addChildAt(r.component.graphics,0):r.type===Qe.REMOVE&&(this.containerManager.getContainer(r.gameObject.id).removeChild(r.component.graphics),r.component.graphics.destroy({children:!0})),[2]})})},e.systemName="Graphics",e=af([Ut.componentObserver({Graphics:["graphics"]})],e),e}(rr),pf=ff;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var oi=function(t,e){return oi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var R in d)d.hasOwnProperty(R)&&(r[R]=d[R])},oi(t,e)};function Rs(t,e){oi(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function xs(t,e,r,d){var R=arguments.length,x=R<3?e:d===null?d=Object.getOwnPropertyDescriptor(e,r):d,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,e,r,d);else for(var z=t.length-1;z>=0;z--)(W=t[z])&&(x=(R<3?W(x):R>3?W(e,r,x):W(e,r))||x);return R>3&&x&&Object.defineProperty(e,r,x),x}function df(t,e,r,d){return new(r||(r=Promise))(function(R,x){function W(k){try{ee(d.next(k))}catch(ie){x(ie)}}function z(k){try{ee(d.throw(k))}catch(ie){x(ie)}}function ee(k){k.done?R(k.value):new r(function(ie){ie(k.value)}).then(W,z)}ee((d=d.apply(t,e||[])).next())})}function _f(t,e){var r={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,R,x,W;return W={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function z(k){return function(ie){return ee([k,ie])}}function ee(k){if(d)throw new TypeError("Generator is already executing.");for(;r;)try{if(d=1,R&&(x=k[0]&2?R.return:k[0]?R.throw||((x=R.return)&&x.call(R),0):R.next)&&!(x=x.call(R,k[1])).done)return x;switch(R=0,x&&(k=[k[0]&2,x.value]),k[0]){case 0:case 1:x=k;break;case 4:return r.label++,{value:k[1],done:!1};case 5:r.label++,R=k[1],k=[0];continue;case 7:k=r.ops.pop(),r.trys.pop();continue;default:if(x=r.trys,!(x=x.length>0&&x[x.length-1])&&(k[0]===6||k[0]===2)){r=0;continue}if(k[0]===3&&(!x||k[1]>x[0]&&k[1]<x[3])){r.label=k[1];break}if(k[0]===6&&r.label<x[1]){r.label=x[1],x=k;break}if(x&&r.label<x[2]){r.label=x[2],r.ops.push(k);break}x[2]&&r.ops.pop(),r.trys.pop();continue}k=e.call(t,r)}catch(ie){k=[6,ie],R=0}finally{d=x=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}var yf=function(t){Rs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.text="",r.style={},r}return e.prototype.init=function(r){var d=new De.TextStyle({fontSize:20}),R={};for(var x in d)x.indexOf("_")===0&&(R[x.substring(1)]=d[x]);this.style=R,r&&(this.text=r.text,Object.assign(this.style,r.style))},e.componentName="Text",xs([pt("string")],e.prototype,"text",void 0),e}(lt),qr=yf,vf=function(t){Rs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="Text",r.texts={},r}return e.prototype.init=function(){this.renderSystem=this.game.getSystem(Kt),this.renderSystem.rendererManager.register(this)},e.prototype.componentChanged=function(r){return df(this,void 0,void 0,function(){var d,R;return _f(this,function(x){return r.componentName!=="Text"?[2]:(r.type===Qe.ADD?(d=r.component,R=new Zc(d.text,d.style),this.containerManager.getContainer(r.gameObject.id).addChildAt(R,0),this.texts[r.gameObject.id]={text:R,component:r.component},this.setSize(r)):r.type===Qe.REMOVE?(this.containerManager.getContainer(r.gameObject.id).removeChild(this.texts[r.gameObject.id].text),this.texts[r.gameObject.id].text.destroy({children:!0}),delete this.texts[r.gameObject.id]):(this.change(r),this.setSize(r)),[2])})})},e.prototype.change=function(r){var d=this.texts[r.gameObject.id],R=d.text,x=d.component;r.prop.prop[0]==="text"?R.text=x.text:r.prop.prop[0]==="style"&&Object.assign(R.style,r.component.style)},e.prototype.setSize=function(r){var d=r.gameObject.transform;!d||(d.size.width=this.texts[r.gameObject.id].text.width,d.size.height=this.texts[r.gameObject.id].text.height)},e.systemName="Text",e=xs([Ut.componentObserver({Text:["text",{prop:["style"],deep:!0}]})],e),e}(rr),gf=vf;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ui=function(t,e){return ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var R in d)d.hasOwnProperty(R)&&(r[R]=d[R])},ui(t,e)};function Ss(t,e){ui(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function li(t,e,r,d){var R=arguments.length,x=R<3?e:d===null?d=Object.getOwnPropertyDescriptor(e,r):d,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,e,r,d);else for(var z=t.length-1;z>=0;z--)(W=t[z])&&(x=(R<3?W(x):R>3?W(e,r,x):W(e,r))||x);return R>3&&x&&Object.defineProperty(e,r,x),x}function bs(t,e,r,d){return new(r||(r=Promise))(function(R,x){function W(k){try{ee(d.next(k))}catch(ie){x(ie)}}function z(k){try{ee(d.throw(k))}catch(ie){x(ie)}}function ee(k){k.done?R(k.value):new r(function(ie){ie(k.value)}).then(W,z)}ee((d=d.apply(t,e||[])).next())})}function Cs(t,e){var r={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,R,x,W;return W={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function z(k){return function(ie){return ee([k,ie])}}function ee(k){if(d)throw new TypeError("Generator is already executing.");for(;r;)try{if(d=1,R&&(x=k[0]&2?R.return:k[0]?R.throw||((x=R.return)&&x.call(R),0):R.next)&&!(x=x.call(R,k[1])).done)return x;switch(R=0,x&&(k=[k[0]&2,x.value]),k[0]){case 0:case 1:x=k;break;case 4:return r.label++,{value:k[1],done:!1};case 5:r.label++,R=k[1],k=[0];continue;case 7:k=r.ops.pop(),r.trys.pop();continue;default:if(x=r.trys,!(x=x.length>0&&x[x.length-1])&&(k[0]===6||k[0]===2)){r=0;continue}if(k[0]===3&&(!x||k[1]>x[0]&&k[1]<x[3])){r.label=k[1];break}if(k[0]===6&&r.label<x[1]){r.label=x[1],x=k;break}if(x&&r.label<x[2]){r.label=x[2],r.ops.push(k);break}x[2]&&r.ops.pop(),r.trys.pop();continue}k=e.call(t,r)}catch(ie){k=[6,ie],R=0}finally{d=x=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}function mf(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}var Tf=function(t){Ss(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.resource="",r.spriteName="",r}return e.prototype.init=function(r){r&&r.resource&&(this.resource=r.resource,this.spriteName=r.spriteName)},e.componentName="Sprite",li([pt("string")],e.prototype,"resource",void 0),li([pt("string")],e.prototype,"spriteName",void 0),e}(lt),gr=Tf,Of=function(){function t(e){this._image=null,this._image=e,e?e instanceof HTMLImageElement?this.sprite=De.Sprite.from(e):e instanceof De.Texture&&(this.sprite=new De.Sprite(e)):this.sprite=new De.Sprite}return Object.defineProperty(t.prototype,"image",{get:function(){return this._image},set:function(e){this._image!==e&&(e instanceof HTMLImageElement?(this.sprite.texture&&this.sprite.texture.destroy(!1),this.sprite.texture=De.Texture.from(e)):e instanceof De.Texture&&(this.sprite.texture=e),this._image=e)},enumerable:!1,configurable:!0}),t}(),Ef=Of,en="_s|r|c_";_t.registerInstance(pe.SPRITE,function(t){var e=t.name,r=t.data;return new Promise(function(d){var R,x,W=r.json,z=De.BaseTexture.from(r.image),ee=W.frames||{},k=W.animations||{},ie={};for(var ce in ee){var me=e+en+ce;ie[me]=ee[ce]}for(var ce in k){var Oe=[];if(k[ce]&&k[ce].length>=0)try{for(var be=(R=void 0,mf(k[ce])),Ae=be.next();!Ae.done;Ae=be.next()){var ze=Ae.value,Xe=e+en+ze;Oe.push(Xe)}}catch($e){R={error:$e}}finally{try{Ae&&!Ae.done&&(x=be.return)&&x.call(be)}finally{if(R)throw R.error}}k[ce]=Oe}W.frames=ie;var et=new De.Spritesheet(z,W);et.parse(function(){var ht=et.textures;d(ht)})})}),_t.registerDestroy(pe.SPRITE,function(t){var e=t.instance;if(!!e)for(var r in e)e[r].destroy(!0)});var Lf=function(t){Ss(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="Sprite",r.sprites={},r}return e.prototype.init=function(){this.renderSystem=this.game.getSystem(Kt),this.renderSystem.rendererManager.register(this)},e.prototype.rendererUpdate=function(r){var d=r.transform.size,R=d.width,x=d.height;this.sprites[r.id]&&(this.sprites[r.id].sprite.width=R,this.sprites[r.id].sprite.height=x)},e.prototype.componentChanged=function(r){return bs(this,void 0,void 0,function(){var d,R,x,W,z=this;return Cs(this,function(ee){switch(ee.label){case 0:return r.componentName!=="Sprite"?[3,4]:(d=r.component,r.type!==Qe.ADD?[3,1]:(R=new Ef(null),_t.getResource(d.resource).then(function(k){var ie=k.instance;return bs(z,void 0,void 0,function(){return Cs(this,function(ce){return ie?(R.image=ie[d.resource+en+d.spriteName],[2]):(console.error("GameObject:"+r.gameObject.name+"'s Sprite resource load error"),[2])})})}),this.sprites[r.gameObject.id]=R,this.containerManager.getContainer(r.gameObject.id).addChildAt(R.sprite,0),[3,4]));case 1:return r.type!==Qe.CHANGE?[3,3]:[4,_t.getResource(d.resource)];case 2:return x=ee.sent().instance,x?(this.sprites[r.gameObject.id].image=x[d.resource+en+d.spriteName],[3,4]):(console.error("GameObject:"+r.gameObject.name+"'s Sprite resource load error"),[2]);case 3:r.type===Qe.REMOVE&&(W=this.sprites[r.gameObject.id],this.containerManager.getContainer(r.gameObject.id).removeChild(W.sprite),W.sprite.destroy({children:!0}),delete this.sprites[r.gameObject.id]),ee.label=4;case 4:return[2]}})})},e.systemName="Sprite",e=li([Ut.componentObserver({Sprite:["spriteName"]})],e),e}(rr),Rf=Lf;const xf=()=>{const t=new tt("title",{position:{x:0,y:70},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});return t.addComponent(new qr({text:"Cramped Room of Death",style:{fontFamily:"Arial",fontSize:36,fontWeight:"bold",align:"center",wordWrapWidth:300,lineHeight:46,wordWrap:!0,fill:["#eeaa44"]}})),t},Sf=()=>{const t=new tt("logo",{size:{width:200,height:200},origin:{x:.5,y:.5},position:{x:0,y:-100},anchor:{x:.5,y:.5}});return t.addComponent(new gr({resource:"ctrl",spriteName:"ctrl (7).png"})),t},bf=()=>{const t=new tt("creator",{position:{x:0,y:-20},origin:{x:.5,y:1},anchor:{x:.5,y:1}});return t.addComponent(new qr({text:"Created By Sli97",style:{fontFamily:"Arial",fontSize:12,fontWeight:"bold",align:"center",fill:["#aaa"]}})),t},Cf=()=>{const t=new tt("tips",{position:{x:0,y:130},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});return t.addComponent(new qr({text:"\uFF08Tap Any Where To Start\uFF09",style:{fontFamily:"Arial",fontSize:18,fontWeight:"bold",align:"center",fill:["#ccc"]}})),t},If=t=>{let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return e},ci=(t,e)=>Math.floor(Math.random()*(e-t)+t),It=()=>({position:{x:0,y:0},origin:{x:0,y:0},anchor:{x:0,y:0}}),Vv=(t,e,r=100)=>{let d=!1;return function(){let R=arguments;d||(d=!0,t.apply(e,R),setTimeout(()=>{d=!1},r))}},Yv=(t,e,r=1e3)=>{let d=null;return function(){let R=arguments;d&&clearTimeout(d),d=setTimeout(()=>{t.apply(e,R),d=null},r)}};let hi;const Af=()=>{let t=0;if(window.wx)hi=hi||wx.getSystemInfoSync(),t=hi.safeArea.top;else return 0};var wf=Object.defineProperty,Is=Object.getOwnPropertySymbols,Pf=Object.prototype.hasOwnProperty,Mf=Object.prototype.propertyIsEnumerable,As=(t,e,r)=>e in t?wf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ff=(t,e)=>{for(var r in e||(e={}))Pf.call(e,r)&&As(t,r,e[r]);if(Is)for(var r of Is(e))Mf.call(e,r)&&As(t,r,e[r]);return t};const Df=1313576,Bf=()=>{const t=new tt("backgroundColor",Ff({},It())),e=t.addComponent(new Br);return e.graphics.beginFill(Df,1),e.graphics.drawRect(0,0,Mt,Ft),e.graphics.endFill(),t};class ws{static GetInstance(e){return this._instance===null&&(this._instance=new e),this._instance}}ws._instance=null;class ye extends ws{constructor(){super();this.frame=0,this.mapInfo=[],this.tileInfo=[],this.levelIndex=2,this.reset()}static get Instance(){return super.GetInstance(ye)}reset(){this.mapInfo=[],this.tileInfo=[],this.mapRowCount=0,this.mapColumnCount=0,this.player=null,this.enemies=[],this.spikes=[],this.bursts=[],this.door=null,this.smokes=[],this.records=[]}}var s=(t=>(t.WALL_ROW="WALL_ROW",t.WALL_COLUMN="WALL_COLUMN",t.WALL_LEFT_TOP="WALL_LEFT_TOP",t.WALL_RIGHT_TOP="WALL_RIGHT_TOP",t.WALL_LEFT_BOTTOM="WALL_LEFT_BOTTOM",t.WALL_RIGHT_BOOTM="WALL_RIGHT_BOOTM",t.CLIFF_LEFT="CLIFF_ROW_START",t.CLIFF_CENTER="CLIFF_ROW_CENTER",t.CLIFF_RIGHT="CLIFF_ROW_END",t.FLOOR="FLOOR",t))(s||{}),oe=(t=>(t.SKELETON_WOODEN="SKELETON_WOODEN",t.SKELETON_IRON="SKELETON_IRON",t.SPIKES_ONE="SPIKES_ONE",t.SPIKES_TWO="SPIKES_TWO",t.SPIKES_THREE="SPIKES_THREE",t.SPIKES_FOUR="SPIKES_FOUR",t.BURST_FLOOR="BURST_FLOOR",t.DOOR="DOOR",t.SMOKE="SMOKE",t))(oe||{}),Q=(t=>(t.LEFT="LEFT",t.RIGHT="RIGHT",t.TOP="TOP",t.BOTTOM="BOTTOM",t))(Q||{}),Ke=(t=>(t.LEFT="LEFT",t.RIGHT="RIGHT",t.TOP="TOP",t.BOTTOM="BOTTOM",t.TURNLEFT="TURNLEFT",t.TURNRIGHT="TURNRIGHT",t))(Ke||{}),Z=(t=>(t.IDLE="IDLE",t.ATTACK="ATTACK",t.TURNLEFT="TURNLEFT",t.TURNRIGHT="TURNRIGHT",t.BLOCKFRONT="BLOCKFRONT",t.BLOCKBACK="BLOCKBACK",t.BLOCKLEFT="BLOCKLEFT",t.BLOCKRIGHT="BLOCKRIGHT",t.BLOCKTURNLEFT="BLOCKTURNLEFT",t.BLOCKTURNRIGHT="BLOCKTURNRIGHT",t.DEATH="DEATH",t.AIRDEATH="AIRDEATH",t))(Z||{}),Me=(t=>(t.PLAYER_CTRL="PLAYER_CTRL",t.PLAYER_MOVE_END="PLAYER_MOVE_END",t.ATTACK_ENEMY="ATTACK_ENEMY",t.ATTACK_PLAYER="ATTACK_PLAYER",t.RECORD_STEP="RECORD_STEP",t.REVOKE_STEP="REVOKE_STEP",t.SCREEN_SHAKE="SCREEN_SHAKE",t.NEXT_LEVEL="NEXT_LEVEL",t.RESTART_LEVEL="RESTART_LEVEL",t.OPENDOOR="OPENDOOR",t.GAME_START="GAME_START",t.GAME_OVER="GAME_OVER",t.BATTLE_LOADED="BATTLE_LOADED",t))(Me||{}),Ze=(t=>(t.NUMBER="NUMBER",t.BOOLEAN="BOOLEAN",t.TRIGGER="TRIGGER",t))(Ze||{});const Zv={GAME_START:"GAME_START",CTRL_TOP:"CTRL_TOP",CTRL_BOTTOM:"CTRL_BOTTOM",CTRL_LEFT:"CTRL_LEFT",CTRL_RIGHT:"CTRL_RIGHT",CTRL_TURN_LEFT:"CTRL_TURN_LEFT",CTRL_TURN_RIGHT:"CTRL_TURN_RIGHT",RESTART:"RESTART",REVOKE:"REVOKE",Menu:"Menu"};var fi=(t=>(t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT",t))(fi||{}),Vt=(t=>(t[t.SPIKES_ONE=2]="SPIKES_ONE",t[t.SPIKES_TWO=3]="SPIKES_TWO",t[t.SPIKES_THREE=4]="SPIKES_THREE",t[t.SPIKES_FOUR=5]="SPIKES_FOUR",t))(Vt||{}),we=(t=>(t.ZERO="ZERO",t.ONE="ONE",t.TWO="TWO",t.THREE="THREE",t.FOUR="FOUR",t.FIVE="FIVE",t))(we||{}),Xt=(t=>(t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.TWO=2]="TWO",t[t.THREE=3]="THREE",t[t.FOUR=4]="FOUR",t[t.FIVE=5]="FIVE",t))(Xt||{}),le=(t=>(t.IDLE="IDLE",t.ATTACK="ATTACK",t.TURNLEFT="TURNLEFT",t.TURNRIGHT="TURNRIGHT",t.BLOCKFRONT="BLOCKFRONT",t.BLOCKBACK="BLOCKBACK",t.BLOCKLEFT="BLOCKLEFT",t.BLOCKRIGHT="BLOCKRIGHT",t.BLOCKTURNLEFT="BLOCKTURNLEFT",t.BLOCKTURNRIGHT="BLOCKTURNRIGHT",t.DEATH="DEATH",t.AIRDEATH="AIRDEATH",t.DIRECTION="DIRECTION",t.SPIKES_TYPE="SPIKES_TYPE",t.CUR_POINT_COUNT="CUR_POINT_COUNT",t))(le||{}),mt=(t=>(t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT",t))(mt||{});const Nf=[[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:21,type:s.WALL_RIGHT_BOOTM},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:16,type:s.WALL_LEFT_TOP},{src:13,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:20,type:s.WALL_LEFT_BOTTOM},{src:17,type:s.CLIFF_CENTER}],[{src:15,type:s.WALL_RIGHT_TOP},{src:13,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}],[{src:null,type:null},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:16,type:s.WALL_LEFT_TOP},{src:14,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:15,type:s.WALL_RIGHT_TOP},{src:14,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:21,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:16,type:s.WALL_LEFT_TOP},{src:13,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:20,type:s.WALL_LEFT_BOTTOM},{src:17,type:s.CLIFF_CENTER}],[{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}]],Wf={x:2,y:8,direction:Q.TOP,state:Z.IDLE},kf=[{x:7,y:6,direction:Q.TOP,state:Z.IDLE,type:oe.SKELETON_WOODEN}],Gf=[],Uf=null,Hf={x:7,y:8,direction:Q.BOTTOM,state:Z.IDLE,type:oe.DOOR},Xf={mapInfo:Nf,player:Wf,enemies:kf,spikes:Gf,bursts:Uf,door:Hf},jf=[[{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:21,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:20,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:20,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:22,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}]],Kf={x:2,y:0,direction:Q.BOTTOM,state:Z.IDLE},Vf=[{x:3,y:2,direction:Q.TOP,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:4,y:3,direction:Q.TOP,state:Z.IDLE,type:oe.SKELETON_WOODEN}],Yf=[],zf=[],Zf={x:5,y:3,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},$f={mapInfo:jf,player:Kf,enemies:Vf,spikes:Yf,bursts:zf,door:Zf},Jf=[[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:20,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:20,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT},{src:null,type:null}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:15,type:s.WALL_RIGHT_TOP},{src:13,type:s.WALL_LEFT_BOTTOM},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:22,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:22,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}]],Qf={x:0,y:8,direction:Q.RIGHT,state:Z.IDLE},qf=[{x:6,y:7,direction:Q.TOP,state:Z.IDLE,type:oe.SKELETON_WOODEN}],ep=[{x:4,y:8,type:oe.SPIKES_ONE,count:0},{x:4,y:9,type:oe.SPIKES_ONE,count:0},{x:6,y:3,type:oe.SPIKES_ONE,count:0},{x:7,y:3,type:oe.SPIKES_ONE,count:0},{x:6,y:5,type:oe.SPIKES_ONE,count:0},{x:7,y:5,type:oe.SPIKES_ONE,count:0}],tp=[],rp={x:6,y:0,direction:Q.BOTTOM,state:Z.IDLE,type:oe.DOOR},np={mapInfo:Jf,player:Qf,enemies:qf,spikes:ep,bursts:tp,door:rp},ip=[[{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:21,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER}],[{src:20,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:20,type:s.WALL_LEFT_BOTTOM},{src:17,type:s.CLIFF_CENTER}],[{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}]],sp={x:2,y:7,direction:Q.TOP,state:Z.IDLE},ap=[{x:1,y:3,direction:Q.BOTTOM,state:Z.IDLE,type:oe.SKELETON_IRON}],op=[],up=[],lp={x:2,y:0,direction:Q.BOTTOM,state:Z.IDLE,type:oe.DOOR},cp={mapInfo:ip,player:sp,enemies:ap,spikes:op,bursts:up,door:lp},hp=[[{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:20,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:21,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:21,type:s.WALL_ROW},{src:19,type:s.CLIFF_RIGHT}]],fp={x:1,y:3,direction:Q.TOP,state:Z.IDLE},pp=[{x:5,y:1,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN}],dp=[],_p=[],yp={x:6,y:1,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},vp={mapInfo:hp,player:fp,enemies:pp,spikes:dp,bursts:_p,door:yp},gp=[[{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_COLUMN},{src:1,type:s.FLOOR},{src:22,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:22,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}]],mp={x:0,y:3,direction:Q.RIGHT,state:Z.IDLE},Tp=[{x:5,y:2,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:5,y:4,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN}],Op=[],Ep=[],Lp={x:8,y:3,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},Rp={mapInfo:gp,player:mp,enemies:Tp,spikes:Op,bursts:Ep,door:Lp},xp=[[{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:21,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:21,type:s.WALL_RIGHT_BOOTM},{src:17,type:s.CLIFF_CENTER}],[{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER}],[{src:20,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:20,type:s.WALL_LEFT_BOTTOM},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}]],Sp={x:2,y:7,direction:Q.TOP,state:Z.IDLE},bp=[{x:2,y:2,direction:Q.BOTTOM,state:Z.IDLE,type:oe.SKELETON_WOODEN}],Cp=[{x:1,y:4,type:oe.SPIKES_ONE,count:0},{x:2,y:4,type:oe.SPIKES_TWO,count:0},{x:3,y:4,type:oe.SPIKES_TWO,count:0},{x:4,y:4,type:oe.SPIKES_THREE,count:0}],Ip=[],Ap={x:2,y:0,direction:Q.BOTTOM,state:Z.IDLE,type:oe.DOOR},wp={mapInfo:xp,player:Sp,enemies:bp,spikes:Cp,bursts:Ip,door:Ap},Pp=[[{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:20,type:s.WALL_ROW},{src:18,type:s.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:18,type:s.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:21,type:s.WALL_ROW},{src:18,type:s.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:18,type:s.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:18,type:s.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:18,type:s.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:24,type:s.WALL_ROW},{src:18,type:s.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],Mp={x:1,y:7,direction:Q.TOP,state:Z.IDLE},Fp=[{x:8,y:1,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN}],Dp=[],Bp=[{x:1,y:2,state:Z.IDLE,type:oe.BURST_FLOOR},{x:1,y:5,state:Z.IDLE,type:oe.BURST_FLOOR},{x:1,y:6,state:Z.IDLE,type:oe.BURST_FLOOR},{x:2,y:1,state:Z.IDLE,type:oe.BURST_FLOOR},{x:3,y:1,state:Z.IDLE,type:oe.BURST_FLOOR},{x:4,y:1,state:Z.IDLE,type:oe.BURST_FLOOR},{x:5,y:1,state:Z.IDLE,type:oe.BURST_FLOOR},{x:6,y:1,state:Z.IDLE,type:oe.BURST_FLOOR},{x:6,y:2,state:Z.IDLE,type:oe.BURST_FLOOR}],Np={x:9,y:1,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},Wp={mapInfo:Pp,player:Mp,enemies:Fp,spikes:Dp,bursts:Bp,door:Np},kp=[[{src:20,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:22,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:16,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_LEFT_BOTTOM},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:15,type:s.WALL_RIGHT_TOP},{src:14,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:18,type:s.CLIFF_LEFT}],[{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:20,type:s.WALL_LEFT_BOTTOM},{src:17,type:s.CLIFF_CENTER}],[{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}]],Gp={x:2,y:11,direction:Q.TOP,state:Z.IDLE},Up=[{x:1,y:1,direction:Q.BOTTOM,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:2,y:7,direction:Q.BOTTOM,state:Z.IDLE,type:oe.SKELETON_WOODEN}],Hp=[{x:1,y:3,type:oe.SPIKES_THREE,count:0},{x:3,y:6,type:oe.SPIKES_ONE,count:0},{x:2,y:9,type:oe.SPIKES_TWO,count:0}],Xp=[{x:3,y:1,state:Z.IDLE,type:oe.BURST_FLOOR},{x:3,y:4,state:Z.IDLE,type:oe.BURST_FLOOR},{x:3,y:5,state:Z.IDLE,type:oe.BURST_FLOOR},{x:2,y:10,state:Z.IDLE,type:oe.BURST_FLOOR},{x:3,y:10,state:Z.IDLE,type:oe.BURST_FLOOR}],jp={x:0,y:1,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},Kp={mapInfo:kp,player:Gp,enemies:Up,spikes:Hp,bursts:Xp,door:jp},Vp=[[{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:25,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:21,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:20,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:24,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:20,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:21,type:s.WALL_RIGHT_TOP},{src:1,type:s.FLOOR},{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}]],Yp={x:1,y:7,direction:Q.TOP,state:Z.IDLE},zp=[{x:1,y:3,direction:Q.BOTTOM,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:2,y:4,direction:Q.BOTTOM,state:Z.IDLE,type:oe.SKELETON_IRON},{x:5,y:5,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN}],Zp=[{x:4,y:3,type:oe.SPIKES_THREE,count:0}],$p=[{x:3,y:4,state:Z.IDLE,type:oe.BURST_FLOOR},{x:3,y:5,state:Z.IDLE,type:oe.BURST_FLOOR}],Jp={x:6,y:1,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},Qp={mapInfo:Vp,player:Yp,enemies:zp,spikes:Zp,bursts:$p,door:Jp},qp=[[{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:22,type:s.WALL_RIGHT_TOP},{src:13,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:24,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:22,type:s.WALL_RIGHT_TOP},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:24,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:15,type:s.WALL_RIGHT_TOP},{src:23,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:22,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}]],ed={x:0,y:3,direction:Q.RIGHT,state:Z.IDLE},td=[{x:4,y:2,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:6,y:1,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_IRON},{x:9,y:1,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_IRON}],rd=[{x:4,y:1,type:oe.SPIKES_THREE,count:0},{x:6,y:3,type:oe.SPIKES_TWO,count:0}],nd=[{x:3,y:3,state:Z.IDLE,type:oe.BURST_FLOOR},{x:3,y:4,state:Z.IDLE,type:oe.BURST_FLOOR},{x:5,y:2,state:Z.IDLE,type:oe.BURST_FLOOR},{x:8,y:3,state:Z.IDLE,type:oe.BURST_FLOOR},{x:8,y:4,state:Z.IDLE,type:oe.BURST_FLOOR}],id={x:9,y:0,direction:Q.BOTTOM,state:Z.IDLE,type:oe.DOOR},sd={mapInfo:qp,player:ed,enemies:td,spikes:rd,bursts:nd,door:id},ad=[[{src:20,type:s.WALL_LEFT_TOP},{src:1,type:s.FLOOR},{src:18,type:s.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:20,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:21,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:20,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:22,type:s.WALL_ROW},{src:23,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:21,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:21,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}]],od={x:3,y:5,direction:Q.TOP,state:Z.IDLE},ud=[{x:1,y:1,direction:Q.BOTTOM,state:Z.IDLE,type:oe.SKELETON_IRON},{x:6,y:2,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN}],ld=[],cd=[{x:4,y:2,state:Z.IDLE,type:oe.BURST_FLOOR},{x:4,y:3,state:Z.IDLE,type:oe.BURST_FLOOR}],hd={x:0,y:1,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},fd={mapInfo:ad,player:od,enemies:ud,spikes:ld,bursts:cd,door:hd},pd=[[{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:21,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:22,type:s.WALL_RIGHT_TOP},{src:14,type:s.WALL_ROW},{src:19,type:s.CLIFF_RIGHT},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],dd={x:10,y:1,direction:Q.LEFT,state:Z.IDLE},_d=[{x:1,y:4,direction:Q.RIGHT,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:3,y:2,direction:Q.RIGHT,state:Z.IDLE,type:oe.SKELETON_IRON},{x:5,y:1,direction:Q.RIGHT,state:Z.IDLE,type:oe.SKELETON_WOODEN}],yd=[],vd=[{x:1,y:1,state:Z.IDLE,type:oe.BURST_FLOOR},{x:5,y:2,state:Z.IDLE,type:oe.BURST_FLOOR}],gd={x:1,y:6,direction:Q.BOTTOM,state:Z.IDLE,type:oe.DOOR},md={mapInfo:pd,player:dd,enemies:_d,spikes:yd,bursts:vd,door:gd},Td=[[{src:22,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:20,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:19,type:s.CLIFF_RIGHT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:19,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_RIGHT},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_RIGHT},{src:9,type:s.WALL_ROW},{src:19,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:19,type:s.CLIFF_CENTER}],[{src:27,type:s.WALL_ROW},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_CENTER},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:19,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:19,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_CENTER}],[{src:21,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:22,type:s.WALL_RIGHT_TOP},{src:14,type:s.WALL_RIGHT_BOOTM},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null}]],Od={x:1,y:0,direction:Q.BOTTOM,state:Z.IDLE},Ed=[{x:3,y:4,direction:Q.TOP,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:8,y:3,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN}],Ld=[{x:3,y:2,type:oe.SPIKES_TWO,count:0}],Rd=[{x:1,y:4,state:Z.IDLE,type:oe.BURST_FLOOR},{x:5,y:2,state:Z.IDLE,type:oe.BURST_FLOOR},{x:5,y:4,state:Z.IDLE,type:oe.BURST_FLOOR},{x:7,y:3,state:Z.IDLE,type:oe.BURST_FLOOR},{x:7,y:4,state:Z.IDLE,type:oe.BURST_FLOOR},{x:8,y:2,state:Z.IDLE,type:oe.BURST_FLOOR}],xd={x:10,y:1,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},Sd={mapInfo:Td,player:Od,enemies:Ed,spikes:Ld,bursts:Rd,door:xd},bd=[[{src:20,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:22,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:25,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:21,type:s.WALL_RIGHT_TOP},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:1,type:s.FLOOR},{src:22,type:s.WALL_ROW},{src:28,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:15,type:s.WALL_RIGHT_TOP},{src:13,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT},{src:null,type:null},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}]],Cd={x:0,y:1,direction:Q.RIGHT,state:Z.IDLE},Id=[{x:2,y:4,direction:Q.TOP,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:4,y:6,direction:Q.TOP,state:Z.IDLE,type:oe.SKELETON_WOODEN}],Ad=[{x:1,y:2,type:oe.SPIKES_THREE,count:0},{x:2,y:2,type:oe.SPIKES_THREE,count:0},{x:2,y:6,type:oe.SPIKES_TWO,count:0}],wd=[],Pd={x:7,y:7,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},Md={mapInfo:bd,player:Cd,enemies:Id,spikes:Ad,bursts:wd,door:Pd},Fd=[[{src:20,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:20,type:s.WALL_ROW},{src:18,type:s.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:20,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:20,type:s.WALL_ROW},{src:18,type:s.CLIFF_LEFT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:16,type:s.WALL_LEFT_TOP},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:19,type:s.CLIFF_RIGHT},{src:null,type:null}],[{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT},{src:null,type:null}]],Dd={x:0,y:1,direction:Q.RIGHT,state:Z.IDLE},Bd=[{x:4,y:4,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:5,y:3,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:6,y:2,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:4,y:6,direction:Q.TOP,state:Z.IDLE,type:oe.SKELETON_IRON},{x:4,y:7,direction:Q.TOP,state:Z.IDLE,type:oe.SKELETON_IRON}],Nd=[{x:4,y:5,type:oe.SPIKES_THREE,count:0},{x:5,y:5,type:oe.SPIKES_TWO,count:0},{x:6,y:5,type:oe.SPIKES_ONE,count:0}],Wd=[{x:3,y:5,state:Z.IDLE,type:oe.BURST_FLOOR},{x:3,y:6,state:Z.IDLE,type:oe.BURST_FLOOR},{x:3,y:7,state:Z.IDLE,type:oe.BURST_FLOOR}],kd={x:0,y:7,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},Gd={mapInfo:Fd,player:Dd,enemies:Bd,spikes:Nd,bursts:Wd,door:kd},Ud=[[{src:20,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:22,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:21,type:s.WALL_ROW},{src:19,type:s.CLIFF_RIGHT}]],Hd={x:7,y:7,direction:Q.LEFT,state:Z.IDLE},Xd=[{x:2,y:1,direction:Q.BOTTOM,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:2,y:4,direction:Q.RIGHT,state:Z.IDLE,type:oe.SKELETON_WOODEN}],jd=[{x:1,y:3,type:oe.SPIKES_TWO,count:0},{x:3,y:3,type:oe.SPIKES_TWO,count:0},{x:4,y:1,type:oe.SPIKES_TWO,count:0},{x:4,y:4,type:oe.SPIKES_TWO,count:0},{x:4,y:6,type:oe.SPIKES_TWO,count:0},{x:5,y:3,type:oe.SPIKES_TWO,count:0},{x:6,y:2,type:oe.SPIKES_TWO,count:0},{x:6,y:6,type:oe.SPIKES_TWO,count:0}],Kd=[{x:1,y:6,state:Z.IDLE,type:oe.BURST_FLOOR},{x:2,y:6,state:Z.IDLE,type:oe.BURST_FLOOR},{x:3,y:6,state:Z.IDLE,type:oe.BURST_FLOOR},{x:4,y:2,state:Z.IDLE,type:oe.BURST_FLOOR},{x:4,y:5,state:Z.IDLE,type:oe.BURST_FLOOR},{x:5,y:4,state:Z.IDLE,type:oe.BURST_FLOOR},{x:5,y:5,state:Z.IDLE,type:oe.BURST_FLOOR},{x:6,y:5,state:Z.IDLE,type:oe.BURST_FLOOR}],Vd={x:0,y:1,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},Yd={mapInfo:Ud,player:Hd,enemies:Xd,spikes:jd,bursts:Kd,door:Vd},zd=[[{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:15,type:s.WALL_RIGHT_TOP},{src:13,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:21,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:22,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}],[{src:null,type:null},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:null,type:null},{src:21,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:21,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],Zd={x:3,y:8,direction:Q.LEFT,state:Z.IDLE},$d=[{x:1,y:1,direction:Q.BOTTOM,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:3,y:2,direction:Q.BOTTOM,state:Z.IDLE,type:oe.SKELETON_WOODEN}],Jd=[{x:1,y:4,type:oe.SPIKES_TWO,count:0},{x:1,y:6,type:oe.SPIKES_TWO,count:0},{x:1,y:8,type:oe.SPIKES_FOUR,count:0}],Qd=[{x:1,y:5,state:Z.IDLE,type:oe.BURST_FLOOR},{x:2,y:9,state:Z.IDLE,type:oe.BURST_FLOOR}],qd={x:5,y:2,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},e_={mapInfo:zd,player:Zd,enemies:$d,spikes:Jd,bursts:Qd,door:qd},t_=[[{src:20,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:20,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:18,type:s.CLIFF_LEFT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:19,type:s.CLIFF_RIGHT}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT},{src:21,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:21,type:s.WALL_ROW},{src:19,type:s.CLIFF_RIGHT}]],r_={x:0,y:1,direction:Q.RIGHT,state:Z.IDLE},n_=[{x:2,y:5,direction:Q.TOP,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:4,y:9,direction:Q.TOP,state:Z.IDLE,type:oe.SKELETON_WOODEN}],i_=[],s_=[{x:1,y:5,state:Z.IDLE,type:oe.BURST_FLOOR},{x:1,y:6,state:Z.IDLE,type:oe.BURST_FLOOR},{x:1,y:7,state:Z.IDLE,type:oe.BURST_FLOOR},{x:1,y:8,state:Z.IDLE,type:oe.BURST_FLOOR},{x:1,y:9,state:Z.IDLE,type:oe.BURST_FLOOR},{x:2,y:6,state:Z.IDLE,type:oe.BURST_FLOOR},{x:2,y:7,state:Z.IDLE,type:oe.BURST_FLOOR}],a_={x:6,y:9,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},o_={mapInfo:t_,player:r_,enemies:n_,spikes:i_,bursts:s_,door:a_},u_=[[{src:null,type:null},{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:23,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:20,type:s.WALL_ROW},{src:18,type:s.CLIFF_LEFT}],[{src:null,type:null},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:21,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:null,type:null},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:20,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:15,type:s.WALL_RIGHT_TOP},{src:25,type:s.WALL_COLUMN},{src:23,type:s.WALL_RIGHT_BOOTM},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:21,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:22,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}]],l_={x:0,y:4,direction:Q.RIGHT,state:Z.IDLE},c_=[{x:9,y:1,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN},{x:9,y:3,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_IRON},{x:9,y:4,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_IRON}],h_=[],f_=[{x:1,y:2,state:Z.IDLE,type:oe.BURST_FLOOR},{x:1,y:3,state:Z.IDLE,type:oe.BURST_FLOOR},{x:2,y:3,state:Z.IDLE,type:oe.BURST_FLOOR},{x:2,y:4,state:Z.IDLE,type:oe.BURST_FLOOR},{x:7,y:4,state:Z.IDLE,type:oe.BURST_FLOOR}],p_={x:9,y:0,direction:Q.BOTTOM,state:Z.IDLE,type:oe.DOOR},d_={mapInfo:u_,player:l_,enemies:c_,spikes:h_,bursts:f_,door:p_},__=[[{src:null,type:null},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:18,type:s.CLIFF_LEFT}],[{src:null,type:null},{src:1,type:s.FLOOR},{src:16,type:s.WALL_LEFT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:13,type:s.WALL_LEFT_BOTTOM},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER},{src:null,type:null},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:16,type:s.WALL_LEFT_TOP},{src:13,type:s.WALL_LEFT_BOTTOM},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:17,type:s.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:s.FLOOR},{src:21,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:21,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT}],[{src:20,type:s.WALL_LEFT_TOP},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:17,type:s.CLIFF_CENTER},{src:null,type:null}],[{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:1,type:s.FLOOR},{src:9,type:s.WALL_ROW},{src:9,type:s.WALL_ROW},{src:1,type:s.FLOOR},{src:19,type:s.CLIFF_RIGHT},{src:null,type:null}],[{src:15,type:s.WALL_RIGHT_TOP},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:5,type:s.WALL_COLUMN},{src:14,type:s.WALL_RIGHT_BOOTM},{src:19,type:s.CLIFF_RIGHT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],y_={x:0,y:7,direction:Q.TOP,state:Z.IDLE},v_=[{x:2,y:6,direction:Q.LEFT,state:Z.IDLE,type:oe.SKELETON_WOODEN}],g_=[],m_=[{x:2,y:3,state:Z.IDLE,type:oe.BURST_FLOOR},{x:2,y:5,state:Z.IDLE,type:oe.BURST_FLOOR},{x:3,y:3,state:Z.IDLE,type:oe.BURST_FLOOR},{x:3,y:4,state:Z.IDLE,type:oe.BURST_FLOOR}],T_={x:7,y:6,direction:Q.LEFT,state:Z.IDLE,type:oe.DOOR},O_={level1:Xf,level2:$f,level3:np,level4:cp,level5:vp,level6:Rp,level7:wp,level8:Wp,level9:Kp,level10:Qp,level11:sd,level12:fd,level13:md,level14:Sd,level15:Md,level16:Gd,level17:Yd,level18:e_,level19:o_,level20:d_,level21:{mapInfo:__,player:y_,enemies:v_,spikes:g_,bursts:m_,door:T_}};class pi extends lt{init(e){this.type=e,this.type===s.WALL_LEFT_TOP||this.type===s.WALL_ROW||this.type===s.WALL_RIGHT_TOP||this.type===s.WALL_LEFT_BOTTOM||this.type===s.WALL_RIGHT_BOOTM||this.type===s.WALL_COLUMN?(this.moveable=!1,this.turnable=!1):this.type===s.CLIFF_LEFT||this.type===s.CLIFF_CENTER||this.type===s.CLIFF_RIGHT?(this.moveable=!1,this.turnable=!0):this.type===s.FLOOR&&(this.moveable=!0,this.turnable=!0)}}pi.componentName="TileManager";const ir=32,sr=32,E_=(t,e,r,d)=>{const R=new tt("tile",{size:{width:ir,height:sr},position:{x:r*ir,y:d*sr},origin:{x:0,y:0},anchor:{x:0,y:0}});return R.addComponent(new gr({resource:"tile",spriteName:e})),R.addComponent(new pi(t)),R};class Ps extends lt{init(){this.initTile()}player(){}initTile(){const{mapInfo:e}=ye.Instance;ye.Instance.tileInfo=[];for(let r=0;r<e.length;r++){const d=e[r];ye.Instance.tileInfo[r]=[];for(let R=0;R<d.length;R++){const x=d[R];if(x.src===null)continue;let W=parseInt(x.src);(W===1&&r%2==0&&R%2==1||W===5&&r%2==0&&R%2==1||W===9&&r%2==0&&R%2==1)&&(W+=ci(0,4));const z=`bg (${W}).png`,ee=x.type,k=E_(ee,z,r,R);ye.Instance.tileInfo[r][R]=k.getComponent(pi),this.gameObject.addChild(k)}}}}Ps.componentName="BackgroundManager";var L_=Object.defineProperty,Ms=Object.getOwnPropertySymbols,R_=Object.prototype.hasOwnProperty,x_=Object.prototype.propertyIsEnumerable,Fs=(t,e,r)=>e in t?L_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,S_=(t,e)=>{for(var r in e||(e={}))R_.call(e,r)&&Fs(t,r,e[r]);if(Ms)for(var r of Ms(e))x_.call(e,r)&&Fs(t,r,e[r]);return t};const b_=()=>{const t=new tt("background",S_({},It()));return t.addComponent(new Ps),t};class Ds{static GetInstance(e){return this._instance===null&&(this._instance=new e),this._instance}}Ds._instance=null;class Pe extends Ds{static get Instance(){return super.GetInstance(Pe)}constructor(){super();this.eventDic=new Map}on(e,r,d){this.eventDic.has(e)?this.eventDic.get(e).push({func:r,ctx:d}):this.eventDic.set(e,[{func:r,ctx:d}])}off(e,r){if(this.eventDic.has(e)){const d=this.eventDic.get(e).findIndex(R=>r===R.func);d>-1&&this.eventDic.get(e).splice(d,1)}}emit(e,...r){this.eventDic.has(e)&&this.eventDic.get(e).forEach(({func:d,ctx:R})=>{R?d.apply(R,r):d(...r)})}clear(){this.eventDic.clear()}}class qe{constructor(e,r,d){this.go=e,this.animationName=r,this.times=d,this.spriteAnimation=this.go.getComponent(St)}play(){this.spriteAnimation.resource=this.animationName,Promise.resolve().then(()=>{this.spriteAnimation.play(this.times)})}stop(){this.spriteAnimation.resource=null,this.spriteAnimation.stop()}}class mr{constructor(e){this.go=null,this._currentState=null,this.params=new Map,this.states=new Map,this.go=e,this.manager=this.go.getComponent(Pt),this.params=this.go.getComponent(kt).params}get currentState(){return this._currentState}set currentState(e){e!==this._currentState&&(this._currentState=e,this._currentState instanceof qe&&this._currentState.play())}stop(){this.currentState=null;for(const[e,r]of this.states)r instanceof qe&&r.stop()}update(){}}class kt extends lt{constructor(){super(...arguments);this._currentState=null,this.params=new Map,this.states=new Map}get currentState(){return this._currentState}set currentState(e){e!==this._currentState&&(this.stop(),this._currentState=e,this._currentState instanceof qe&&this._currentState.play())}stop(){for(const[e,r]of this.states)r.stop()}update(){this.currentState instanceof mr&&this.currentState.update(),this.resetTrigger()}getParams(e){if(this.params.has(e))return this.params.get(e).value}setParams(e,r){this.params.has(e)&&(this.params.get(e).value=r)}resetTrigger(){for(const[e,r]of this.params)r.type===Ze.TRIGGER&&(r.value=!1)}}kt.componentName="StateMachine";class Pt extends lt{constructor(){super(...arguments);this.id=If(12)}init(e){this.x=e.x,this.y=e.y,this.state=e.state,this.fsm=this.gameObject.getComponent(kt)||null,this.direction=e.direction}update(){this.gameObject.transform.position.x=this.x*ir-16*3,this.gameObject.transform.position.y=this.y*sr-16*3}get direction(){return this._direction}set direction(e){this._direction=e,this.fsm&&this.fsm.setParams(le.DIRECTION,fi[this._direction])}get state(){return this._state}set state(e){this._state=e,this.fsm&&this.fsm.params.has(e)&&this.fsm.setParams(e,!0)}}Pt.componentName="EntityManager";class tn extends qe{}class ct extends mr{update(){switch(this.currentState){case this.states.get(Q.TOP):case this.states.get(Q.BOTTOM):case this.states.get(Q.LEFT):case this.states.get(Q.RIGHT):const{value:e}=this.params.get(le.DIRECTION);this.currentState=this.states.get(fi[e]);default:this.currentState=this.states.get(this.manager.direction);break}}}class C_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new tn(this.go,"player_idle_top")),this.states.set(Q.BOTTOM,new tn(this.go,"player_idle_bottom")),this.states.set(Q.LEFT,new tn(this.go,"player_idle_left")),this.states.set(Q.RIGHT,new tn(this.go,"player_idle_right"))}}class rn extends qe{}class I_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new rn(this.go,"player_attack_top",1)),this.states.set(Q.BOTTOM,new rn(this.go,"player_attack_bottom",1)),this.states.set(Q.LEFT,new rn(this.go,"player_attack_left",1)),this.states.set(Q.RIGHT,new rn(this.go,"player_attack_right",1))}}class nn extends qe{}class A_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new nn(this.go,"player_turn_left_top",1)),this.states.set(Q.BOTTOM,new nn(this.go,"player_turn_left_bottom",1)),this.states.set(Q.LEFT,new nn(this.go,"player_turn_left_left",1)),this.states.set(Q.RIGHT,new nn(this.go,"player_turn_left_right",1))}}class sn extends qe{}class w_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new sn(this.go,"player_turn_right_top",1)),this.states.set(Q.BOTTOM,new sn(this.go,"player_turn_right_bottom",1)),this.states.set(Q.LEFT,new sn(this.go,"player_turn_right_left",1)),this.states.set(Q.RIGHT,new sn(this.go,"player_turn_right_right",1))}}class an extends qe{}class P_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new an(this.go,"player_block_front_top",1)),this.states.set(Q.BOTTOM,new an(this.go,"player_block_front_bottom",1)),this.states.set(Q.LEFT,new an(this.go,"player_block_front_left",1)),this.states.set(Q.RIGHT,new an(this.go,"player_block_front_right",1))}}class on extends qe{}class M_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new on(this.go,"player_block_back_top",1)),this.states.set(Q.BOTTOM,new on(this.go,"player_block_back_bottom",1)),this.states.set(Q.LEFT,new on(this.go,"player_block_back_left",1)),this.states.set(Q.RIGHT,new on(this.go,"player_block_back_right",1))}}class un extends qe{}class F_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new un(this.go,"player_block_left_top",1)),this.states.set(Q.BOTTOM,new un(this.go,"player_block_left_bottom",1)),this.states.set(Q.LEFT,new un(this.go,"player_block_left_left",1)),this.states.set(Q.RIGHT,new un(this.go,"player_block_left_right",1))}}class ln extends qe{}class D_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new ln(this.go,"player_block_right_top",1)),this.states.set(Q.BOTTOM,new ln(this.go,"player_block_right_bottom",1)),this.states.set(Q.LEFT,new ln(this.go,"player_block_right_left",1)),this.states.set(Q.RIGHT,new ln(this.go,"player_block_right_right",1))}}class cn extends qe{}class B_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new cn(this.go,"player_block_turn_left_top",1)),this.states.set(Q.BOTTOM,new cn(this.go,"player_block_turn_left_bottom",1)),this.states.set(Q.LEFT,new cn(this.go,"player_block_turn_left_left",1)),this.states.set(Q.RIGHT,new cn(this.go,"player_block_turn_left_right",1))}}class hn extends qe{}class N_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new hn(this.go,"player_block_turn_right_top",1)),this.states.set(Q.BOTTOM,new hn(this.go,"player_block_turn_right_bottom",1)),this.states.set(Q.LEFT,new hn(this.go,"player_block_turn_right_left",1)),this.states.set(Q.RIGHT,new hn(this.go,"player_block_turn_right_right",1))}}class fn extends qe{}class W_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new fn(this.go,"player_death_top",1)),this.states.set(Q.BOTTOM,new fn(this.go,"player_death_bottom",1)),this.states.set(Q.LEFT,new fn(this.go,"player_death_left",1)),this.states.set(Q.RIGHT,new fn(this.go,"player_death_right",1))}}class pn extends qe{}class k_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new pn(this.go,"player_air_death_top",1)),this.states.set(Q.BOTTOM,new pn(this.go,"player_air_death_bottom",1)),this.states.set(Q.LEFT,new pn(this.go,"player_air_death_left",1)),this.states.set(Q.RIGHT,new pn(this.go,"player_air_death_right",1))}}class ar extends Pt{init(e){super.init(e),Pe.Instance.on(Me.ATTACK_ENEMY,this.onDead,this),Pe.Instance.on(Me.PLAYER_MOVE_END,this.onChangeDirection,this)}start(){this.onChangeDirection(!1)}onDestroy(){Pe.Instance.off(Me.ATTACK_ENEMY,this.onDead),Pe.Instance.off(Me.PLAYER_MOVE_END,this.onChangeDirection)}onChangeDirection(e=!0){if(this.state===Z.DEATH||!ye.Instance.player)return;const{x:r,y:d}=ye.Instance.player,R=Math.abs(r-this.x),x=Math.abs(d-this.y);R===x&&e||(r>=this.x&&d<=this.y?this.direction=R>=x?Q.RIGHT:Q.TOP:r<=this.x&&d<=this.y?this.direction=R>=x?Q.LEFT:Q.TOP:r<=this.x&&d>=this.y?this.direction=R>=x?Q.LEFT:Q.BOTTOM:r>=this.x&&d>=this.y&&(this.direction=R>=x?Q.RIGHT:Q.BOTTOM))}onDead(e){this.state!==Z.DEATH&&this.id===e&&(this.state=Z.DEATH)}}class G_ extends kt{init(){this.gameObject.addComponent(new St({autoPlay:!0,forwards:!0,resource:"player_idle_top",speed:1e3/8})),this.gameObject.addComponent(new ft({zIndex:1})),this.initParams()}start(){this.states.set(le.IDLE,new C_(this.gameObject)),this.states.set(le.ATTACK,new I_(this.gameObject)),this.states.set(le.TURNLEFT,new A_(this.gameObject)),this.states.set(le.TURNRIGHT,new w_(this.gameObject)),this.states.set(le.BLOCKFRONT,new P_(this.gameObject)),this.states.set(le.BLOCKBACK,new M_(this.gameObject)),this.states.set(le.BLOCKLEFT,new F_(this.gameObject)),this.states.set(le.BLOCKRIGHT,new D_(this.gameObject)),this.states.set(le.BLOCKTURNLEFT,new B_(this.gameObject)),this.states.set(le.BLOCKTURNRIGHT,new N_(this.gameObject)),this.states.set(le.DEATH,new W_(this.gameObject)),this.states.set(le.AIRDEATH,new k_(this.gameObject)),this.currentState=this.states.get(le.IDLE);const e=this.gameObject.getComponent(St);e.on("complete",()=>{e.resource.startsWith("player_turn")?this.gameObject.getComponent(ar).state=Z.IDLE:e.resource.startsWith("player_block")?this.gameObject.getComponent(ar).state=Z.IDLE:e.resource.startsWith("player_attack")?this.gameObject.getComponent(ar).state=Z.IDLE:e.resource.startsWith("player_death")||e.resource.startsWith("player_air_death")})}initParams(){this.params.set(le.IDLE,{type:Ze.TRIGGER,value:!1}),this.params.set(le.ATTACK,{type:Ze.TRIGGER,value:!1}),this.params.set(le.TURNLEFT,{type:Ze.TRIGGER,value:!1}),this.params.set(le.TURNRIGHT,{type:Ze.TRIGGER,value:!1}),this.params.set(le.BLOCKFRONT,{type:Ze.TRIGGER,value:!1}),this.params.set(le.BLOCKBACK,{type:Ze.TRIGGER,value:!1}),this.params.set(le.BLOCKLEFT,{type:Ze.TRIGGER,value:!1}),this.params.set(le.BLOCKRIGHT,{type:Ze.TRIGGER,value:!1}),this.params.set(le.BLOCKTURNLEFT,{type:Ze.TRIGGER,value:!1}),this.params.set(le.BLOCKTURNRIGHT,{type:Ze.TRIGGER,value:!1}),this.params.set(le.DEATH,{type:Ze.TRIGGER,value:!1}),this.params.set(le.AIRDEATH,{type:Ze.TRIGGER,value:!1}),this.params.set(le.DIRECTION,{type:Ze.NUMBER,value:0})}update(){switch(this.currentState){case this.states.get(le.IDLE):case this.states.get(le.ATTACK):case this.states.get(le.TURNLEFT):case this.states.get(le.TURNRIGHT):case this.states.get(le.BLOCKTURNLEFT):case this.states.get(le.BLOCKTURNRIGHT):case this.states.get(le.BLOCKFRONT):case this.states.get(le.BLOCKBACK):case this.states.get(le.BLOCKLEFT):case this.states.get(le.BLOCKRIGHT):case this.states.get(le.DEATH):case this.states.get(le.AIRDEATH):this.params.get(le.DEATH).value?this.currentState=this.states.get(le.DEATH):this.params.get(le.AIRDEATH).value?this.currentState=this.states.get(le.AIRDEATH):this.params.get(le.TURNLEFT).value?this.currentState=this.states.get(le.TURNLEFT):this.params.get(le.TURNRIGHT).value?this.currentState=this.states.get(le.TURNRIGHT):this.params.get(le.IDLE).value?this.currentState=this.states.get(le.IDLE):this.params.get(le.BLOCKFRONT).value?this.currentState=this.states.get(le.BLOCKFRONT):this.params.get(le.BLOCKBACK).value?this.currentState=this.states.get(le.BLOCKBACK):this.params.get(le.BLOCKLEFT).value?this.currentState=this.states.get(le.BLOCKLEFT):this.params.get(le.BLOCKRIGHT).value?this.currentState=this.states.get(le.BLOCKRIGHT):this.params.get(le.BLOCKTURNLEFT).value?this.currentState=this.states.get(le.BLOCKTURNLEFT):this.params.get(le.BLOCKTURNRIGHT).value?this.currentState=this.states.get(le.BLOCKTURNRIGHT):this.params.get(le.ATTACK).value&&(this.currentState=this.states.get(le.ATTACK));break;default:this.currentState=this.states.get(le.IDLE);break}super.update()}}class U_ extends Pt{constructor(){super(...arguments);this.isMoveEndX=!0,this.isMoveEndY=!0,this.speed=1/10}init(e){this.gameObject.addComponent(new G_),super.init(e),this.targetX=this.x,this.targetY=this.y,Pe.Instance.on(Me.PLAYER_CTRL,this.inputProcess,this),Pe.Instance.on(Me.ATTACK_PLAYER,this.onDead,this)}onDestroy(){Pe.Instance.off(Me.PLAYER_CTRL,this.inputProcess),Pe.Instance.off(Me.ATTACK_PLAYER,this.onDead)}update(){this.updateXY(),super.update()}updateXY(){this.targetX<this.x?this.x-=this.speed:this.targetX>this.x&&(this.x+=this.speed),this.targetY<this.y?this.y-=this.speed:this.targetY>this.y&&(this.y+=this.speed),Math.abs(this.targetX-this.x)<.01&&(this.x=this.targetX,this.onMoveEnd("X")),Math.abs(this.targetY-this.y)<.01&&(this.y=this.targetY,this.onMoveEnd("Y"))}onMoveEnd(e){e==="X"&&!this.isMoveEndX?(this.isMoveEndX=!0,Pe.Instance.emit(Me.PLAYER_MOVE_END)):e==="Y"&&!this.isMoveEndY&&(this.isMoveEndY=!0,Pe.Instance.emit(Me.PLAYER_MOVE_END))}onDead(e){this.state=e}inputProcess(e){if(!this.isMoveEndX||!this.isMoveEndY||this.state===Z.DEATH||this.state===Z.AIRDEATH||this.state===Z.ATTACK)return;const r=this.attackEnemy(e);if(r!==-1){Pe.Instance.emit(Me.RECORD_STEP),Pe.Instance.emit(Me.PLAYER_MOVE_END),this.state=Z.ATTACK,Pe.Instance.emit(Me.ATTACK_ENEMY,r);return}if(this.WillBlock(e)){e===Ke.TOP?Pe.Instance.emit(Me.SCREEN_SHAKE,mt.TOP):e===Ke.BOTTOM?Pe.Instance.emit(Me.SCREEN_SHAKE,mt.BOTTOM):e===Ke.LEFT?Pe.Instance.emit(Me.SCREEN_SHAKE,mt.LEFT):e===Ke.RIGHT?Pe.Instance.emit(Me.SCREEN_SHAKE,mt.RIGHT):e===Ke.TURNLEFT&&this.direction===Q.TOP?Pe.Instance.emit(Me.SCREEN_SHAKE,mt.LEFT):e===Ke.TURNLEFT&&this.direction===Q.LEFT?Pe.Instance.emit(Me.SCREEN_SHAKE,mt.BOTTOM):e===Ke.TURNLEFT&&this.direction===Q.BOTTOM?Pe.Instance.emit(Me.SCREEN_SHAKE,mt.RIGHT):e===Ke.TURNLEFT&&this.direction===Q.RIGHT?Pe.Instance.emit(Me.SCREEN_SHAKE,mt.TOP):e===Ke.TURNRIGHT&&this.direction===Q.TOP?Pe.Instance.emit(Me.SCREEN_SHAKE,mt.RIGHT):e===Ke.TURNRIGHT&&this.direction===Q.LEFT?Pe.Instance.emit(Me.SCREEN_SHAKE,mt.TOP):e===Ke.TURNRIGHT&&this.direction===Q.BOTTOM?Pe.Instance.emit(Me.SCREEN_SHAKE,mt.LEFT):e===Ke.TURNRIGHT&&this.direction===Q.RIGHT&&Pe.Instance.emit(Me.SCREEN_SHAKE,mt.BOTTOM);return}this.move(e)}move(e){Pe.Instance.emit(Me.RECORD_STEP),e===Ke.TOP?(this.targetY-=1,this.state=Z.IDLE,this.isMoveEndY=!1,this.showSmoke(Q.TOP)):e===Ke.BOTTOM?(this.targetY+=1,this.state=Z.IDLE,this.isMoveEndY=!1,this.showSmoke(Q.BOTTOM)):e===Ke.LEFT?(this.targetX-=1,this.state=Z.IDLE,this.isMoveEndX=!1,this.showSmoke(Q.LEFT)):e===Ke.RIGHT?(this.targetX+=1,this.state=Z.IDLE,this.isMoveEndX=!1,this.showSmoke(Q.RIGHT)):e===Ke.TURNLEFT?(this.state=Z.TURNLEFT,this.direction===Q.TOP?this.direction=Q.LEFT:this.direction===Q.LEFT?this.direction=Q.BOTTOM:this.direction===Q.BOTTOM?this.direction=Q.RIGHT:this.direction===Q.RIGHT&&(this.direction=Q.TOP),this.state=Z.TURNLEFT,Pe.Instance.emit(Me.PLAYER_MOVE_END)):e===Ke.TURNRIGHT&&(this.state=Z.TURNRIGHT,this.direction===Q.TOP?this.direction=Q.RIGHT:this.direction===Q.LEFT?this.direction=Q.TOP:this.direction===Q.BOTTOM?this.direction=Q.LEFT:this.direction===Q.RIGHT&&(this.direction=Q.BOTTOM),this.state=Z.TURNRIGHT,Pe.Instance.emit(Me.PLAYER_MOVE_END))}showSmoke(e){this.gameObject.parent.getComponent(_i).generateSmoke(this.x,this.y,e)}attackEnemy(e){const r=ye.Instance.enemies.filter(d=>d.state!==Z.DEATH);for(let d=0;d<r.length;d++){const R=r[d],{x,y:W,id:z}=R;if(this.direction===Q.TOP&&e===Ke.TOP&&W===this.targetY-2&&x===this.x)return z;if(this.direction===Q.BOTTOM&&e===Ke.BOTTOM&&W===this.targetY+2&&x===this.x)return z;if(this.direction===Q.LEFT&&e===Ke.LEFT&&x===this.targetX-2&&W===this.y)return z;if(this.direction===Q.RIGHT&&e===Ke.RIGHT&&x===this.targetX+2&&W===this.y)return z}return-1}WillBlock(e){var r,d,R,x,W,z,ee,k,ie,ce,me,Oe,be,Ae,ze,Xe,et,ht,$e,yt,Dt,Er,Wr,jt,xn,Sn,bn,oa,ua,la,ca,ha,fa,pa,da,_a,ya,va,ga,ma,Ta,Oa,Ea,La;const{targetX:xe,targetY:Se,direction:ot}=this,{tileInfo:Ne}=ye.Instance,je=ye.Instance.enemies.filter(he=>he.state!==Z.DEATH),{x:Ue,y:He,state:vt}=ye.Instance.door,Ot=ye.Instance.bursts.filter(he=>he.state!==Z.DEATH),{mapRowCount:Cn,mapColumnCount:In}=ye.Instance;if(e===Ke.TOP){const he=Se-1;if(ot===Q.TOP){if(he<0)return this.state=Z.BLOCKFRONT,!0;const ve=Se-2,Ie=(r=Ne[xe])==null?void 0:r[he],Ce=(d=Ne[xe])==null?void 0:d[ve];if((Ue===xe&&He===he||Ue===xe&&He===ve)&&vt!==Z.DEATH)return this.state=Z.BLOCKFRONT,!0;for(let _e=0;_e<je.length;_e++){const Te=je[_e],{x:Ve,y:We}=Te;if(Ve===xe&&We===ve||Ve===xe&&We===he)return this.state=Z.BLOCKFRONT,!0}if(Ot.some(_e=>_e.x===xe&&_e.y===he)&&(!Ce||Ce.turnable))return!1;if(!(Ie&&Ie.moveable&&(!Ce||Ce.turnable)))return this.state=Z.BLOCKFRONT,!0}else if(ot===Q.BOTTOM){if(he<0)return this.state=Z.BLOCKBACK,!0;const ve=Se,Ie=(R=Ne[xe])==null?void 0:R[he],Ce=(x=Ne[xe])==null?void 0:x[ve];if((Ue===xe&&He===he||Ue===xe&&He===ve)&&vt!==Z.DEATH)return this.state=Z.BLOCKBACK,!0;for(let _e=0;_e<je.length;_e++){const Te=je[_e],{x:Ve,y:We}=Te;if(Ve===xe&&We===he)return this.state=Z.BLOCKBACK,!0}if(Ot.some(_e=>_e.x===xe&&_e.y===he)&&(!Ce||Ce.turnable))return!1;if(!(Ie&&Ie.moveable&&(!Ce||Ce.turnable)))return this.state=Z.BLOCKBACK,!0}else if(ot===Q.LEFT){if(he<0)return this.state=Z.BLOCKRIGHT,!0;const ve=xe-1,Ie=Se-1,Ce=(W=Ne[xe])==null?void 0:W[he],_e=(z=Ne[ve])==null?void 0:z[Ie];if((Ue===xe&&He===he||Ue===ve&&He===Ie)&&vt!==Z.DEATH)return this.state=Z.BLOCKRIGHT,!0;for(let Te=0;Te<je.length;Te++){const Ve=je[Te],{x:We,y:ut}=Ve;if(We===xe&&ut===he||We===ve&&ut===Ie)return this.state=Z.BLOCKRIGHT,!0}if(Ot.some(Te=>Te.x===xe&&Te.y===he)&&(!_e||_e.turnable))return!1;if(!(Ce&&Ce.moveable&&(!_e||_e.turnable)))return this.state=Z.BLOCKRIGHT,!0}else if(ot===Q.RIGHT){if(he<0)return this.state=Z.BLOCKLEFT,!0;const ve=xe+1,Ie=Se-1,Ce=(ee=Ne[xe])==null?void 0:ee[he],_e=(k=Ne[ve])==null?void 0:k[Ie];if((Ue===xe&&He===he||Ue===ve&&He===Ie)&&vt!==Z.DEATH)return this.state=Z.BLOCKLEFT,!0;for(let Te=0;Te<je.length;Te++){const Ve=je[Te],{x:We,y:ut}=Ve;if(We===xe&&ut===he||We===ve&&ut===Ie)return this.state=Z.BLOCKLEFT,!0}if(Ot.some(Te=>Te.x===xe&&Te.y===he)&&(!_e||_e.turnable))return!1;if(!(Ce&&Ce.moveable&&(!_e||_e.turnable)))return this.state=Z.BLOCKLEFT,!0}}else if(e===Ke.BOTTOM){const he=Se+1;if(ot===Q.TOP){if(he>In-1)return this.state=Z.BLOCKBACK,!0;const ve=Se,Ie=(ie=Ne[xe])==null?void 0:ie[he],Ce=(ce=Ne[xe])==null?void 0:ce[ve];if((Ue===xe&&He===he||Ue===xe&&He===ve)&&vt!==Z.DEATH)return this.state=Z.BLOCKBACK,!0;for(let _e=0;_e<je.length;_e++){const Te=je[_e],{x:Ve,y:We}=Te;if(Ve===xe&&We===he)return this.state=Z.BLOCKBACK,!0}if(Ot.some(_e=>_e.x===xe&&_e.y===he)&&(!Ce||Ce.turnable))return!1;if(!(Ie&&Ie.moveable&&(!Ce||Ce.turnable)))return this.state=Z.BLOCKBACK,!0}else if(ot===Q.BOTTOM){if(he>In-1)return this.state=Z.BLOCKFRONT,!0;const ve=Se+2,Ie=(me=Ne[xe])==null?void 0:me[he],Ce=(Oe=Ne[xe])==null?void 0:Oe[ve];if((Ue===xe&&He===he||Ue===xe&&He===ve)&&vt!==Z.DEATH)return this.state=Z.BLOCKFRONT,!0;for(let _e=0;_e<je.length;_e++){const Te=je[_e],{x:Ve,y:We}=Te;if(Ve===xe&&We===ve||Ve===xe&&We===he)return this.state=Z.BLOCKFRONT,!0}if(Ot.some(_e=>_e.x===xe&&_e.y===he)&&(!Ce||Ce.turnable))return!1;if(!(Ie&&Ie.moveable&&(!Ce||Ce.turnable)))return this.state=Z.BLOCKFRONT,!0}else if(ot===Q.LEFT){if(he>In-1)return this.state=Z.BLOCKLEFT,!0;const ve=xe-1,Ie=Se+1,Ce=(be=Ne[xe])==null?void 0:be[he],_e=(Ae=Ne[ve])==null?void 0:Ae[Ie];if((Ue===xe&&He===he||Ue===ve&&He===Ie)&&vt!==Z.DEATH)return this.state=Z.BLOCKLEFT,!0;for(let Te=0;Te<je.length;Te++){const Ve=je[Te],{x:We,y:ut}=Ve;if(We===xe&&ut===he||We===ve&&ut===Ie)return this.state=Z.BLOCKLEFT,!0}if(Ot.some(Te=>Te.x===xe&&Te.y===he)&&(!_e||_e.turnable))return!1;if(!(Ce&&Ce.moveable&&(!_e||_e.turnable)))return this.state=Z.BLOCKLEFT,!0}else if(ot===Q.RIGHT){if(he>In-1)return this.state=Z.BLOCKRIGHT,!0;const ve=xe+1,Ie=Se+1,Ce=(ze=Ne[xe])==null?void 0:ze[he],_e=(Xe=Ne[ve])==null?void 0:Xe[Ie];if((Ue===xe&&He===he||Ue===ve&&He===Ie)&&vt!==Z.DEATH)return this.state=Z.BLOCKRIGHT,!0;for(let Te=0;Te<je.length;Te++){const Ve=je[Te],{x:We,y:ut}=Ve;if(We===xe&&ut===he||We===ve&&ut===Ie)return this.state=Z.BLOCKRIGHT,!0}if(Ot.some(Te=>Te.x===xe&&Te.y===he)&&(!_e||_e.turnable))return!1;if(!(Ce&&Ce.moveable&&(!_e||_e.turnable)))return this.state=Z.BLOCKRIGHT,!0}}else if(e===Ke.LEFT){const he=xe-1;if(ot===Q.TOP){if(he<0)return this.state=Z.BLOCKLEFT,!0;const ve=xe-1,Ie=Se-1,Ce=(et=Ne[he])==null?void 0:et[Se],_e=(ht=Ne[ve])==null?void 0:ht[Ie];if((Ue===he&&He===Se||Ue===ve&&He===Ie)&&vt!==Z.DEATH)return this.state=Z.BLOCKLEFT,!0;for(let Te=0;Te<je.length;Te++){const Ve=je[Te],{x:We,y:ut}=Ve;if(We===he&&ut===Se||We===ve&&ut===Ie)return this.state=Z.BLOCKLEFT,!0}if(Ot.some(Te=>Te.x===he&&Te.y===Se)&&(!_e||_e.turnable))return!1;if(!(Ce&&Ce.moveable&&(!_e||_e.turnable)))return this.state=Z.BLOCKLEFT,!0}else if(ot===Q.BOTTOM){if(he<0)return this.state=Z.BLOCKRIGHT,!0;const ve=xe-1,Ie=Se+1,Ce=($e=Ne[he])==null?void 0:$e[Se],_e=(yt=Ne[ve])==null?void 0:yt[Ie];if((Ue===he&&He===Se||Ue===ve&&He===Ie)&&vt!==Z.DEATH)return this.state=Z.BLOCKRIGHT,!0;for(let Te=0;Te<je.length;Te++){const Ve=je[Te],{x:We,y:ut}=Ve;if(We===he&&ut===Se||We===ve&&ut===Ie)return this.state=Z.BLOCKRIGHT,!0}if(Ot.some(Te=>Te.x===he&&Te.y===Se)&&(!_e||_e.turnable))return!1;if(!(Ce&&Ce.moveable&&(!_e||_e.turnable)))return this.state=Z.BLOCKRIGHT,!0}else if(ot===Q.LEFT){if(he<0)return this.state=Z.BLOCKFRONT,!0;const ve=xe-2,Ie=(Dt=Ne[he])==null?void 0:Dt[Se],Ce=(Er=Ne[ve])==null?void 0:Er[Se];if((Ue===he&&He===Se||Ue===ve&&He===Se)&&vt!==Z.DEATH)return this.state=Z.BLOCKFRONT,!0;for(let _e=0;_e<je.length;_e++){const Te=je[_e],{x:Ve,y:We}=Te;if(Ve===he&&We===Se||Ve===ve&&We===Se)return this.state=Z.BLOCKFRONT,!0}if(Ot.some(_e=>_e.x===he&&_e.y===Se)&&(!Ce||Ce.turnable))return!1;if(!(Ie&&Ie.moveable&&(!Ce||Ce.turnable)))return this.state=Z.BLOCKFRONT,!0}else if(ot===Q.RIGHT){if(he<0)return this.state=Z.BLOCKBACK,!0;const ve=xe,Ie=(Wr=Ne[he])==null?void 0:Wr[Se],Ce=(jt=Ne[ve])==null?void 0:jt[Se];if((Ue===he&&He===Se||Ue===ve&&He===Se)&&vt!==Z.DEATH)return this.state=Z.BLOCKBACK,!0;for(let _e=0;_e<je.length;_e++){const Te=je[_e],{x:Ve,y:We}=Te;if(Ve===he&&We===Se)return this.state=Z.BLOCKBACK,!0}if(Ot.some(_e=>_e.x===he&&_e.y===Se)&&(!Ce||Ce.turnable))return!1;if(!(Ie&&Ie.moveable&&(!Ce||Ce.turnable)))return this.state=Z.BLOCKBACK,!0}}else if(e===Ke.RIGHT){const he=xe+1;if(ot===Q.TOP){if(he>Cn-1)return this.state=Z.BLOCKRIGHT,!0;const ve=xe+1,Ie=Se-1,Ce=(xn=Ne[he])==null?void 0:xn[Se],_e=(Sn=Ne[ve])==null?void 0:Sn[Ie];if((Ue===he&&He===Se||Ue===ve&&He===Ie)&&vt!==Z.DEATH)return this.state=Z.BLOCKRIGHT,!0;for(let Te=0;Te<je.length;Te++){const Ve=je[Te],{x:We,y:ut}=Ve;if(We===he&&ut===Se||We===ve&&ut===Ie)return this.state=Z.BLOCKRIGHT,!0}if(Ot.some(Te=>Te.x===he&&Te.y===Se)&&(!_e||_e.turnable))return!1;if(!(Ce&&Ce.moveable&&(!_e||_e.turnable)))return this.state=Z.BLOCKRIGHT,!0}else if(ot===Q.BOTTOM){if(he>Cn-1)return this.state=Z.BLOCKLEFT,!0;const ve=xe+1,Ie=Se+1,Ce=(bn=Ne[he])==null?void 0:bn[Se],_e=(oa=Ne[ve])==null?void 0:oa[Ie];if((Ue===he&&He===Se||Ue===ve&&He===Ie)&&vt!==Z.DEATH)return this.state=Z.BLOCKLEFT,!0;for(let Te=0;Te<je.length;Te++){const Ve=je[Te],{x:We,y:ut}=Ve;if(We===he&&ut===Se||We===ve&&ut===Ie)return this.state=Z.BLOCKLEFT,!0}if(Ot.some(Te=>Te.x===he&&Te.y===Se)&&(!_e||_e.turnable))return!1;if(!(Ce&&Ce.moveable&&(!_e||_e.turnable)))return this.state=Z.BLOCKLEFT,!0}else if(ot===Q.LEFT){if(he>Cn-1)return this.state=Z.BLOCKBACK,!0;const ve=xe,Ie=(ua=Ne[he])==null?void 0:ua[Se],Ce=(la=Ne[ve])==null?void 0:la[Se];if((Ue===he&&He===Se||Ue===ve&&He===Se)&&vt!==Z.DEATH)return this.state=Z.BLOCKBACK,!0;for(let _e=0;_e<je.length;_e++){const Te=je[_e],{x:Ve,y:We}=Te;if(Ve===he&&We===Se)return this.state=Z.BLOCKBACK,!0}if(Ot.some(_e=>_e.x===he&&_e.y===Se)&&(!Ce||Ce.turnable))return!1;if(!(Ie&&Ie.moveable&&(!Ce||Ce.turnable)))return this.state=Z.BLOCKBACK,!0}else if(ot===Q.RIGHT){if(he>Cn-1)return this.state=Z.BLOCKFRONT,!0;const ve=xe+2,Ie=(ca=Ne[he])==null?void 0:ca[Se],Ce=(ha=Ne[ve])==null?void 0:ha[Se];if((Ue===he&&He===Se||Ue===ve&&He===Se)&&vt!==Z.DEATH)return this.state=Z.BLOCKFRONT,!0;for(let _e=0;_e<je.length;_e++){const Te=je[_e],{x:Ve,y:We}=Te;if(Ve===he&&We===Se||Ve===ve&&We===Se)return this.state=Z.BLOCKFRONT,!0}if(Ot.some(_e=>_e.x===he&&_e.y===Se)&&(!Ce||Ce.turnable))return!1;if(!(Ie&&Ie.moveable&&(!Ce||Ce.turnable)))return this.state=Z.BLOCKFRONT,!0}}else if(e===Ke.TURNLEFT){let he,ve;if(ot===Q.TOP?(he=Se-1,ve=xe-1):ot===Q.BOTTOM?(he=Se+1,ve=xe+1):ot===Q.LEFT?(he=Se+1,ve=xe-1):ot===Q.RIGHT&&(he=Se-1,ve=xe+1),(Ue===xe&&He===he||Ue===ve&&He===Se||Ue===ve&&He===he)&&vt!==Z.DEATH)return this.state=Z.BLOCKTURNLEFT,!0;for(let Ie=0;Ie<je.length;Ie++){const Ce=je[Ie],{x:_e,y:Te}=Ce;if(_e===ve&&Te===Se)return this.state=Z.BLOCKTURNLEFT,!0;if(_e===ve&&Te===he)return this.state=Z.BLOCKTURNLEFT,!0;if(_e===xe&&Te===he)return this.state=Z.BLOCKTURNLEFT,!0}if(!((!((fa=Ne[xe])==null?void 0:fa[he])||((pa=Ne[xe])==null?void 0:pa[he].turnable))&&(!((da=Ne[ve])==null?void 0:da[Se])||((_a=Ne[ve])==null?void 0:_a[Se].turnable))&&(!((ya=Ne[ve])==null?void 0:ya[he])||((va=Ne[ve])==null?void 0:va[he].turnable))))return this.state=Z.BLOCKTURNLEFT,!0}else if(e===Ke.TURNRIGHT){let he,ve;if(ot===Q.TOP?(ve=Se-1,he=xe+1):ot===Q.BOTTOM?(ve=Se+1,he=xe-1):ot===Q.LEFT?(ve=Se-1,he=xe-1):ot===Q.RIGHT&&(ve=Se+1,he=xe+1),(Ue===xe&&He===ve||Ue===he&&He===Se||Ue===he&&He===ve)&&vt!==Z.DEATH)return this.state=Z.BLOCKTURNRIGHT,!0;for(let Ie=0;Ie<je.length;Ie++){const Ce=je[Ie],{x:_e,y:Te}=Ce;if(_e===he&&Te===Se)return this.state=Z.BLOCKTURNRIGHT,!0;if(_e===he&&Te===ve)return this.state=Z.BLOCKTURNRIGHT,!0;if(_e===xe&&Te===ve)return this.state=Z.BLOCKTURNRIGHT,!0}if(!((!((ga=Ne[xe])==null?void 0:ga[ve])||((ma=Ne[xe])==null?void 0:ma[ve].turnable))&&(!((Ta=Ne[he])==null?void 0:Ta[Se])||((Oa=Ne[he])==null?void 0:Oa[Se].turnable))&&(!((Ea=Ne[he])==null?void 0:Ea[ve])||((La=Ne[he])==null?void 0:La[ve].turnable))))return this.state=Z.BLOCKTURNRIGHT,!0}return!1}}var H_=Object.defineProperty,Bs=Object.getOwnPropertySymbols,X_=Object.prototype.hasOwnProperty,j_=Object.prototype.propertyIsEnumerable,Ns=(t,e,r)=>e in t?H_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,K_=(t,e)=>{for(var r in e||(e={}))X_.call(e,r)&&Ns(t,r,e[r]);if(Bs)for(var r of Bs(e))j_.call(e,r)&&Ns(t,r,e[r]);return t};const V_=128,Y_=128,z_=t=>{const e=new tt("player",K_({size:{width:V_,height:Y_}},It()));return e.addComponent(new U_(t)),e};class dn extends qe{}class Z_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new dn(this.go,"door_idle_top")),this.states.set(Q.BOTTOM,new dn(this.go,"door_idle_top")),this.states.set(Q.LEFT,new dn(this.go,"door_idle_left")),this.states.set(Q.RIGHT,new dn(this.go,"door_idle_left"))}}class _n extends qe{}class $_ extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new _n(this.go,"door_death",1)),this.states.set(Q.BOTTOM,new _n(this.go,"door_death",1)),this.states.set(Q.LEFT,new _n(this.go,"door_death",1)),this.states.set(Q.RIGHT,new _n(this.go,"door_death",1))}}class J_ extends kt{init(){this.gameObject.addComponent(new St({autoPlay:!0,forwards:!0,resource:"door_idle_top",speed:1e3})),this.gameObject.addComponent(new ft),this.initParams()}start(){this.states.set(le.IDLE,new Z_(this.gameObject)),this.states.set(le.DEATH,new $_(this.gameObject)),this.currentState=this.states.get(le.IDLE)}initParams(){this.params.set(le.IDLE,{type:Ze.TRIGGER,value:!1}),this.params.set(le.DEATH,{type:Ze.TRIGGER,value:!1}),this.params.set(le.DIRECTION,{type:Ze.NUMBER,value:0})}update(){switch(this.currentState){case this.states.get(Z.IDLE):this.params.get(le.DEATH).value&&(this.currentState=this.states.get(Z.DEATH));break;case this.states.get(Z.DEATH):this.params.get(le.IDLE).value&&(this.currentState=this.states.get(le.IDLE));break;default:this.currentState=this.states.get(Z.IDLE);break}super.update()}}class Q_ extends Pt{init(e){this.gameObject.addComponent(new J_),super.init(e)}onDestroy(){}lateUpdate(){ye.Instance.enemies&&ye.Instance.enemies.every(e=>e.state===Z.DEATH)&&this.state!==Z.DEATH&&(this.state=Z.DEATH)}}var q_=Object.defineProperty,Ws=Object.getOwnPropertySymbols,ey=Object.prototype.hasOwnProperty,ty=Object.prototype.propertyIsEnumerable,ks=(t,e,r)=>e in t?q_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ry=(t,e)=>{for(var r in e||(e={}))ey.call(e,r)&&ks(t,r,e[r]);if(Ws)for(var r of Ws(e))ty.call(e,r)&&ks(t,r,e[r]);return t};const ny=128,iy=128,sy=t=>{const e=new tt("door",ry({size:{width:ny,height:iy}},It()));return e.addComponent(new Q_(t)),e};class yn extends qe{}class ay extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new yn(this.go,"woodenskeleton_idle_top")),this.states.set(Q.BOTTOM,new yn(this.go,"woodenskeleton_idle_bottom")),this.states.set(Q.LEFT,new yn(this.go,"woodenskeleton_idle_left")),this.states.set(Q.RIGHT,new yn(this.go,"woodenskeleton_idle_right"))}}class vn extends qe{}class oy extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new vn(this.go,"woodenskeleton_attack_top",1)),this.states.set(Q.BOTTOM,new vn(this.go,"woodenskeleton_attack_bottom",1)),this.states.set(Q.LEFT,new vn(this.go,"woodenskeleton_attack_left",1)),this.states.set(Q.RIGHT,new vn(this.go,"woodenskeleton_attack_right",1))}}class gn extends qe{}class uy extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new gn(this.go,"woodenskeleton_death_top",1)),this.states.set(Q.BOTTOM,new gn(this.go,"woodenskeleton_death_bottom",1)),this.states.set(Q.LEFT,new gn(this.go,"woodenskeleton_death_left",1)),this.states.set(Q.RIGHT,new gn(this.go,"woodenskeleton_death_right",1))}}class ly extends kt{init(){this.gameObject.addComponent(new St({autoPlay:!0,forwards:!0,resource:"woodenskeleton_idle_top",speed:1e3/8})),this.initParams()}start(){this.states.set(le.IDLE,new ay(this.gameObject)),this.states.set(le.ATTACK,new oy(this.gameObject)),this.states.set(le.DEATH,new uy(this.gameObject)),this.currentState=this.states.get(le.IDLE);const e=this.gameObject.getComponent(St);e.on("complete",()=>{e.resource.startsWith("woodenskeleton_attack")?this.gameObject.getComponent(ar).state=Z.IDLE:e.resource.startsWith("woodenskeleton_death")})}initParams(){this.params.set(le.IDLE,{type:Ze.TRIGGER,value:!1}),this.params.set(le.ATTACK,{type:Ze.TRIGGER,value:!1}),this.params.set(le.DEATH,{type:Ze.TRIGGER,value:!1}),this.params.set(le.DIRECTION,{type:Ze.NUMBER,value:0})}update(){switch(this.currentState){case this.states.get(Z.IDLE):this.params.get(le.ATTACK).value?this.currentState=this.states.get(Z.ATTACK):this.params.get(le.DEATH).value&&(this.currentState=this.states.get(Z.DEATH));break;case this.states.get(Z.ATTACK):this.params.get(le.IDLE).value?this.currentState=this.states.get(Z.IDLE):this.params.get(le.DEATH).value&&(this.currentState=this.states.get(Z.DEATH));break;case this.states.get(Z.DEATH):this.params.get(le.ATTACK).value?this.currentState=this.states.get(Z.ATTACK):this.params.get(le.IDLE).value&&(this.currentState=this.states.get(Z.IDLE));break;default:this.currentState=this.states.get(Z.IDLE);break}super.update()}}class cy extends ar{init(e){this.gameObject.addComponent(new ly),this.gameObject.addComponent(new ft(new ft({zIndex:1}))),super.init(e),this.type=oe.SKELETON_WOODEN,Pe.Instance.on(Me.PLAYER_MOVE_END,this.onAttack,this)}onAttack(){if(this.state===Z.DEATH)return;const{targetX:e,targetY:r,state:d}=ye.Instance.player;(e===this.x&&Math.abs(r-this.y)<=1||r===this.y&&Math.abs(e-this.x)<=1)&&d===Z.IDLE&&(this.state=Z.ATTACK,Pe.Instance.emit(Me.ATTACK_PLAYER,Z.DEATH))}onDestroy(){super.onDestroy(),Pe.Instance.off(Me.PLAYER_MOVE_END,this.onAttack)}}var hy=Object.defineProperty,Gs=Object.getOwnPropertySymbols,fy=Object.prototype.hasOwnProperty,py=Object.prototype.propertyIsEnumerable,Us=(t,e,r)=>e in t?hy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dy=(t,e)=>{for(var r in e||(e={}))fy.call(e,r)&&Us(t,r,e[r]);if(Gs)for(var r of Gs(e))py.call(e,r)&&Us(t,r,e[r]);return t};const _y=128,yy=128,vy=t=>{const e=new tt("woodenSkeleton",dy({size:{width:_y,height:yy}},It()));return e.addComponent(new cy(t)),e};class mn extends qe{}class gy extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new mn(this.go,"ironskeleton_idle_top")),this.states.set(Q.BOTTOM,new mn(this.go,"ironskeleton_idle_bottom")),this.states.set(Q.LEFT,new mn(this.go,"ironskeleton_idle_left")),this.states.set(Q.RIGHT,new mn(this.go,"ironskeleton_idle_right"))}}class Tn extends qe{}class my extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new Tn(this.go,"ironskeleton_death_top",1)),this.states.set(Q.BOTTOM,new Tn(this.go,"ironskeleton_death_bottom",1)),this.states.set(Q.LEFT,new Tn(this.go,"ironskeleton_death_left",1)),this.states.set(Q.RIGHT,new Tn(this.go,"ironskeleton_death_right",1))}}class Ty extends kt{init(){this.gameObject.addComponent(new St({autoPlay:!0,forwards:!0,resource:"ironskeleton_idle_top",speed:1e3/8})),this.initParams()}start(){this.states.set(le.IDLE,new gy(this.gameObject)),this.states.set(le.DEATH,new my(this.gameObject)),this.currentState=this.states.get(le.IDLE);const e=this.gameObject.getComponent(St);e.on("complete",()=>{e.resource.startsWith("ironskeleton_death")})}initParams(){this.params.set(le.IDLE,{type:Ze.TRIGGER,value:!1}),this.params.set(le.DEATH,{type:Ze.TRIGGER,value:!1}),this.params.set(le.DIRECTION,{type:Ze.NUMBER,value:0})}update(){switch(this.currentState){case this.states.get(Z.IDLE):this.params.get(le.DEATH).value&&(this.currentState=this.states.get(Z.DEATH));break;case this.states.get(Z.DEATH):this.params.get(le.IDLE).value&&(this.currentState=this.states.get(Z.IDLE));break;default:this.currentState=this.states.get(Z.IDLE);break}super.update()}}class Oy extends ar{init(e){this.gameObject.addComponent(new Ty),this.gameObject.addComponent(new ft(new ft({zIndex:1}))),super.init(e),this.type=oe.SKELETON_IRON}}var Ey=Object.defineProperty,Hs=Object.getOwnPropertySymbols,Ly=Object.prototype.hasOwnProperty,Ry=Object.prototype.propertyIsEnumerable,Xs=(t,e,r)=>e in t?Ey(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xy=(t,e)=>{for(var r in e||(e={}))Ly.call(e,r)&&Xs(t,r,e[r]);if(Hs)for(var r of Hs(e))Ry.call(e,r)&&Xs(t,r,e[r]);return t};const Sy=128,by=128,Cy=t=>{const e=new tt("ironSkeleton",xy({size:{width:Sy,height:by}},It()));return e.addComponent(new Oy(t)),e};class On extends qe{}class Iy extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new On(this.go,"smoke_idle_top",1)),this.states.set(Q.BOTTOM,new On(this.go,"smoke_idle_bottom",1)),this.states.set(Q.LEFT,new On(this.go,"smoke_idle_left",1)),this.states.set(Q.RIGHT,new On(this.go,"smoke_idle_right",1))}}class En extends qe{}class Ay extends ct{constructor(e){super(e);this.init()}init(){this.states.set(Q.TOP,new En(this.go,"smoke_death",1)),this.states.set(Q.BOTTOM,new En(this.go,"smoke_death",1)),this.states.set(Q.LEFT,new En(this.go,"smoke_death",1)),this.states.set(Q.RIGHT,new En(this.go,"smoke_death",1))}}class wy extends kt{init(){this.gameObject.addComponent(new St({autoPlay:!0,forwards:!0,resource:"smoke_idle_top",speed:1e3/12})),this.gameObject.addComponent(new ft),this.initParams()}start(){this.states.set(le.IDLE,new Iy(this.gameObject)),this.states.set(le.DEATH,new Ay(this.gameObject)),this.currentState=this.states.get(Z.IDLE);const e=this.gameObject.getComponent(St);e.on("complete",()=>{e.resource.startsWith("smoke_idle")&&(this.gameObject.getComponent(ar).state=Z.DEATH)})}initParams(){this.params.set(le.IDLE,{type:Ze.TRIGGER,value:!1}),this.params.set(le.DEATH,{type:Ze.TRIGGER,value:!1}),this.params.set(le.DIRECTION,{type:Ze.NUMBER,value:0})}update(){switch(this.currentState){case this.states.get(Z.IDLE):this.params.get(le.DEATH).value&&(this.currentState=this.states.get(le.DEATH));break;case this.states.get(Z.DEATH):this.params.get(le.IDLE).value&&(this.currentState=this.states.get(le.IDLE));break;default:this.currentState=this.states.get(Z.IDLE);break}super.update()}}class js extends Pt{init(e){this.gameObject.addComponent(new wy),super.init(e)}}var Py=Object.defineProperty,Ks=Object.getOwnPropertySymbols,My=Object.prototype.hasOwnProperty,Fy=Object.prototype.propertyIsEnumerable,Vs=(t,e,r)=>e in t?Py(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dy=(t,e)=>{for(var r in e||(e={}))My.call(e,r)&&Vs(t,r,e[r]);if(Ks)for(var r of Ks(e))Fy.call(e,r)&&Vs(t,r,e[r]);return t};const By=128,Ny=128,Wy=t=>{const e=new tt("smoke",Dy({size:{width:By,height:Ny}},It()));return e.addComponent(new js(t)),e};class ky extends qe{}class Gy extends qe{}class Uy extends qe{}class Hy extends kt{init(){this.gameObject.addComponent(new St({autoPlay:!0,forwards:!0,resource:"burst_idle",speed:1e3/8})),this.gameObject.addComponent(new ft(new ft({zIndex:0}))),this.initParams()}start(){this.states.set(Z.IDLE,new ky(this.gameObject,"burst_idle",1)),this.states.set(Z.ATTACK,new Gy(this.gameObject,"burst_attack",1)),this.states.set(Z.DEATH,new Uy(this.gameObject,"burst_death",1)),this.currentState=this.states.get(Z.IDLE);const e=this.gameObject.getComponent(St);e.on("complete",()=>{e.resource.startsWith("burst_death")})}initParams(){this.params.set(le.IDLE,{type:Ze.TRIGGER,value:!1}),this.params.set(le.ATTACK,{type:Ze.TRIGGER,value:!1}),this.params.set(le.DEATH,{type:Ze.TRIGGER,value:!1})}update(){switch(this.currentState){case this.states.get(Z.IDLE):this.params.get(le.ATTACK).value?this.currentState=this.states.get(Z.ATTACK):this.params.get(le.DEATH).value&&(this.currentState=this.states.get(Z.DEATH));break;case this.states.get(Z.ATTACK):this.params.get(le.IDLE).value?this.currentState=this.states.get(Z.IDLE):this.params.get(le.DEATH).value&&(this.currentState=this.states.get(Z.DEATH));break;case this.states.get(Z.DEATH):this.params.get(le.ATTACK).value?this.currentState=this.states.get(Z.ATTACK):this.params.get(le.IDLE).value&&(this.currentState=this.states.get(Z.IDLE));break;default:this.currentState=this.states.get(Z.IDLE);break}super.update()}}class Xy extends Pt{init(e){this.gameObject.addComponent(new Hy),super.init(e),Pe.Instance.on(Me.PLAYER_MOVE_END,this.onBurst,this)}onDestroy(){Pe.Instance.off(Me.PLAYER_MOVE_END,this.onBurst)}update(){this.gameObject.transform.position.x=this.x*ir,this.gameObject.transform.position.y=this.y*sr}onBurst(){if(this.state===Z.DEATH)return;const{targetX:e,targetY:r}=ye.Instance.player;this.x===e&&this.y===r&&this.state===Z.IDLE?this.state=Z.ATTACK:this.state===Z.ATTACK&&(this.state=Z.DEATH,this.x===e&&this.y===r&&Pe.Instance.emit(Me.ATTACK_PLAYER,Z.AIRDEATH))}}var jy=Object.defineProperty,Ys=Object.getOwnPropertySymbols,Ky=Object.prototype.hasOwnProperty,Vy=Object.prototype.propertyIsEnumerable,zs=(t,e,r)=>e in t?jy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yy=(t,e)=>{for(var r in e||(e={}))Ky.call(e,r)&&zs(t,r,e[r]);if(Ys)for(var r of Ys(e))Vy.call(e,r)&&zs(t,r,e[r]);return t};const zy=t=>{const e=new tt("burst",Yy({size:{width:ir,height:sr}},It()));return e.addComponent(new Xy(t)),e};class di extends qe{}class Zy extends mr{constructor(e){super(e);this.init()}init(){this.states.set(we.ZERO,new di(this.go,"spikes_one_zero",1)),this.states.set(we.ONE,new di(this.go,"spikes_one_one",1)),this.states.set(we.TWO,new di(this.go,"spikes_one_two",1))}update(){switch(this.currentState){case this.states.get(we.ZERO):this.switch(we.ZERO);break;case this.states.get(we.ONE):this.switch(we.ONE);break;case this.states.get(we.TWO):this.switch(we.TWO);break;default:this.currentState=this.states.get(we.ZERO);break}}switch(e){const r=this.params.get(le.CUR_POINT_COUNT).value;Xt[e]!==r&&(this.currentState=this.states.get(Xt[r]))}}class Ln extends qe{}class $y extends mr{constructor(e){super(e);this.init()}init(){this.states.set(we.ZERO,new Ln(this.go,"spikes_two_zero",1)),this.states.set(we.ONE,new Ln(this.go,"spikes_two_one",1)),this.states.set(we.TWO,new Ln(this.go,"spikes_two_two",1)),this.states.set(we.THREE,new Ln(this.go,"spikes_two_three",1))}update(){switch(this.currentState){case this.states.get(we.ZERO):this.switch(we.ZERO);break;case this.states.get(we.ONE):this.switch(we.ONE);break;case this.states.get(we.TWO):this.switch(we.TWO);break;case this.states.get(we.THREE):this.switch(we.THREE);break;default:this.currentState=this.states.get(we.ZERO);break}}switch(e){const r=this.params.get(le.CUR_POINT_COUNT).value;Xt[e]!==r&&(this.currentState=this.states.get(Xt[r]))}}class Nr extends qe{}class Jy extends mr{constructor(e){super(e);this.init()}init(){this.states.set(we.ZERO,new Nr(this.go,"spikes_three_zero",1)),this.states.set(we.ONE,new Nr(this.go,"spikes_three_one",1)),this.states.set(we.TWO,new Nr(this.go,"spikes_three_two",1)),this.states.set(we.THREE,new Nr(this.go,"spikes_three_three",1)),this.states.set(we.FOUR,new Nr(this.go,"spikes_three_four",1))}update(){switch(this.currentState){case this.states.get(we.ZERO):this.switch(we.ZERO);break;case this.states.get(we.ONE):this.switch(we.ONE);break;case this.states.get(we.TWO):this.switch(we.TWO);break;case this.states.get(we.THREE):this.switch(we.THREE);break;case this.states.get(we.FOUR):this.switch(we.FOUR);break;default:this.currentState=this.states.get(we.ZERO);break}}switch(e){const r=this.params.get(le.CUR_POINT_COUNT).value;Xt[e]!==r&&(this.currentState=this.states.get(Xt[r]))}}class Tr extends qe{}class Qy extends mr{constructor(e){super(e);this.init()}init(){this.states.set(we.ZERO,new Tr(this.go,"spikes_four_zero",1)),this.states.set(we.ONE,new Tr(this.go,"spikes_four_one",1)),this.states.set(we.TWO,new Tr(this.go,"spikes_four_two",1)),this.states.set(we.THREE,new Tr(this.go,"spikes_four_three",1)),this.states.set(we.FOUR,new Tr(this.go,"spikes_four_four",1)),this.states.set(we.FIVE,new Tr(this.go,"spikes_four_five",1))}update(){switch(this.currentState){case this.states.get(we.ZERO):this.switch(we.ZERO);break;case this.states.get(we.ONE):this.switch(we.ONE);break;case this.states.get(we.TWO):this.switch(we.TWO);break;case this.states.get(we.THREE):this.switch(we.THREE);break;case this.states.get(we.FOUR):this.switch(we.FOUR);break;case this.states.get(we.FIVE):this.switch(we.FIVE);break;default:this.currentState=this.states.get(we.ZERO);break}}switch(e){const r=this.params.get(le.CUR_POINT_COUNT).value;Xt[e]!==r&&(this.currentState=this.states.get(Xt[r]))}}class qy extends kt{init(){this.gameObject.addComponent(new St({autoPlay:!0,forwards:!0,resource:"spikes_one_zero",speed:1e3/8})),this.gameObject.addComponent(new ft(new ft({zIndex:0}))),this.initParams()}start(){this.states.set(oe.SPIKES_ONE,new Zy(this.gameObject)),this.states.set(oe.SPIKES_TWO,new $y(this.gameObject)),this.states.set(oe.SPIKES_THREE,new Jy(this.gameObject)),this.states.set(oe.SPIKES_FOUR,new Qy(this.gameObject));const e=this.params.get(le.SPIKES_TYPE).value;this.currentState=this.states.get(Vt[e]);const r=this.gameObject.getComponent(St),d=this.gameObject.getComponent(Rn);r.on("complete",()=>{(e===Vt.SPIKES_ONE&&r.resource.startsWith("spikes_one_two")||e===Vt.SPIKES_TWO&&r.resource.startsWith("spikes_two_three")||e===Vt.SPIKES_THREE&&r.resource.startsWith("spikes_three_four")||e===Vt.SPIKES_FOUR&&r.resource.startsWith("spikes_four_five"))&&d.backZero()})}initParams(){this.params.set(le.SPIKES_TYPE,{type:Ze.NUMBER,value:0}),this.params.set(le.CUR_POINT_COUNT,{type:Ze.NUMBER,value:1})}update(){super.update()}}class Rn extends lt{constructor(){super(...arguments);this._curPointCount=0}get curPointCount(){return this._curPointCount}set curPointCount(e){this._curPointCount=e,this.fsm&&this.fsm.setParams(le.CUR_POINT_COUNT,e)}init(e){this.fsm=this.gameObject.addComponent(new qy),this.x=e.x,this.y=e.y;const r=e.type;this.fsm.setParams(le.SPIKES_TYPE,Vt[r]),this.curPointCount=e.count,this.totalPointCount=Vt[r],Pe.Instance.on(Me.PLAYER_MOVE_END,this.onLoop,this)}update(){this.gameObject.transform.position.x=this.x*ir-16*3,this.gameObject.transform.position.y=this.y*sr-16*3}onDestroy(){Pe.Instance.off(Me.PLAYER_MOVE_END,this.onLoop)}onLoop(){this.curPointCount==this.totalPointCount?this.curPointCount=1:this.curPointCount++,this.onAttack()}backZero(){this.curPointCount=0}onAttack(){const{x:e,y:r}=ye.Instance.player;e===this.x&&r===this.y&&this.curPointCount===this.totalPointCount&&Pe.Instance.emit(Me.ATTACK_PLAYER,Z.DEATH)}}Rn.componentName="SpikesManager";var ev=Object.defineProperty,Zs=Object.getOwnPropertySymbols,tv=Object.prototype.hasOwnProperty,rv=Object.prototype.propertyIsEnumerable,$s=(t,e,r)=>e in t?ev(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nv=(t,e)=>{for(var r in e||(e={}))tv.call(e,r)&&$s(t,r,e[r]);if(Zs)for(var r of Zs(e))rv.call(e,r)&&$s(t,r,e[r]);return t};const iv=128,sv=128,av=t=>{const e=new tt("spikes",nv({size:{width:iv,height:sv}},It()));return e.addComponent(new Rn(t)),e};class _i extends lt{constructor(){super(...arguments);this.childrens=[]}init(){Pe.Instance.on(Me.PLAYER_MOVE_END,this.checkFinishCurLevel,this),Pe.Instance.on(Me.NEXT_LEVEL,this.nextLevel,this),Pe.Instance.on(Me.RESTART_LEVEL,this.initLevel,this),Pe.Instance.on(Me.SCREEN_SHAKE,this.onShake,this),Pe.Instance.on(Me.REVOKE_STEP,this.revoke,this),Pe.Instance.on(Me.RECORD_STEP,this.record,this),this.initLevel()}onDestroy(){Pe.Instance.off(Me.PLAYER_MOVE_END,this.checkFinishCurLevel,this),Pe.Instance.off(Me.NEXT_LEVEL,this.nextLevel,this),Pe.Instance.off(Me.RESTART_LEVEL,this.initLevel,this),Pe.Instance.off(Me.SCREEN_SHAKE,this.onShake,this),Pe.Instance.off(Me.REVOKE_STEP,this.revoke,this),Pe.Instance.off(Me.RECORD_STEP,this.record,this)}initLevel(){const e=O_["level"+ye.Instance.levelIndex];e?ye.Instance.fm.fadeIn(200).then(()=>{this.clearLevel(),console.log("level"+ye.Instance.levelIndex),this.isShaking=!1,ye.Instance.reset(),this.level=e,ye.Instance.mapInfo=this.level.mapInfo.concat(),ye.Instance.mapRowCount=this.level.mapInfo.length||0,ye.Instance.mapColumnCount=this.level.mapInfo[0].length||0,this.generateBackground(),this.generateDoor(),this.generateBursts(),this.generateSpikes(),this.generateEnemy(),this.generatePlayer(),Pe.Instance.emit(Me.BATTLE_LOADED),this.fixPos(),ye.Instance.fm.fadeOut(200)}):ye.Instance.fm.fadeIn(200).then(()=>{At.scene.destroy(),At.loadScene({scene:gi()})})}clearLevel(){this.childrens.forEach(e=>{e.destroy()}),this.childrens=[]}generateBackground(){const e=b_();this.gameObject.addChild(e),this.childrens.push(e)}generatePlayer(){if(!this.level.player){ye.Instance.player=null;return}const e=z_(this.level.player);this.gameObject.addChild(e),this.childrens.push(e),ye.Instance.player=e.getComponent(Pt)}generateEnemy(){if(!this.level.enemies){ye.Instance.enemies=[];return}const e=this.level.enemies.map(r=>{let d=null;return r.type===oe.SKELETON_WOODEN?d=vy(r):r.type===oe.SKELETON_IRON&&(d=Cy(r)),this.gameObject.addChild(d),this.childrens.push(d),d.getComponent(Pt)});ye.Instance.enemies=e}generateBursts(){if(!this.level.bursts){ye.Instance.bursts=[];return}const e=this.level.bursts.map(r=>{let d=null;return r.type===oe.BURST_FLOOR&&(d=zy(r)),this.gameObject.addChild(d),this.childrens.push(d),d.getComponent(Pt)});ye.Instance.bursts=e}generateSpikes(){if(!this.level.spikes){ye.Instance.spikes=[];return}const e=this.level.spikes.map(r=>{const d=av(r);return this.gameObject.addChild(d),this.childrens.push(d),d.getComponent(Rn)});ye.Instance.spikes=e}generateDoor(){if(!this.level.door){ye.Instance.door=null;return}const e=sy(this.level.door);this.gameObject.addChild(e),this.childrens.push(e),ye.Instance.door=e.getComponent(Pt)}generateSmoke(e,r,d){const R=ye.Instance.smokes.find(x=>x.state===Z.DEATH);if(R)R.x=e,R.y=r,R.state=Z.IDLE,R.direction=d;else{const x=Wy({x:e,y:r,direction:d,state:Z.IDLE});this.gameObject.addChild(x),this.childrens.push(x),ye.Instance.smokes.push(x.getComponent(js))}}checkFinishCurLevel(){const{x:e,y:r,state:d}=ye.Instance.door,{x:R,y:x}=ye.Instance.player;e===R&&r===x&&d===Z.DEATH&&Pe.Instance.emit(Me.NEXT_LEVEL)}nextLevel(){ye.Instance.levelIndex+=1,this.initLevel()}fixPos(){const{mapRowCount:e,mapColumnCount:r}=ye.Instance,d=(Mt-ir*e)/2,R=(Ft-sr*r)/2-50;this.gameObject.transform.position.x=d,this.gameObject.transform.position.y=R}onShake(e){this.isShaking||(this.isShaking=!0,this.shakeType=e,this.oldFrame=ye.Instance.frame,this.oldOffset=this.gameObject.transform.position)}onShakeUpdate(e=.8,r=300,d=6){if(this.isShaking){const R=(ye.Instance.frame-this.oldFrame)/60*1e3,x=(ye.Instance.frame-this.oldFrame)/60*2*Math.PI*d,W=e*Math.sin(x);this.shakeType===mt.TOP?this.gameObject.transform.position.y=this.oldOffset.y-W:this.shakeType===mt.BOTTOM?this.gameObject.transform.position.y=this.oldOffset.y+W:this.shakeType===mt.LEFT?this.gameObject.transform.position.x=this.oldOffset.x-W:this.shakeType===mt.RIGHT&&(this.gameObject.transform.position.x=this.oldOffset.x+W),R>r&&(this.gameObject.transform.position.x=this.oldOffset.x,this.gameObject.transform.position.y=this.oldOffset.y,this.isShaking=!1)}}update(){this.onShakeUpdate()}revoke(){const e=ye.Instance.records.pop();if(e){ye.Instance.player.x=ye.Instance.player.targetX=e.player.x,ye.Instance.player.y=ye.Instance.player.targetY=e.player.y,ye.Instance.player.state=e.player.state,ye.Instance.player.direction=e.player.direction;for(let r=0;r<e.enemies.length;r++){const d=e.enemies[r];ye.Instance.enemies[r].x=d.x,ye.Instance.enemies[r].y=d.y,ye.Instance.enemies[r].state=d.state,ye.Instance.enemies[r].direction=d.direction}for(let r=0;r<e.spikes.length;r++){const d=e.spikes[r];ye.Instance.spikes[r].x=d.x,ye.Instance.spikes[r].y=d.y,ye.Instance.spikes[r].curPointCount=d.curPointCount,ye.Instance.spikes[r].direction=d.direction}for(let r=0;r<e.bursts.length;r++){const d=e.bursts[r];ye.Instance.bursts[r].x=d.x,ye.Instance.bursts[r].y=d.y,ye.Instance.bursts[r].state=d.state}ye.Instance.door.x=e.door.x,ye.Instance.door.y=e.door.y,ye.Instance.door.state=e.door.state,ye.Instance.door.direction=e.door.direction}}record(){const e={player:{x:ye.Instance.player.targetX,y:ye.Instance.player.targetY,state:ye.Instance.player.state===Z.IDLE||ye.Instance.player.state===Z.DEATH||ye.Instance.player.state===Z.AIRDEATH?ye.Instance.player.state:Z.IDLE,direction:ye.Instance.player.direction},door:{x:ye.Instance.door.x,y:ye.Instance.door.y,state:ye.Instance.door.state,direction:ye.Instance.door.direction},enemies:ye.Instance.enemies.map(r=>({x:r.x,y:r.y,state:r.state,direction:r.direction})),spikes:ye.Instance.spikes.map(r=>({x:r.x,y:r.y,curPointCount:r.curPointCount})),bursts:ye.Instance.bursts.map(r=>({x:r.x,y:r.y,state:r.state}))};ye.Instance.records.push(e)}}_i.componentName="BattleManager";const Js=70,Qs=60,ov=3,uv=140,lv=t=>{const e=Math.floor((t-1)/2),r=(t-1)%2;return{x:(e-1)*Js,y:-uv+r*(Qs+ov)}},Or=(t,e)=>{const r=new tt("button",{size:{width:Js,height:Qs},position:lv(e),origin:{x:.5,y:.5},anchor:{x:.5,y:1}});r.addComponent(new gr({resource:"ctrl",spriteName:`ctrl (${e}).png`}));const d=r.addComponent(new rf);d.group={big:[{name:"scale.x",component:r.transform,values:[{time:0,value:.9,tween:"ease-out"},{time:100,value:1,tween:"ease-in"}]},{name:"scale.y",component:r.transform,values:[{time:0,value:.9,tween:"ease-out"},{time:100,value:1,tween:"ease-in"}]}],small:[{name:"scale.x",component:r.transform,values:[{time:0,value:1,tween:"ease-out"},{time:100,value:.9,tween:"ease-in"}]},{name:"scale.y",component:r.transform,values:[{time:0,value:1,tween:"ease-out"},{time:100,value:.9,tween:"ease-in"}]}]};const R=r.addComponent(new Pr);R.on("touchstart",()=>{d.play("small",1)});const x=()=>{d.play("big",1),Pe.Instance.emit(Me.PLAYER_CTRL,t)};return R.on("touchend",x),R.on("touchendoutside",x),r},cv=()=>{const t=new tt("controller",{position:{x:0,y:0},origin:{x:.5,y:1},anchor:{x:.5,y:1}});return t.addChild(Or(Ke.TURNLEFT,1)),t.addChild(Or(Ke.LEFT,2)),t.addChild(Or(Ke.TOP,3)),t.addChild(Or(Ke.BOTTOM,4)),t.addChild(Or(Ke.TURNRIGHT,5)),t.addChild(Or(Ke.RIGHT,6)),t.addComponent(new ft),t},hv=()=>{const t=new tt("footer",{position:{x:0,y:-16},origin:{x:.5,y:1},anchor:{x:.5,y:1}});return t.addComponent(new qr({text:"Cramped Room of Death Demo",style:{fontFamily:"Arial",fontSize:12,fontWeight:"bold",align:"center",fill:["#ccc"]}})),t.addComponent(new ft),t};class qs extends lt{constructor(){super(...arguments);this.oldFrame=0,this.duration=100,this.isFadingIn=!1,this.isFadingOut=!1}start(){this.render=this.gameObject.getComponent(ft)}update(){if(this.isFadingIn){const e=(ye.Instance.frame-this.oldFrame)/(60*this.duration/1e3);e<1?this.render.alpha=e:(this.render.alpha=1,this.isFadingIn=!1,this.fadeInPromiseResolve(null))}else if(this.isFadingOut){const e=(ye.Instance.frame-this.oldFrame)/(60*this.duration/1e3);e<1?this.render.alpha=1-e:(this.isFadingOut=!1,this.render.alpha=0,this.fadeOutPromiseResolve())}}fadeIn(e=100){return this.duration=e,this.isFadingIn=!0,this.isFadingOut=!1,this.oldFrame=ye.Instance.frame,this.fadeInPromise=new Promise(r=>{this.fadeInPromiseResolve=r}),this.fadeInPromise}fadeOut(e=100){return this.duration=e,this.isFadingOut=!0,this.isFadingIn=!1,this.oldFrame=ye.Instance.frame,this.fadeOutPromise=new Promise(r=>{this.fadeOutPromiseResolve=r}),this.fadeOutPromise}}qs.componentName="FaderManager";var fv=Object.defineProperty,ea=Object.getOwnPropertySymbols,pv=Object.prototype.hasOwnProperty,dv=Object.prototype.propertyIsEnumerable,ta=(t,e,r)=>e in t?fv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_v=(t,e)=>{for(var r in e||(e={}))pv.call(e,r)&&ta(t,r,e[r]);if(ea)for(var r of ea(e))dv.call(e,r)&&ta(t,r,e[r]);return t};const ra=()=>{const t=new tt("fader",_v({},It())),e=t.addComponent(new Br);t.addComponent(new ft({zIndex:5,alpha:0})),e.graphics.beginFill(0,1),e.graphics.drawRect(0,0,Mt,Ft),e.graphics.endFill();const r=new qs;return t.addComponent(r),ye.Instance.fm=r,t},yv=()=>{const t=new tt("restartButton",{size:{width:yi,height:vi},position:{x:0,y:20},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});t.addComponent(new gr({resource:"ctrl",spriteName:"ctrl (8).png"}));const e=t.addComponent(new Pr);e.on("touchstart",()=>{});const r=()=>{Pe.Instance.emit(Me.RESTART_LEVEL)};return e.on("touchend",r),e.on("touchendoutside",r),t},vv=()=>{const t=new tt("restartButton",{size:{width:yi,height:vi},position:{x:-90,y:20},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});t.addComponent(new gr({resource:"ctrl",spriteName:"ctrl (9).png"}));const e=t.addComponent(new Pr);e.on("touchstart",()=>{});const r=()=>{Pe.Instance.emit(Me.REVOKE_STEP)};return e.on("touchend",r),e.on("touchendoutside",r),t},gv=()=>{const t=new tt("restartButton",{size:{width:yi,height:vi},position:{x:90,y:20},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});t.addComponent(new gr({resource:"ctrl",spriteName:"ctrl (10).png"}));const e=t.addComponent(new Pr);e.on("touchstart",()=>{});const r=()=>{At.scene.destroy(),At.loadScene({scene:gi()})};return e.on("touchend",r),e.on("touchendoutside",r),t},yi=50,vi=64,mv=()=>{const t=new tt("menu",{position:{x:0,y:30+Af()},origin:{x:.5,y:.5},anchor:{x:.5,y:0}});return t.addChild(vv()),t.addChild(yv()),t.addChild(gv()),t.addComponent(new ft),t};var Tv=Object.defineProperty,na=Object.getOwnPropertySymbols,Ov=Object.prototype.hasOwnProperty,Ev=Object.prototype.propertyIsEnumerable,ia=(t,e,r)=>e in t?Tv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lv=(t,e)=>{for(var r in e||(e={}))Ov.call(e,r)&&ia(t,r,e[r]);if(na)for(var r of na(e))Ev.call(e,r)&&ia(t,r,e[r]);return t};const Rv=t=>{const e=new tt("backgroundColor",Lv({},It())),r=e.addComponent(new Br);e.addComponent(new ft({zIndex:8})),r.graphics.beginFill(0,1),r.graphics.drawRect(0,0,Mt,Ft),r.graphics.endFill(),t.addChild(e);const d=()=>{Pe.Instance.off(Me.BATTLE_LOADED,d),t.removeChild(e)};return Pe.Instance.on(Me.BATTLE_LOADED,d,void 0),e};var xv=Object.defineProperty,sa=Object.getOwnPropertySymbols,Sv=Object.prototype.hasOwnProperty,bv=Object.prototype.propertyIsEnumerable,aa=(t,e,r)=>e in t?xv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cv=(t,e)=>{for(var r in e||(e={}))Sv.call(e,r)&&aa(t,r,e[r]);if(sa)for(var r of sa(e))bv.call(e,r)&&aa(t,r,e[r]);return t};const Iv=()=>{const t=new Jr("battle");t.transform.size.width=Mt,t.transform.size.height=Ft,t.addComponent(new ft({sortableChildren:!0})),t.addChild(ra()),t.addChild(Bf());const e=new tt("container",Cv({},It()));return e.addComponent(new _i),e.addComponent(new ft({sortableChildren:!0})),t.addChild(e),t.addChild(cv()),t.addChild(mv()),t.addChild(hv()),t.addChild(Rv(t)),t},gi=()=>{const t=new Jr("menu");return t.transform.size.width=Mt,t.transform.size.height=Ft,t.addComponent(new ft({sortableChildren:!0})),t.addChild(ra()),ye.Instance.levelIndex=1,ye.Instance.fm.fadeOut(1e3),t.addChild(Sf()),t.addChild(xf()),t.addChild(Cf()),t.addChild(bf()),t.addComponent(new Pr).on("touchstart",()=>{ye.Instance.fm.fadeIn(300).then(()=>{At.scene.destroy(),At.loadScene({scene:Iv()})})}),t},Av=()=>{const t=new Jr("menu");t.transform.size.width=Mt,t.transform.size.height=Ft;const e=new tt("outer"),r=new tt("inner"),d=e.addComponent(new Br),R=r.addComponent(new Br);return d.graphics.beginFill(16777215,1),d.graphics.drawRect(60,Ft/2-50,Mt-120,50),d.graphics.endFill(),t.addChild(e),t.addChild(r),_t.on(Nt.PROGRESS,x=>{const W=x.resourceLoadedCount/x.resourceTotal;R.graphics.beginFill(16697903,1),R.graphics.drawRect(60,Ft/2-50,(Mt-120)*W,50),R.graphics.endFill()}),_t.on(Nt.COMPLETE,()=>{At.scene.destroy(),At.loadScene({scene:gi()})}),_t.preload(),t},Mt=375,Ft=667;_t.addResource(kc);let mi;window.wx?mi=window.canvas:mi=document.querySelector("#canvas");const At=new Pc({systems:[new Kt({canvas:mi,resolution:window.devicePixelRatio/2,width:Mt,height:Ft,antialias:!0}),new Sh,new sf,new Wh,new Xh,new Rf,new Ph,new pf,new gf]});At.ticker.add(()=>{ye.Instance.frame++}),At.loadScene({scene:Av()}),window.game=At})()})();
